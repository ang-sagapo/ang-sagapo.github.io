<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Why do learn?">
<meta property="og:type" content="website">
<meta property="og:title" content="ang&#39;s blog">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="ang&#39;s blog">
<meta property="og:description" content="Why do learn?">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Ang">
<meta property="article:tag" content="大学,Crypto,大作业">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>ang's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ang's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">en?</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/ang-sagapo" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/06/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ang.jpg">
      <meta itemprop="name" content="Ang">
      <meta itemprop="description" content="Why do learn?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ang's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/05/06/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F6/" class="post-title-link" itemprop="url">OS6</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-05-06 20:38:10" itemprop="dateCreated datePublished" datetime="2023-05-06T20:38:10+08:00">2023-05-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-11 17:29:04" itemprop="dateModified" datetime="2023-07-11T17:29:04+08:00">2023-07-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OS/" itemprop="url" rel="index"><span itemprop="name">OS</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="一、-实验题目"><a href="#一、-实验题目" class="headerlink" title="一、 实验题目"></a><strong>一、</strong> <strong>实验题目</strong></h3><p>阅读教材第18章（Linux案例），并在互联网上查阅相关资料，对照操作系统课程中所讲的原理（进程管理，存储管理，文件系统，设备管理），了解Linux操作系统实例</p>
<p>形成一份专题报告</p>
<p>可以是全面综述性报告</p>
<p>可以是侧重某一方面的报告（进程调度，进程间通信，存储管理，文件系统，安全）</p>
<h3 id="二、"><a href="#二、" class="headerlink" title="二、"></a><strong>二、</strong></h3><h4 id="Linux存储管理专题报告"><a href="#Linux存储管理专题报告" class="headerlink" title="Linux存储管理专题报告"></a>Linux存储管理专题报告</h4><h5 id="—-一篇”自问自答“的报告"><a href="#—-一篇”自问自答“的报告" class="headerlink" title="—-一篇”自问自答“的报告"></a>—-一篇”自问自答“的报告</h5><pre><code>     **写在前面：**大概在去年的这个时候，我在自己的电脑上安装了自己的双系统，Linux和Windows双系统切换使用，但是在安装双系统的过程中，有一个特别烦人的过程，那就是为linux系统分配硬盘存储，我暂且认为这是存储管理的一部分吧。所以，在这个专题报告中，我选择了存储管理这样一个小专题进行探究。
</code></pre>
<p>在这篇报告中，写了一些自己关于内存的理解，同时加入了linux系统对于存储管理的各种命令行操作的截图，让自己的理解更加深刻。</p>
<h5 id="1、内存概念介绍"><a href="#1、内存概念介绍" class="headerlink" title="1、内存概念介绍"></a>1、内存概念介绍</h5><p>​		了解到了linux系统中的内存概念有着物理内存和虚拟内存之分，首先我的初步印象中，内存就是一块一块的实际区域，用于存放相关的数据，何来虚拟和物理之分呢？</p>
<p>​	经过一番思索，终于有了特别形象的解释：那就是我之前玩过的单片机。单片机是没操作系统的，每次写完代码都需要工具把所谓的程序烧进去，此时单片机cpu直接操作的是物理地址。但是这就会产生一个问题，如果同时运行两个程序，这是不可能实现的，如果在第一个地址中写下了第一个程序，当我们将下一个程序写入到相同的物理地址时，下一个程序会覆盖掉上一个程序。再次思考，这个问题出现的根源是两个程序都引用了相同的绝对物理地址，为了解决这个问题，我们可以把进程所使用的地址「隔离」开来，即让操作系统为每个进程分配独立的一套「<strong>虚拟地址</strong>」，互不干涉。但是有个前提每个进程都不能访问物理地址，至于虚拟地址最终怎么落到物理内存里，对进程来说是透明的，由操作系自行安排。</p>
<p>​		这就是操作系统的一种机制：操作系统会将不同进程的虚拟地址和不同的物理地址映射起来。</p>
<p>​		如果程序要访问虚拟地址的时候，由操作系统转换成不同的物理地址，这样不同的进程运行的时候，写入的是不同的物理地址，这样就不会冲突了。</p>
<p>​		于是，这里就引出了两种地址的概念：</p>
<ul>
<li>我们程序所使用的内存地址叫做<strong>虚拟内存地址</strong>（<em>Virtual Memory Address</em>）</li>
<li>实际存在硬件里面的空间地址叫<strong>物理内存地址</strong>（<em>Physical Memory Address</em>）。</li>
</ul>
<p>操作系统引入了虚拟内存，进程持有的虚拟地址会通过 CPU 芯片中的内存管理单元（MMU）的映射关系，来转换变成物理地址，然后再通过物理地址访问内存，如下图所示：</p>
<p><img src="https://cdn.xiaolincoding.com//mysql/other/72ab76ba697e470b8ceb14d5fc5688d9.png" alt="img"></p>
<p>2、内存分段和内存分页</p>
<p>​		在这里提出第二个问题：操作系统如何管理物理地址和虚拟地址之间的关系？</p>
<p>​		主要的两种方式即为：内存分段和内存分页</p>
<h5 id="lt-1-gt-内存分段"><a href="#lt-1-gt-内存分段" class="headerlink" title="&lt;1&gt;内存分段"></a>&lt;1&gt;内存分段</h5><p>内存的分段是由内核负责管理的，每个进程都有自己的虚拟地址空间，它将虚拟地址转换为物理地址。</p>
<p>下面介绍一下Linux内存分段的几个主要部分：</p>
<ol>
<li>内核空间</li>
</ol>
<p>内核空间是操作系统内核使用的地址空间。在Linux中，内核空间通常是0xC0000000到0xFFFFFFFF，其大小为1GB。在内核空间中，包括了操作系统内核的代码、数据结构和系统调用接口等。</p>
<p>​	2.用户空间</p>
<p>用户空间是进程可以访问的地址空间。在Linux中，用户空间通常是0x00000000到0xBFFFFFFF，其大小为3GB。用户空间中包括了程序的代码、数据和堆栈等。不同的进程有自己独立的用户空间。</p>
<ol start="3">
<li>内核栈</li>
</ol>
<p>每个进程都有自己的内核栈，用于保存进程在内核模式下执行时的栈帧。在Linux中，内核栈通常是在进程控制块（process control block，PCB）中分配的。</p>
<ol start="4">
<li><p>用户栈</p>
<p>每个进程都有自己的用户栈，用于保存进程在用户模式下执行时的栈帧。在Linux中，用户栈通常是在进程的虚拟地址空间中分配的。</p>
</li>
</ol>
<p>除此之外，还有一些其他的内存分段：下面给出具体操作代码以及结果：</p>
<h5 id="lt-1-gt-查看内存使用情况："><a href="#lt-1-gt-查看内存使用情况：" class="headerlink" title="&lt;1&gt;查看内存使用情况："></a>&lt;1&gt;查看内存使用情况：</h5><p>可以使用top命令或free命令来查看系统的内存使用情况：</p>
<p><img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20230506203412294.png" alt="image-20230506203412294"></p>
<p>使用free命令可以查看系统的内存总量、已使用的内存和可用的内存等信息：</p>
<p><img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20230506203509773.png" alt="image-20230506203509773"></p>
<h5 id="lt-2-gt-查看内存进程映像："><a href="#lt-2-gt-查看内存进程映像：" class="headerlink" title="&lt;2&gt;查看内存进程映像："></a>&lt;2&gt;查看内存进程映像：</h5><p>使用pmap命令可以查看当前进程的内存映像：</p>
<p><img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20230506203614491.png" alt="image-20230506203614491"></p>
<h5 id="lt-3-gt-分配动态内存："><a href="#lt-3-gt-分配动态内存：" class="headerlink" title="&lt;3&gt;分配动态内存："></a>&lt;3&gt;分配动态内存：</h5><p>示例代码为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> *arr = <span class="built_in">malloc</span>(<span class="number">10</span> * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="keyword">if</span> (arr == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Failed to allocate memory!\n&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p>2、内存分页</p>
<p>分段的好处就是能产生连续的内存空间，但是会出现「外部内存碎片和内存交换的空间太大」的问题。</p>
<p>要解决这些问题，那么就要想出能少出现一些内存碎片的办法。另外，当需要进行内存交换的时候，让需要交换写入或者从磁盘装载的数据更少一点，这样就可以解决问题了。这个办法，也就是<strong>内存分页****分页是把整个虚拟和物理内存空间切成一段段固定尺寸的大小</strong>。*这样一个连续并且尺寸固定的内存空间，我们叫<strong>页。</strong>在 Linux 下，每一页的大小为 <code>4KB</code>。虚拟地址与物理地址之间通过<strong>页表</strong>来映射。</p>
<p>页表是存储在内存里的，<strong>内存管理单元</strong> （<em>MMU</em>）就做将虚拟内存地址转换成物理地址的工作。</p>
<p>而当进程访问的虚拟地址在页表中查不到时，系统会产生一个<strong>缺页异常</strong>，进入系统内核空间分配物理内存、更新进程页表，最后再返回用户空间，恢复进程的运行。内存分页由于内存空间都是预先划分好的，也就不会像内存分段一样，在段与段之间会产生间隙非常小的内存，这正是分段会产生外部内存碎片的原因。而<strong>采用了分页，页与页之间是紧密排列的，所以不会有外部碎片。</strong></p>
<p>但是，因为内存分页机制分配内存的最小单位是一页，即使程序不足一页大小，我们最少只能分配一个页，所以页内会出现内存浪费，所以针对<strong>内存分页机制会有内部内存碎片</strong>的现象。</p>
<p>如果内存空间不够，操作系统会把其他正在运行的进程中的「最近没被使用」的内存页面给释放掉，也就是暂时写在硬盘上，称为<strong>换出</strong>（<em>Swap Out</em>）。一旦需要的时候，再加载进来，称为<strong>换入</strong>（<em>Swap In</em>）。所以，一次性写入磁盘的也只有少数的一个页或者几个页，不会花太多时间，<strong>内存交换的效率就相对比较高。</strong></p>
<p>找到了一张特别形象的图片：</p>
<p><img src="https://cdn.xiaolincoding.com//mysql/other/388a29f45fe947e5a49240e4eff13538-20230309234651917.png" alt="img"></p>
<p>更进一步地，分页的方式使得我们在加载程序的时候，不再需要一次性都把程序加载到物理内存中。我们完全可以在进行虚拟内存和物理内存的页之间的映射之后，并不真的把页加载到物理内存里，而是<strong>只有在程序运行中，需要用到对应虚拟内存页里面的指令和数据时，再加载到物理内存里面去。</strong>在分页机制下，虚拟地址分为两部分，<strong>页号</strong>和<strong>页内偏移</strong>。页号作为页表的索引，<strong>页表</strong>包含物理页每页所在<strong>物理内存的基地址</strong>，这个基地址与页内偏移的组合就形成了物理内存地址。</p>
<p>总结一下，对于一个内存地址转换，其实就是这样三个步骤：</p>
<ul>
<li>把虚拟内存地址，切分成页号和偏移量；</li>
<li>根据页号，从页表里面，查询对应的物理页号；</li>
<li>直接拿物理页号，加上前面的偏移量，就得到了物理内存地址。</li>
</ul>
<h4 id="2、具体内存管理操作："><a href="#2、具体内存管理操作：" class="headerlink" title="2、具体内存管理操作："></a>2、具体内存管理操作：</h4><h5 id="lt-1-gt-分区管理："><a href="#lt-1-gt-分区管理：" class="headerlink" title="&lt;1&gt;分区管理："></a>&lt;1&gt;分区管理：</h5><p>在Linux系统中，可以使用分区来将磁盘划分为不同的逻辑部分，以便对其进行管理。每个分区可以包含一个文件系统，并且可以与一个目录进行挂载，以便用户可以访问其文件。Linux支持多种分区类型，包括MBR、GPT、LVM等。</p>
<p>下面调用fdisk命令才管理磁盘分区查看系统上所有磁盘的分区情况：</p>
<p><img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20230506204807614.png" alt="image-20230506204807614"></p>
<h5 id="lt-2-gt-磁盘配额管理："><a href="#lt-2-gt-磁盘配额管理：" class="headerlink" title="&lt;2&gt;磁盘配额管理："></a>&lt;2&gt;磁盘配额管理：</h5><p>Linux提供了磁盘配额管理功能，可以限制用户或组的磁盘使用量，避免出现磁盘空间被滥用的情况。磁盘配额管理可以对整个文件系统或单个目录进行设置，并且可以设置硬配额和软配额。</p>
<p>硬配额表示达到配额限制后用户不能再创建新的文件或扩展现有文件，而软配额表示用户可以超过配额限制一段时间，但会受到警告。</p>
<p>要启用磁盘配额管理，需要在文件系统中创建quota数据库文件，并挂载文件系统时指定quota选项。然后，可以使用quota命令设置和管理配额。</p>
<h5 id="lt-3-gt-RAID技术"><a href="#lt-3-gt-RAID技术" class="headerlink" title="&lt;3&gt;RAID技术"></a>&lt;3&gt;RAID技术</h5><p>RAID技术（Redundant Array of Inexpensive Disks）是一种利用多个硬盘驱动器来组成一个更大、更可靠的存储系统的技术。通过将多个硬盘组合成一个逻辑卷，RAID技术可以提高磁盘系统的性能、容错性和可靠性。</p>
<p>Linux支持多种RAID级别，包括RAID 0、RAID 1、RAID 5、RAID 6、RAID 10等。不同的RAID级别有不同的性能和容错特性，可以根据实际需求选择。</p>
<p>要在Linux系统中配置RAID，需要先安装相应的RAID控制器和软件，然后通过软件或命令行工具进行配置和管理。例如，可以使用mdadm命令来创建、管理和监视软件RAID。RAID技术是一种有效的存储管理技术，可以提高磁盘系统的性能、容错性和可靠性。Linux提供了多种RAID级别的支持，并且可以使用命令行工具进行配置和管理。</p>
<h5 id="lt-4-gt-LVM技术"><a href="#lt-4-gt-LVM技术" class="headerlink" title="&lt;4&gt;LVM技术"></a>&lt;4&gt;LVM技术</h5><p>LVM（Logical Volume Manager）是一种逻辑卷管理器，它允许用户将多个硬盘分区或整个硬盘组合成一个或多个逻辑卷。逻辑卷可以动态调整大小和移动，从而使存储管理更加灵活和高效。</p>
<p>LVM由三个主要组件组成：物理卷（PV）、卷组（VG）和逻辑卷（LV）。物理卷是硬盘分区或整个硬盘，卷组是多个物理卷的组合，逻辑卷是卷组中的逻辑分区。</p>
<p>在Linux系统中，可以使用pvcreate、vgcreate和lvcreate等命令来创建物理卷、卷组和逻辑卷。LVM是一种强大的存储管理技术，允许用户将多个硬盘分区或整个硬盘组合成一个或多个逻辑卷。在Linux系统中，可以使用pvcreate、vgcreate和lvcreate等命令来创建物理卷、卷组和逻辑卷。逻辑卷可以动态调整大小和移动，从而使存储管理更加灵活和高效。</p>
<h5 id="lt-5-gt-设备管理"><a href="#lt-5-gt-设备管理" class="headerlink" title="&lt;5&gt;设备管理"></a>&lt;5&gt;设备管理</h5><p>查看系统中设备的具体使用情况为：</p>
<p><img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20230506205747391.png" alt="image-20230506205747391"></p>
<p>然后查看系统中被使用的设备：</p>
<p><img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20230506205830556.png" alt="image-20230506205830556"></p>
<p>最后查看系统中被识别的设备：</p>
<p><img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20230506205925128.png" alt="image-20230506205925128"></p>
<h5 id="lt-6-gt-文件系统管理："><a href="#lt-6-gt-文件系统管理：" class="headerlink" title="&lt;6&gt;文件系统管理："></a>&lt;6&gt;文件系统管理：</h5><p>用户在硬件存储设备中执行的文件建立、写入、读取、修改、转存与控制等操作都是依靠文件系统来完成的。文件系统的作用是合理规划硬盘，以保证用户正常的使用需求。Linux系统支持数十种的文件系统，而最常见的文件系统如下所示。</p>
<p>Ext3：是一款日志文件系统，能够在系统异常宕机时避免文件系统资料丢失，并能自动修复数据的不一致与错误。然而，当硬盘容量较大时，所需的修复时间也会很长，而且也不能百分之百地保证资料不会丢失。它会把整个磁盘的每个写入动作的细节都预先记录下来，以便在发生异常宕机后能回溯追踪到被中断的部分，然后尝试进行修复。</p>
<p>Ext4：Ext3的改进版本，作为RHEL 6系统中的默认文件管理系统，它支持的存储容量高达1EB（1EB&#x3D;1,073,741,824GB），且能够有无限多的子目录。另外，Ext4文件系统能够批量分配block块，从而极大地提高了读写效率。</p>
<p>XFS：是一种高性能的日志文件系统，而且是RHEL 7中默认的文件管理系统，它的优势在发生意外宕机后尤其明显，即可以快速地恢复可能被破坏的文件，而且强大的日志功能只用花费极低的计算和存储性能。并且它最大可支持的存储容量为18EB，这几乎满足了所有需求。</p>
<p>就像拿到了一张未裁切的完整纸张，我们首先要进行裁切以方便使用，然后在裁切后的纸张上画格以便能书写工整。在拿到了一块新的硬盘存储设备后，也需要先分区，然后再格式化文件系统，最后才能挂载并正常使用。硬盘的分区操作取决于您的需求和硬盘大小；您也可以选择不进行分区，但是必须对硬盘进行格式化处理。</p>
<h5 id="设备中文件的查找"><a href="#设备中文件的查找" class="headerlink" title="设备中文件的查找"></a>设备中文件的查找</h5><h5 id="find-命令是-Linux-中用于查找文件和目录的强大工具。它可以在指定目录下递归查找文件，并根据文件名、文件大小、文件类型、文件修改时间等多种条件进行筛选"><a href="#find-命令是-Linux-中用于查找文件和目录的强大工具。它可以在指定目录下递归查找文件，并根据文件名、文件大小、文件类型、文件修改时间等多种条件进行筛选" class="headerlink" title="find 命令是 Linux 中用于查找文件和目录的强大工具。它可以在指定目录下递归查找文件，并根据文件名、文件大小、文件类型、文件修改时间等多种条件进行筛选"></a><code>find</code> 命令是 Linux 中用于查找文件和目录的强大工具。它可以在指定目录下递归查找文件，并根据文件名、文件大小、文件类型、文件修改时间等多种条件进行筛选</h5><img src="file:///C:\Users\20191\AppData\Local\Temp\ksohtml4248\wps5.jpg" alt="img"  />

<p>首先查看当前目录以及子目录中的所有的文件：</p>
<p><img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20230506213825305.png" alt="image-20230506213825305"></p>
<p>下面按照文件类型查看文件：</p>
<p><img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20230506214006266.png" alt="image-20230506214006266"></p>
<h5 id="lt-7-gt-磁盘硬件挂载"><a href="#lt-7-gt-磁盘硬件挂载" class="headerlink" title="&lt;7&gt;磁盘硬件挂载"></a>&lt;7&gt;磁盘硬件挂载</h5><p>我们在用惯了Windows系统后总觉得一切都是理所当然的，平时把U盘插入到电脑后也从来没有考虑过Windows系统做了哪些事情，才使得我们可以访问这个U盘的。接下来我们会逐一学习在Linux系统中挂载和卸载存储设备的方法，以便大家更好地了解Linux系统添加硬件设备的工作原理和流程。在拿到一块全新的硬盘存储设备后要先分区，然后格式化，最后才能挂载并正常使用。“分区”和“格式化”大家以前经常听到，但“挂载”又是什么呢？最简单、最贴切的解释—当用户需要使用硬盘设备或分区中的数据时，需要先将其与一个已存在的目录文件进行关联，而这个关联动作就是“挂载”。</p>
<p>在 Linux 系统中，可以使用 <code>mount</code> 命令来挂载硬盘设备。<code>mount</code> 命令的语法为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount [-t &lt;type&gt;] [-o &lt;options&gt;] &lt;device&gt; &lt;dir&gt;</span><br></pre></td></tr></table></figure>

<p>其中，<code>-t</code> 选项用于指定文件系统类型，例如 ext4、xfs 等。<code>-o</code> 选项用于指定挂载选项，例如读写权限、权限控制等。<code>&lt;device&gt;</code> 参数指定要挂载的设备，例如 <code>/dev/sdb1</code>。<code>&lt;dir&gt;</code> 参数指定挂载点，即挂载设备后的目录。</p>
<p>下面是具体操作：</p>
<p>此命令查看了正在被系统挂载的设备：</p>
<p><img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20230506215045095.png" alt="image-20230506215045095"></p>
<h5 id="lt-8-gt-自动挂载硬盘设备："><a href="#lt-8-gt-自动挂载硬盘设备：" class="headerlink" title="&lt;8&gt;自动挂载硬盘设备："></a>&lt;8&gt;自动挂载硬盘设备：</h5><p>为了使得硬盘设备在系统启动时能够自动挂载，需要将挂载信息添加到 <code>/etc/fstab</code> 文件中。<code>/etc/fstab</code> 文件记录了系统启动时需要挂载的文件系统信息，其中当一个硬盘被插入到计算机中时，操作系统需要识别它并将其作为一个文件系统挂载到文件树中。挂载是将存储设备与文件系统目录树相连的过程，使得用户能够在该目录下访问该存储设备中的文件。</p>
<p>在Linux中，磁盘的挂载操作可以通过命令行或者文件系统表（&#x2F;etc&#x2F;fstab）来完成。</p>
<h5 id="1-命令行挂载"><a href="#1-命令行挂载" class="headerlink" title="1.命令行挂载"></a>1.命令行挂载</h5><p>命令行挂载是一种在命令行中执行的磁盘挂载操作。首先需要创建一个挂载点（mount point），挂载点是指一个用于挂载设备的目录，可以在文件系统中的任何地方创建。</p>
<h5 id="2-文件系统挂载"><a href="#2-文件系统挂载" class="headerlink" title="2.文件系统挂载"></a>2.文件系统挂载</h5><p>文件系统表（&#x2F;etc&#x2F;fstab）是一个用于配置系统启动时自动挂载磁盘的文件。在文件系统表中，每一行代表一个磁盘挂载操作，包含了磁盘设备、挂载点、文件系统类型、挂载选项等信息。下面是一个文件系统表的示例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/dev/sdb1 /mydisk ext4 defaults 0 0</span><br></pre></td></tr></table></figure>

<p>其中，第一列是磁盘设备名称，第二列是挂载点目录，第三列是文件系统类型（例如ext4、ntfs等），第四列是挂载选项（例如defaults、noatime等），第五列是dump选项，第六列是fsck选项。</p>
<p>在编辑文件系统表时，需要注意以下几点：</p>
<ul>
<li>在编辑文件系统表前，最好备份一下该文件，避免修改错误导致系统无法启动。</li>
<li>如果挂载点目录不存在，需要先创建该目录。</li>
<li>文件系统表中的每一行必须以换行符（\n）结尾。</li>
<li>文件系统表中以#开头的行表示注释，不会被挂载。</li>
</ul>
<h5 id="lt-9-gt-交换分区"><a href="#lt-9-gt-交换分区" class="headerlink" title="&lt;9&gt;交换分区"></a>&lt;9&gt;交换分区</h5><p>Linux系统的交换分区（swap partition）是指用于临时存储内存中未使用的数据和进程的内存页的一部分硬盘空间。当系统内存不足时，Linux会将一部分不常用的内存页移动到交换分区中，从而释放出内存空间以供更重要的进程使用。交换分区的作用类似于Windows中的虚拟内存（virtual memory）。</p>
<p>通常，Linux系统的交换分区会在安装时就被创建并格式化。交换分区可以是一个独立的分区，也可以是一个文件，但独立分区的性能更好，因为它们更接近物理硬盘。交换分区的创建过程与前文讲到的挂载并使用存储设备的过程非常相似。在对&#x2F;dev&#x2F;sdb存储设备进行分区操作前，有必要先说一下交换分区的划分建议：在生产环境中，交换分区的大小一般为真实物理内存的1.5～2倍，为了让大家更明显地感受交换分区空间的变化，这里取出一个大小为5GB的主分区作为交换分区资源。在分区创建完毕后保存并退出即可。</p>
<p>在Linux中，可以使用swapon和swapoff命令来管理交换分区。swapon命令用于启用交换分区，swapoff命令用于禁用交换分区。</p>
<p>下面是具体操作：</p>
<h5 id="查看系统中真实存在的设备："><a href="#查看系统中真实存在的设备：" class="headerlink" title="查看系统中真实存在的设备："></a>查看系统中真实存在的设备：</h5><p><img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20230506215411223.png" alt="image-20230506215411223"></p>
<h5 id="启用-x2F-dev-x2F-sda3作为交换分区"><a href="#启用-x2F-dev-x2F-sda3作为交换分区" class="headerlink" title="启用&#x2F;dev&#x2F;sda3作为交换分区"></a>启用&#x2F;dev&#x2F;sda3作为交换分区</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo swapon /dev/sda3</span><br></pre></td></tr></table></figure>

<h5 id="要禁用交换分区，可以使用以下命令"><a href="#要禁用交换分区，可以使用以下命令" class="headerlink" title="要禁用交换分区，可以使用以下命令"></a>要禁用交换分区，可以使用以下命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo swapoff /dev/sda3</span><br></pre></td></tr></table></figure>

<h5 id="可以使用free命令来查看交换分区的使用情况。该命令将显示交换分区的大小、已用空间、可用空间以及交换分区是否正在使用。"><a href="#可以使用free命令来查看交换分区的使用情况。该命令将显示交换分区的大小、已用空间、可用空间以及交换分区是否正在使用。" class="headerlink" title="可以使用free命令来查看交换分区的使用情况。该命令将显示交换分区的大小、已用空间、可用空间以及交换分区是否正在使用。"></a>可以使用free命令来查看交换分区的使用情况。该命令将显示交换分区的大小、已用空间、可用空间以及交换分区是否正在使用。</h5><p><img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20230506215935229.png" alt="image-20230506215935229"></p>
<p>最后总结一下：</p>
<p>为了在多进程环境下，使得进程之间的内存地址不受影响，相互隔离，于是操作系统就为每个进程独立分配一套<strong>虚拟地址空间</strong>，每个程序只关心自己的虚拟地址就可以，实际上大家的虚拟地址都是一样的，但分布到物理地址内存是不一样的。作为程序，也不用关心物理地址的事情。</p>
<p>每个进程都有自己的虚拟空间，而物理内存只有一个，所以当启用了大量的进程，物理内存必然会很紧张，于是操作系统会通过<strong>内存交换</strong>技术，把不常使用的内存暂时存放到硬盘（换出），在需要的时候再装载回物理内存（换入）。</p>
<p>那既然有了虚拟地址空间，那必然要把虚拟地址「映射」到物理地址，这个事情通常由操作系统来维护。</p>
<p>那么对于虚拟地址与物理地址的映射关系，可以有<strong>分段</strong>和<strong>分页</strong>的方式，同时两者结合都是可以的。</p>
<p>内存分段是根据程序的逻辑角度，分成了栈段、堆段、数据段、代码段等，这样可以分离出不同属性的段，同时是一块连续的空间。但是每个段的大小都不是统一的，这就会导致外部内存碎片和内存交换效率低的问题。</p>
<p>于是，就出现了内存分页，把虚拟空间和物理空间分成大小固定的页，如在 Linux 系统中，每一页的大小为 <code>4KB</code>。由于分了页后，就不会产生细小的内存碎片，解决了内存分段的外部内存碎片问题。同时在内存交换的时候，写入硬盘也就一个页或几个页，这就大大提高了内存交换的效率。</p>
<p>再来，为了解决简单分页产生的页表过大的问题，就有了<strong>多级页表</strong>，它解决了空间上的问题，但这就会导致 CPU 在寻址的过程中，需要有很多层表参与，加大了时间上的开销。于是根据程序的<strong>局部性原理</strong>，在 CPU 芯片中加入了 <strong>TLB</strong>，负责缓存最近常被访问的页表项，大大提高了地址的转换速度。</p>
<p><strong>Linux 系统主要采用了分页管理，但是由于 Intel 处理器的发展史，Linux 系统无法避免分段管理</strong>。于是 Linux 就把所有段的基地址设为 <code>0</code>，也就意味着所有程序的地址空间都是线性地址空间（虚拟地址），相当于屏蔽了 CPU 逻辑地址的概念，所以段只被用于访问控制和内存保护。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/03/26/coppersmith/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ang.jpg">
      <meta itemprop="name" content="Ang">
      <meta itemprop="description" content="Why do learn?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ang's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/26/coppersmith/" class="post-title-link" itemprop="url">Ctf练习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-03-26 22:18:50" itemprop="dateCreated datePublished" datetime="2023-03-26T22:18:50+08:00">2023-03-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-11 17:28:38" itemprop="dateModified" datetime="2023-07-11T17:28:38+08:00">2023-07-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Crypto/" itemprop="url" rel="index"><span itemprop="name">Crypto</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h5 id="2-1-示例一"><a href="#2-1-示例一" class="headerlink" title="2.1 示例一"></a>2.1 示例一</h5><h5 id="N-x3D-179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639477074095512480796227391561801824887394139579933613278628104952355769470429079061808809522886423955917442317693387325171135071792698344550223571732405562649211"><a href="#N-x3D-179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639477074095512480796227391561801824887394139579933613278628104952355769470429079061808809522886423955917442317693387325171135071792698344550223571732405562649211" class="headerlink" title="N &#x3D; 179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639477074095512480796227391561801824887394139579933613278628104952355769470429079061808809522886423955917442317693387325171135071792698344550223571732405562649211"></a>N &#x3D; 179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639477074095512480796227391561801824887394139579933613278628104952355769470429079061808809522886423955917442317693387325171135071792698344550223571732405562649211</h5><h5 id="C-x3D-179769313486231590772930519078879918173304939703457226373275247148595498759717648122918281796652009802987669006925212794207879662511415896044452932898704049018688901059103708542193959190783144422816477633612563780683282959788789236360344669112860717536812210743214198827228145383454293387005012636745015334547"><a href="#C-x3D-179769313486231590772930519078879918173304939703457226373275247148595498759717648122918281796652009802987669006925212794207879662511415896044452932898704049018688901059103708542193959190783144422816477633612563780683282959788789236360344669112860717536812210743214198827228145383454293387005012636745015334547" class="headerlink" title="C &#x3D; 179769313486231590772930519078879918173304939703457226373275247148595498759717648122918281796652009802987669006925212794207879662511415896044452932898704049018688901059103708542193959190783144422816477633612563780683282959788789236360344669112860717536812210743214198827228145383454293387005012636745015334547"></a>C &#x3D; 179769313486231590772930519078879918173304939703457226373275247148595498759717648122918281796652009802987669006925212794207879662511415896044452932898704049018688901059103708542193959190783144422816477633612563780683282959788789236360344669112860717536812210743214198827228145383454293387005012636745015334547</h5><h5 id="K-known-x3D-179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639474124377767893424865485276302219601246094119453082952085005768838150682342462881473913110540827235556412466425596022697985153597317113782632362546831388835840"><a href="#K-known-x3D-179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639474124377767893424865485276302219601246094119453082952085005768838150682342462881473913110540827235556412466425596022697985153597317113782632362546831388835840" class="headerlink" title="K_known &#x3D; 179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639474124377767893424865485276302219601246094119453082952085005768838150682342462881473913110540827235556412466425596022697985153597317113782632362546831388835840"></a>K_known &#x3D; 179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639474124377767893424865485276302219601246094119453082952085005768838150682342462881473913110540827235556412466425596022697985153597317113782632362546831388835840</h5><h5 id="e-x3D-3"><a href="#e-x3D-3" class="headerlink" title="e&#x3D;3,"></a>e&#x3D;3,</h5><h5 id="求M，其中M-x3D-K-known-x-0，即求x-0"><a href="#求M，其中M-x3D-K-known-x-0，即求x-0" class="headerlink" title="求M，其中M &#x3D; K_known+x_0，即求x_0."></a>求M，其中M &#x3D; K_known+x_0，即求x_0.</h5><p>x0 &#x3D; </p>
<h5 id="2-2示例二"><a href="#2-2示例二" class="headerlink" title="2.2示例二"></a>2.2示例二</h5><h5 id="N-x3D-564761954589225685790600357175654927630507102952458240533488436763726131946307269500484579650103183883365719004294487534489841240202553161677917446702576880580483049669620695517848610900355474290043985788683180202610956370314542593233068920908309907035416313647682738795572793559472040741450305208268946934787"><a href="#N-x3D-564761954589225685790600357175654927630507102952458240533488436763726131946307269500484579650103183883365719004294487534489841240202553161677917446702576880580483049669620695517848610900355474290043985788683180202610956370314542593233068920908309907035416313647682738795572793559472040741450305208268946934787" class="headerlink" title="N&#x3D;564761954589225685790600357175654927630507102952458240533488436763726131946307269500484579650103183883365719004294487534489841240202553161677917446702576880580483049669620695517848610900355474290043985788683180202610956370314542593233068920908309907035416313647682738795572793559472040741450305208268946934787"></a>N&#x3D;564761954589225685790600357175654927630507102952458240533488436763726131946307269500484579650103183883365719004294487534489841240202553161677917446702576880580483049669620695517848610900355474290043985788683180202610956370314542593233068920908309907035416313647682738795572793559472040741450305208268946934787</h5><h5 id="qbar-x3D-42121870893450634577463914985889299119866228583627912396576170307551916037987547771260822964332541009710061289949691591169163556780902047793243036193914880"><a href="#qbar-x3D-42121870893450634577463914985889299119866228583627912396576170307551916037987547771260822964332541009710061289949691591169163556780902047793243036193914880" class="headerlink" title="qbar &#x3D; 42121870893450634577463914985889299119866228583627912396576170307551916037987547771260822964332541009710061289949691591169163556780902047793243036193914880"></a>qbar &#x3D; 42121870893450634577463914985889299119866228583627912396576170307551916037987547771260822964332541009710061289949691591169163556780902047793243036193914880</h5><h5 id="求p-q-其中q-x3D-qbar-x-0，即求x-0。"><a href="#求p-q-其中q-x3D-qbar-x-0，即求x-0。" class="headerlink" title="求p, q,其中q &#x3D; qbar +x_0，即求x_0。"></a>求p, q,其中q &#x3D; qbar +x_0，即求x_0。</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">N = <span class="number">179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639477074095512480796227391561801824887394139579933613278628104952355769470429079061808809522886423955917442317693387325171135071792698344550223571732405562649211</span></span><br><span class="line">e  =<span class="number">3</span></span><br><span class="line">m = <span class="number">179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639474124377767893424865485276302219601246094119453082952085005768838150682342462881473913110540827235556412466425596022697985153597317113782632362546831388835840</span></span><br><span class="line">c = <span class="number">179769313486231590772930519078879918173304939703457226373275247148595498759717648122918281796652009802987669006925212794207879662511415896044452932898704049018688901059103708542193959190783144422816477633612563780683282959788789236360344669112860717536812210743214198827228145383454293387005012636745015334547</span></span><br><span class="line">ZmodN = Zmod(N)</span><br><span class="line">P.&lt;x&gt; = PolynomialRing(ZmodN)</span><br><span class="line">f = (m+x)^e - c </span><br><span class="line">dd = f.degree()</span><br><span class="line">beta = <span class="number">1</span></span><br><span class="line">epsilon = beta/<span class="number">7</span></span><br><span class="line">mm = ceil(beta**<span class="number">2</span> / (dd * epsilon))</span><br><span class="line">tt = floor(dd * mm *((<span class="number">1</span>/beta)-<span class="number">1</span>))</span><br><span class="line">xx = ceil(N**((beta**<span class="number">2</span> / dd)-epsilon))</span><br><span class="line">roots = coppersmith_howgrave_univariate(f,N,beta,mm,tt,xx)</span><br><span class="line"><span class="built_in">print</span>(roots)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">int</span>(roots[<span class="number">0</span>])+m)</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">10425362517576480673939720452981938818279517750298316165817</span></span><br></pre></td></tr></table></figure>



<h3 id="二、"><a href="#二、" class="headerlink" title="二、"></a>二、</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">N = <span class="number">564761954589225685790600357175654927630507102952458240533488436763726131946307269500484579650103183883365719004294487534489841240202553161677917446702576880580483049669620695517848610900355474290043985788683180202610956370314542593233068920908309907035416313647682738795572793559472040741450305208268946934787</span></span><br><span class="line">qbar = <span class="number">42121870893450634577463914985889299119866228583627912396576170307551916037987547771260822964332541009710061289949691591169163556780902047793243036193914880</span></span><br><span class="line">ZmodN = Zmod(N)</span><br><span class="line">P.&lt;x&gt; = PolynomialRing(ZmodN)</span><br><span class="line">f = x - qbar</span><br><span class="line">beta = <span class="number">0.5</span></span><br><span class="line">dd = f.degree()</span><br><span class="line">epsilon = beta/<span class="number">7</span></span><br><span class="line">mm = ceil(beta**<span class="number">2</span> /(dd * epsilon))</span><br><span class="line">tt = floor(dd*mm*((<span class="number">1</span>/beta) - <span class="number">1</span>))</span><br><span class="line">xx = ceil(N**((beta**<span class="number">2</span> / dd)-epsilon))</span><br><span class="line">roots = coppersmith_howgrave_univariate(f,N,beta,mm,tt,xx)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">potential roots: [(<span class="number">42121870893450634577463914985889299119866228583627912396576170307551916037987547771260822964332541009710061289949691591169163556780902047793243036193914880</span>, <span class="number">1</span>), (-<span class="number">66320978925266625</span>/<span class="number">281474976710656</span>, <span class="number">3</span>), (-<span class="number">1606938044258990275541962092341162602522202993782792835301417</span>, <span class="number">3</span>)]</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/12/21/latex1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ang.jpg">
      <meta itemprop="name" content="Ang">
      <meta itemprop="description" content="Why do learn?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ang's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/12/21/latex1/" class="post-title-link" itemprop="url">Latex_1</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-12-21 17:41:03" itemprop="dateCreated datePublished" datetime="2022-12-21T17:41:03+08:00">2022-12-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-11 17:28:48" itemprop="dateModified" datetime="2023-07-11T17:28:48+08:00">2023-07-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">一些工具的学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>%保存为UTF-8编码格式<br>%用xelatex编译</p>
<p>\documentclass[UTF8,a4paper,12pt]{ctexart}<br>\usepackage[left&#x3D;3.18cm, right&#x3D;3.18cm, top&#x3D;2.54cm, bottom&#x3D;2.54cm]{geometry} %页边距<br>\CTEXsetup[format&#x3D;{\Large\bfseries}]{section} %设置章标题字号为Large，居左<br>%\CTEXsetup[number&#x3D;{\chinese{section}}]{section}<br>%\CTEXsetup[name&#x3D;{（,）}]{subsection}<br>%\CTEXsetup[number&#x3D;{\chinese{subsection}}]{subsection}<br>%\CTEXsetup[name&#x3D;{（,）}]{subsubsection}<br>%\CTEXsetup[number&#x3D;\arabic{subsubsection}]{subsubsection}  %以上四行为各级标题样式设置，可根据需要做修改</p>
<p>\linespread{1.25} %设置全文行间距</p>
<p>%\usepackage[english]{babel}<br>%\usepackage{float}     %放弃美学排版图表<br>\usepackage{fontspec}   %修改字体<br>\usepackage{amsmath, amsfonts, amssymb} % 数学公式相关宏包<br>\usepackage{color}      % color content<br>\usepackage{graphicx}   % 导入图片<br>\usepackage{subfigure}  % 并排子图<br>\usepackage{url}        % 超链接<br>\usepackage{bm}         % 加粗部分公式，比如\bm{aaa}aaa<br>\usepackage{multirow}<br>\usepackage{booktabs}<br>\usepackage{epstopdf}<br>\usepackage{epsfig}<br>\usepackage{longtable}  %长表格<br>\usepackage{supertabular}%跨页表格<br>\usepackage{algorithm}<br>\usepackage{algorithmic}<br>\usepackage{changepage}<br>\usepackage{booktabs}<br>\usepackage{appendix}</p>
<p>%%%%%%%%%%%%%%%%%%%%%%%<br>% – text font –<br>% compile using Xelatex<br>%%%%%%%%%%%%%%%%%%%%%%%<br>% – 中文字体 –<br>%\setCJKmainfont{Microsoft YaHei}  % 微软雅黑<br>%\setCJKmainfont{YouYuan}  % 幼圆<br>%\setCJKmainfont{NSimSun}  % 新宋体<br>%\setCJKmainfont{KaiTi}    % 楷体<br>\setCJKmainfont[AutoFakeBold&#x3D;true]{SimSun}   % 宋体<br>%\setCJKmainfont{SimHei}   % 黑体</p>
<p>% – 英文字体 –<br>\setmainfont{Times New Roman}<br>%\setmainfont{DejaVu Sans}<br>%\setmainfont{Latin Modern Mono}<br>%\setmainfont{Consolas}<br>%<br>%<br>\renewcommand{\algorithmicrequire}{ \textbf{Input:}}     % use Input in the format of Algorithm<br>\renewcommand{\algorithmicensure}{ \textbf{Initialize:}} % use Initialize in the format of Algorithm<br>\renewcommand{\algorithmicreturn}{ \textbf{Output:}}     % use Output in the format of Algorithm<br>\renewcommand{\abstractname}{\textbf{\large {摘\quad 要}}} %更改摘要二字的样式<br>\newcommand{\xiaosi}{\fontsize{12pt}{\baselineskip}}     %\xiaosi代替设置12pt字号命令,不加\selectfont,行间距设置无效<br>\newcommand{\wuhao}{\fontsize{10.5pt}{10.5pt}\selectfont}</p>
<p>\usepackage{fancyhdr} %设置全文页眉、页脚的格式<br>\pagestyle{fancy}<br>\lhead{}           %页眉左边设为空<br>\chead{}           %页眉中间<br>\rhead{}           %页眉右边<br>%\rhead{\includegraphics[width&#x3D;1.2cm]{1.eps}}  %页眉右侧放置logo<br>\lfoot{}          %页脚左边<br>\cfoot{\thepage}  %页脚中间<br>\rfoot{}          %页脚右边</p>
<p>%%%%%%%%%%%%%%%%%%%%%%%<br>%  设置水印<br>%%%%%%%%%%%%%%%%%%%%%%%<br>%\usepackage{draftwatermark}         % 所有页加水印<br>%\usepackage[firstpage]{draftwatermark} % 只有第一页加水印<br>% \SetWatermarkText{Water-Mark}           % 设置水印内容<br>% \SetWatermarkText{\includegraphics{fig&#x2F;ZJDX-WaterMark.eps}}         % 设置水印logo<br>% \SetWatermarkLightness{0.9}             % 设置水印透明度 0-1<br>% \SetWatermarkScale{1}                   % 设置水印大小 0-1</p>
<p>\usepackage{hyperref} %bookmarks<br>\hypersetup{colorlinks&#x3D;true, linkcolor&#x3D;black,filecolor&#x3D;black,urlcolor&#x3D;black,citecolor&#x3D;black,bookmarks, unicode} %unicode</p>
<p>\title{\textbf{\Large{正大所以润矿泉水线上营销策略分析}}}</p>
<p>\begin{document}</p>
<pre><code>\maketitle
%\tableofcontents

\begin&#123;abstract&#125;
    随着我国居民生活水平的提高，人们对矿泉水的需求不断增长。在今后的一段时期中，我国矿泉水产业发展主要体现在：
    
    一是随着消费升级和人们健康意识的提高，未来天然矿泉水将成为第一大饮用水品种，成为饮用水市场的主导力量 ; 二是随着国内市场竞争日趋激烈，矿泉水产业集中度和生产集约化将进一步提高。我国现有矿泉水市场格局基本是以农夫山泉、怡宝、康师傅、娃哈哈等为一 线中低端，昆仑山、5100、恒大冰泉、阿尔山等主中高端，依云、巴黎水等国际品牌为进口高端的，其他二线品牌和地方品牌占据一小部分市场份额。
    
    正大饮品(北京)有限公司成立于2021年9月。 公司依托集团百年历史根基，贯彻集团“成为全球最大食饮企业”的发展愿景，秉承“利国、利民、利企业”的经营宗旨，以包装饮用水 为业务切入点，不断开发中国优质水源地，依托正大集团遍布全球的销售网络，把物美价优的水饮产品带给中国和世界的广大消费者。 公司首批上市产品为正大集团品牌背书的“所以润”天然矿泉水。产品品牌主要针对Z时代的年轻客群，以“口感”作为品牌区隔于市场竞品的定位方向。延续这一定位方向，从当下主力年轻消费群体的消费需求及喜好出发，从命名、 包装设计呈现，到后续传播，全方位塑造出差异化、年轻化、个性化的正大全新天然矿泉水品牌。 本次调研内容以z 世代的年轻消费者为出发点，目标是要了解 z 世代对矿泉水营销推广活动的偏好、天然矿泉水在年轻受众群体中的接受程度和发展趋势。发放调查问卷，对问卷得到的数据进行分析。
    
    基于 Linear Regression 和 Pearson 相关性分析探究矿泉水购买意愿的影响因素，基于以上分析我们得出以下结论：（1） 对于水的销售取决于价格促销，这与年龄和薪水无关。（2）相关性分析和线性回归都提到了线下这个点，所以消费者更愿意到线下购买。（3）消费者对于互联网直播带货有非常大的兴趣，所以要打开互联网直播营销市场。（4） 消费者需要对品牌联动也有足够的消费意愿。（5） 相关性分析和线性回归都有赠送赠品，说明gift 能提升消费者的购买意愿。
    
    为了解决所以润矿泉水目前存在的问题，本文通过4P营销组合理论，从产品策略，价格策略，渠道策略，促销策略等方面提出了具体的营销策略，具体包括基于各类媒体的广告投放，品牌推广，开拓网络营销渠道，采用品牌联动营销打法等。
    
    本论文研究的开展既有助于提升所以润矿泉水品牌的营销水平，为所以润矿泉水扩大在年轻群体的市场份额提供策略，又可丰富国内其他类似品牌的营销实践。
    
    关键词：矿泉水 \ \ 年轻群体\ \  营销策略 \ \  相关性分析
\end&#123;abstract&#125;

\begin&#123;center&#125;
    \large&#123;\textbf&#123;Abstract&#125;&#125;
\end&#123;center&#125;

\begin&#123;adjustwidth&#125;&#123;1cm&#125;&#123;1cm&#125;
    \noindent\hspace&#123;1.5em&#125;With the improvement of the living standard of Chinese residents, people&#39;s demand for mineral water continues to grow. In the next period of time, the development of my country&#39;s mineral water industry is mainly reflected in:
    
    First, with the upgrading of consumption and the improvement of people&#39;s health awareness, natural mineral water will become the largest drinking water variety in the future and become the leading force in the drinking water market; second, with the increasingly fierce competition in the domestic market, the concentration and Production intensification will be further enhanced. my country&#39;s existing mineral water market structure is basically based on Nongfu Spring, Yibao, Master Kong, Wahaha, etc. as the first-tier mid-to-low end, Kunlun Mountain, 5100, Evergrande Bingquan, Aershan, etc. The brands are imported high-end, and other second-tier brands and local brands occupy a small market share.
    
    Zhengda Beverage (Beijing) Co., Ltd. was established in September 2021. Relying on the group&#39;s century-old foundation, the company implements the group&#39;s development vision of &quot;becoming the world&#39;s largest catering enterprise&quot;, adheres to the business purpose of &quot;benefiting the country, benefiting the people, and benefiting the enterprise&quot;, takes packaged drinking water as the business entry point, and continuously develops high-quality water sources in China Locally, relying on the global sales network of CP Group, it brings high-quality and affordable drinking water products to consumers in China and the world. The company&#39;s first listed products are &quot;So Run&quot; natural mineral water endorsed by the Chia Tai Group brand. The product brand is mainly aimed at the young customer groups in the Z era, and uses &quot;taste&quot; as the positioning direction to differentiate the brand from competing products in the market. Continuing this positioning direction, starting from the consumption needs and preferences of the current main young consumer groups, from naming, packaging design presentation, to follow-up communication, we will create a differentiated, younger and personalized Chia Tai new natural mineral water brand in an all-round way. The content of this survey is based on the young consumers of Generation Z. The goal is to understand the preferences of Generation Z for mineral water marketing and promotion activities, the acceptance and development trend of natural mineral water among young audiences. Distribute questionnaires and analyze the data obtained from the questionnaires.
    
    Based on Linear Regression and Pearson correlation analysis to explore the influencing factors of mineral water purchase intention, based on the above analysis we draw the following conclusions: (1) The sale of water depends on price promotion, which has nothing to do with age and salary. (2) Correlation analysis and linear regression both mentioned the offline point, so consumers are more willing to buy offline. (3) Consumers are very interested in online live streaming, so it is necessary to open up the Internet live streaming marketing market. (4) Consumers need to have enough willingness to spend on brand linkage. (5) Correlation analysis and linear regression both have gifts, indicating that gifts can increase consumers&#39; willingness to purchase.
    
    In order to solve the current problems of Sorun Mineral Water, this paper puts forward specific marketing strategies from the aspects of product strategy, price strategy, channel strategy and promotion strategy through the 4P marketing mix theory, including advertising placement based on various media, brand Promote, develop online marketing channels, adopt brand linkage marketing methods, etc.
    The development of the research in this paper will not only help to improve the marketing level of Sorun mineral water brand, provide strategies for Sorun mineral water to expand the market share in young people, but also enrich the marketing practice of other similar domestic brands.
    
    \textbf&#123;KeyWords&#125;：Mineral water, Young people, Marketing strategy, Correlation analysis
\end&#123;adjustwidth&#125;
$\\
\\
\\
\\
\\
\\$
%\thispagestyle&#123;empty&#125;       %本页不显示页码
%\newpage                    %分页
%%\tableofcontents\thispagestyle&#123;empty&#125;
%\newpage
%\setcounter&#123;page&#125;&#123;1&#125;        %从下面开始编页，页脚格式为导言部分设置的格式

\tableofcontents
$\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
\\
$
\section&#123;引言&#125;

\subsection&#123;调查背景及选题意义 &#125;

\subsubsection&#123;调查背景&#125;

 随着我国居民生活水平的提高，人们对矿泉水的需求也在不断增加，矿泉水呈现出替代&quot;矿物质水&quot;和&quot;纯净水&quot;的趋势，增长潜力巨大。在今后的一段时期中，我国矿泉水产业发展主要体现在：一是随着消费升级和人们健康意识的提高，未来天然矿泉水将成为第一大饮用水品种，成为饮用水市场的主导力量;二是随着国内市场竞争日趋激烈，矿泉水产业集中度和生产集约化将进一步提高。
 
随着健康意识的增强，消费者倾向于选择来源于优质天然水源、含有天然矿物元素的包装饮用水及低卡路里、低糖等的饮料。消费升级。随着收入水平及购买力的持续提升，消费者在选择产品时，对价格的敏感度降低，转而更关注产品质量、口味以及便利性等。消费者差异化需求的增加，推动了对优质产品进行更多消费。矿泉水作为健康饮食的重要组成部分，顺应&quot;天然、营养、无公害、绿色&quot; 消费趋势，是都市健康生活的首要选择，未来矿泉水产业发展具有广阔的市场前景。

而随着科技的发展以及数字化时代网络时代的到来，矿泉水的销售渠道也日益多元化，不再仅仅局限于线下的便利店，超市等途径。日益多元化的销售渠道，如电商平台，直播带货，自动贩卖机等。增加了消费者购买产品的便利性，从而增加了产品的消费频率。随着中国消费者健康意识增强及消费能力的提升，近年来矿泉水在包装饮用水类别中增长最快。矿泉水作为健康饮食的重要组成部分，顺应&quot;天然、营养、无公害、绿色&quot; 消费趋势，是都市健康生活的首要选择，未来矿泉水产业发展具有广阔的市场前景。

根据网络调查搜集的一些数据，2022年在京东平台上，饮用水的总销量6600多万件，同比增长了50 \% ；饮用水产品的销售额也将近突破30亿元，同比去年增长了46.7\%。目前，在京东平台上，饮用水相关品牌数共计450个。饮用矿泉水市场规模不断增长，饮用水产品的产销量增速较快。

随着饮用水行业的逐渐成熟，相关品牌也越来越多，因此，饮用水市场在繁荣发展的同时，竞争也会异常激烈。现阶段，饮用水市场的集中度相对较高，销量TOP10品牌的市场占比共计85.5\%。 目前，市场上的矿泉水品牌较多，包括国内外各大知名品牌，如法国依云、法国巴黎水、百岁山、怡宝、农夫山泉等。而一些新锐品牌的矿泉水，如何能扩大自己的知名度和影响力，在老牌矿泉水中突出重围，以线上营销的方式开展推广活动，在年轻人群体中开展营销扩大销量则成为本项目组的重要研究问题。

饮用水作为高消耗品，有着旺盛的市场需求。并且，随着饮用水产业的迅速发展，饮用水市场整体的产销量快速增长，消费人群也不断扩大。同时，随着饮用水行业的相对成熟，门槛偏低的现实让入局的品牌越来越多，竞争愈发激烈。因此，相关品牌需要及时捕捉到消费者需求的变化，做好新品布局、投入研发等，以在行业中更有竞争力。

\subsubsection&#123;研究目的&#125;

随着中国消费者健康意识的增强及消费能力的提升，近年来天然水及天然矿泉水在包装饮用水类别中增长最快。2014年至2019年，天然水及天然矿泉水的复合年增长率分别为24.8\%、18.4\%左右;按零售额计算，2019年市场规模分别达到372亿元、151亿元。而2019年至2024年，预计天然水及天然矿泉水的复合年增长率分别为15.4\%、14.2\%左右。从2020年开始，中国矿泉水保持在8\%～9\%的年均增速持续增长。2025年市场规模有望突破3000亿元。年轻化，时尚化的客群结构打破了矿泉水，纯净水，天然水的老叁样格局，更多的新品类如苏打水，气泡水，电解质水等瞄准了年轻消费者群体。到2021年，据尼尔森数据，包装饮用水行业市占率排名为农夫山泉(33\%)、华润怡宝(26\%)、百岁山(13\%)、 康师傅(12\%)、娃哈哈(9\%)、可口可乐(7\%)，农夫山泉和怡宝合计占一半以上的市场份额。稳坐行业龙头位置后，农夫山泉继续在包装饮用水领域继续深耕用户需求，推出针对特定人群和特定场景的包装饮用水。
为了展现我国矿泉水市场的庞大规模和巨大的发展潜力，便于正大品牌所以润矿泉水在迅速发展的矿泉水市场中抓住机遇，本项目研究目的具体如下：

\begin&#123;itemize&#125;
    \item 调查年轻消费者对矿泉水产品的看法理解，关注因素，购买意愿。
    \item 了解年轻消费者对矿泉水产品的品质需求，功能需求，外延需求，价格需求。研究消费者的购买习惯，消费者未被满足的需求。
    \item 一些新锐矿泉水品牌是如何在线上进行品牌营销活动来扩大知名度、影响力调查消费者买矿泉水的主要渠道，了解各渠道所占比例。
    \item z世代目标群体对营销推广活动的偏好，更喜爱哪种类型的营销活动。
    \item 天然矿泉水在年轻受众群体中的接受程度和发展趋势。
\end&#123;itemize&#125;

\subsubsection&#123;研究意义&#125;

通过本次调研，本项目组获得以下几点意义：

\textbf&#123;(1)&#125; 针对消费者对矿泉水产品的关注因素，了解正大所以润产品在竞争中的优势和劣势所在，为企业扩大销量提供基础；

\textbf&#123;(2)&#125; 抓住消费者的真实需求，增强产品特点，为企业提高市场表现力、开发新产品打开思路； 

\textbf&#123;(3)&#125; 根据销售渠道特性，选择不同的销售宣传方式，为企业制定合理的营销计划。

\textbf&#123;(4)&#125; 对年轻消费者客户群体再进行细分，为企业转化潜在消费者、巩固现有客户从而提升企业竞争水平提供指导。

\subsection&#123;理论基础与文献综述&#125;
\subsubsection&#123;理论基础&#125;

1．TDS 值代表水中总固体溶解量，单位是 PPM。相对来说，水越纯净，它的 TDS
数值就越低，反之就越高。一般来说 TDS40 以内，水质饮用都是安全的。影响 TDS 值测试的因素：

水温：TDS 笔不可用于测量高温水体（例如：热开水）。

水的流速：TDS 笔不能用于测量晃动较大的水体。

水质污染：TDS 笔不能用于测量污染浓度较高的水体。

2.KOL：在营销学上，为各⼚家宣传的专家或权威被称为“关键意见领袖“，通常被定义为：拥有更多、更准确的产品信息，且为相关群体所接受或信任，并对该群体的购买行为有较大影响力的人。把可以扮演不同“价值角色”的人叫做“关键人”，这些人中，其意见具有核心影响力的人即为“关键意见领袖”。“关键人”和“关键意见领袖”是销售过程中价值形成和交换的源点，他们是销售工作的着力点。KOL 作为移动互联网重点关注的人群，不同的 KOL 有着独特的人格属性和内容特质，通过对其受众画像的洞察，能够帮助品牌营销挖掘更精准的商业机会。第一是持久介入特征：KOL 对某类产品较之群体中的其他人有着更为长期和深入的介入，因此对产品更了解，有更广的信息来源、更多的知识和更丰富的经验。第二是人际沟通特征：KOL较常人更合群和健谈，他们具有极强的社交能力和人际沟通技巧，且积极参加各类活动，善于交朋结友，喜欢⾼谈阔论，是群体的舆论中心和信息发布中心，对他人有强大的感染力。第三是性格特征：KOL 观念开放，接受新事物快，关心时尚、流行趋势的变化，愿意优先使用新产品，是营销学上新产品的早期使用者。

3.艾克模型: 艾克从消费者的视角提出了品牌资产的模型。将品牌资产分为了品牌忠诚度（Brand	Loyalty）、品牌知名度（Brand Awareness）、品牌联想（Brand
Association）、感知质量（Perceived Quality）和其它品牌专有资产（other proprietary brand  assets）5 个维度。艾克认为，消费者（尤其是周期性购买的消费者）对企业品牌资产的构建起到决定性作用。

4．顾客满意度理论：顾客满意度是对顾客满意程度的衡量指标。常常通过随机调查获取样本，以顾客对特定满意度指标的打分数据为基础，运用加权平均法得出相应结果。顾客满意度管理是 20 世纪 90 年代兴起的营销管理战略，不仅要求了解外部顾客的满意度，而且要求了解内部顾客，即员工的满意度状况，从而揭
示企业在顾客价值创造和传递方面存在的问题，并以实现全面的顾客满意为目标，探究、分析和解决这些问题[3]。

5.营销基础理论

5.1,STP 理论：市场细分（MarketSegmentation）[5]的概念是美国营销学家温德尔·史密斯(Wendell Smith)在 1956 年最早提出的，此后，美国营销学家菲利浦·科特勒进一步发展和完善了温德尔·史密斯的理论并最终形成了成熟的 STP 理论——市场细分（Segmentation）、选择适当的市场目标（Targeting）和定位（Positioning）。它是战略营销的核心内容，指企业在一定的市场细分的基础上，确定自己的目标市场，最后把产品或服务定位在目标市场中的确定位置上。其中，市场细分(Segmentation)指企业根据消费者需求上的差异将产品 或服务的市场进行逐一细分的过程。其中包括了三个阶段，一是对消费者的需求进行市场调研，⼆是对市场调查的结果进行分析，最后是根据分析结果进行市场细分。通过市场细分，企业在目标市场的选择和营销策略的制定上更占优势。同时，还有利于企业发掘更多的市场机会，开拓新市场。另外，在市场细分下，企业可以集中人力、物理投入目标市场，争取局部市场上的优势，提高了企业的经济效益。

5.2,营销组合理论：营销组合理论(4P 理论)于 20 世纪 60 年代，由杰罗姆•麦肯锡在《基础 营销》(Basic Marketing)中提出。包括了:产品(Product)、价格(Price)、 渠道(Place)、促销(Promotion)，该理论核心在于，企业通过对这些要素进⾏有效组合，获得一定的市场反应，从而满足市场需求，使企业获得最大利润[6]。

\subsubsection&#123;文献综述&#125;

姚云萍（2019）[2]提出，众多定位同质化品牌的入局导致品牌可替代性增强，消费者选择余地越来越大；同时这种情况极有可能引发恶性价格战，不仅会导致品牌获利空间减小，影响企业发展，而且会使品牌资产受损，品牌形象坍塌。同时矿泉水市场消费需求的变化。消费者的消费观念，需求和品位都在发生着变化。传统的用户不再满足于大众化的品味和品质。年轻人则更不喜欢老旧的选择。

所以润品牌如果不能紧跟时代潮流为品牌注入新的元素，满组年轻消费者日益增长的需求，那么将会被贴上“落伍”的标签，失去消费者的关注，甚至消费者的印象将会随着时间的流逝而将品牌遗忘，最终使品牌黯然退出市场。[3]同时，在 z时代，消费渠道也更加多元，所以润品牌新媒体运营有待提高。李桂华（2021）[4]认为，在当今互联网迅猛发展的时代，消费渠道选择越来越多元化。除传统线下门店外，线上淘宝、京东等电商平台给了消费者更多的选择渠道，加之抖音等新媒体的助推，年轻一代消的消费观“互联网”化特征十分明显。[5]所以润品牌也应该抓住互联网消费的浪潮，推动线上营销。
</code></pre>
<p>​	<br>​	<br>​	\section{调查策划与实施}<br>​	<br>​	\subsection{调查方案设计}<br>​	<br>​	\subsubsection{调研内容}<br>​	<br>​	本次调研内容以z世代的年轻消费者为出发点，目标是要了解z世代对矿泉水营销推广活动的偏好、天然矿泉水在年轻受众群体中的接受程度和发展趋势。有以下几个部分：第一，分析了当下矿泉水销售行业的宏观背景和各个品牌在市场上的表现；第二，基于市场调研的成果，分析了西安市年轻消费者对于矿泉水购买的一些个人倾向性喜好，并结合了消费者的态度，对消费者群体进行了进一步的划分，使得调研结果更加具有针对性以及准确性；第三，调研西安市年轻消费者对线上购买矿泉水的消费驱动力；第四。从产品本身的客观因素、消费者个人喜好的主观因素两个不同的角度分析目前在线上营销矿泉水的障碍与优势。<br>​	<br>​	最终，立足于我们的调研结果，决策相对更合适的线上营销策略，开展更有效的天然矿泉水新锐品牌“正大所以润”的线上营销活动。<br>​	\begin{figure}[htbp]<br>​		\centering<br>​		\includegraphics[width&#x3D;1.0\textwidth]{3.png} 	% 图片相对位置<br>​		\caption{Model1 specific process}		% 图片标题<br>​		\label{Model1 flowchart}							% 图片标签<br>​	\end{figure}<br>​	\subsubsection{调研工作流程}<br>​	\begin{figure}[htbp]<br>​		\centering<br>​		\includegraphics[width&#x3D;.6\textwidth]{4.png} 	% 图片相对位置<br>​		\caption{Model1 specific process}		% 图片标题<br>​		\label{Model1 flowchart}							% 图片标签<br>​	\end{figure}<br>​	\subsubsection{线上电商平台事前调研}<br>​	<br>​	目前在中国大陆地区的主要线上电子商务平台有淘宝、天猫、京东、拼多多等。这几个app在中国大陆地区市场占有率非常高，并且每一个平台都有一定量的消费用户。我们采用在这些app进行搜索调研的方式，从多个角度，了解天然矿泉水的线上销售情况，同时有助于我们接下来的问卷设计。<br>​	<br>​	在调查中，我们发现，销售量大、点评数高、品牌知名度高的天然矿泉水产品更容易被电商平台在前列显示。各种天然矿泉水的展示图大多都十分简洁、无太多花哨的修饰、背景以白色或浅色为主。我们认为，这有助于消费者更加关注矿泉水本身，且有助于商家给消费者营造一种我们的矿泉水更天然更纯净的氛围。<br>​	<br>    除此之外，部分被电商平台显示在前列的天然矿泉水产品右下角有“广告”标识，这引起我们思考，对于一些品牌，与电子商务平台达成商业广告合作，有助于自己的产品更加容易被消费者看到，获得更大的了解度、曝光度和关注度。</p>
<pre><code>线上销售天然矿泉水少有单瓶零售的，有量大销售的特点，一般是整箱销售或者按一提来销售的居多。
各品牌的直营旗舰店是主要的线上销售店铺，这表面，线上平台具有中间商发挥作用较小的特点。
另外，在营销活动上，我们关注到了，一些店铺或品牌会采取直接在电商平台开直播的方式促进销售，这给我们的调研提供了一个新的思路，直播带货这一近年来非常火爆的方式是否在天然矿泉水销售中对Z世代年轻人产生购买的欲望。

一些电子商务平台会对包括天然矿泉水在内的食品类产品开辟自营销售方式，如天猫app有专门的“天猫超市”来销售天然矿泉水。

线上平台销售天然矿泉水在价格上会有一定优惠，“双11”、“618”等全平台的购物节、品牌店铺自己的促销都会有一定的折扣以促进产品销售。一般的形式有送消费券、送赠品、满减优惠等等。

\subsubsection&#123;深度了解产品&#125;

我们事先关注了新锐天然矿泉水品牌”正大所以润“的官方公众号，官方视频号。了解了该新锐天然矿泉水品牌已有的一些营销活动和产品特色。了解了该品牌目前面临的一些现状。

在我们的深度了解产品过程中，我们了解到该品牌天然矿泉水品牌想要有所突破的产品营销目标，主要想从年轻的消费者群体中打开知名度，逐渐形成稳定的消费者群体。

该矿泉水品牌是由目前在市场上的一线食品制造商“正大集团”出品，有大公司信誉背书。水源地产自世界级矿泉水产地，中国东北吉林省长白山，水源优质，矿泉水具有高品质的特点，适宜长期饮用。公司总部位于北京市。

同时，该品牌成立时间不长，是新锐品牌，具有比较广阔的销售前景和销售面扩大的空间。该品牌天然矿泉水在中国大陆地区市场上具有较大的发展潜力。

\subsubsection&#123;问卷设计&#125;
本次调查问卷以本次项目的研究目的——“天然矿泉水新锐品牌正大所以润的线上营销”为出发点和落脚点，结合前期调研准备，基本确定了问卷选项：
\begin&#123;itemize&#125;
    \item 	平时购买矿泉水多吗？
    \item 	购买矿泉水的场所主要是线上还是线下？
    \item 	有长期饮用矿泉水的习惯吗？
    \item 	购买天然矿泉水时注重品牌吗？
    \item 	线上营销活动影响对天然矿泉水的选择程度如何？
    \item	线上购买天然矿泉水时最注重的因素是什么？
\end&#123;itemize&#125;
为了更加全面地了解年轻消费者对天然矿泉水的消费情况，我们根据购买矿泉水的频率，将问卷设计为A卷和B卷，前者供偶尔或从不购买天然矿泉水的消费者填写，后者供经常购买天然矿泉水的消费者填写。本次调查目的是帮助形成新锐矿泉水品牌在线上对年轻消费者的营销活动决策。问卷的内容包括以下几个方面:

 (1)年轻消费者饮用天然矿泉水的消费习惯：品牌偏好、线上线下偏好、营销活动偏好等
 
 (2)年轻消费者选购天然矿泉水的考虑因素：价格、品质、品牌、包装等
 
(3)年轻消费者对品牌的认知程度

 (4)受调研者的基本信息：年龄、性别、收入情况等
</code></pre>
<p>为了减轻受访者的一些顾虑，对填写问卷有抗拒心理，问卷个人信息可能出现的漏填，因此将个人信息板块放在了问卷最后部分。</p>
<pre><code>\subsubsection&#123;预调查&#125;

为了检验问卷可行性以及可靠性，在正式问卷调查之前，我们在网络上进行了一次预调查，一共发放了42份问卷，回收了40份，被调查者均居住在西安市，且为年轻消费者。根据预调查所产生的结果，发现问卷存在以下问题，部分题设并不合理、措辞不够精准委婉、受调查者对于一些题目的理解存在不解等。最后，针对以上问题，对问卷进行了一些完善。
</code></pre>
<p>​	<br>​	\subsubsection{抽样设计}<br>​	<br>​	\textbf{（1）调研对象与范围}<br>​	<br>​	本次调研是具有一定针对性的调研，主要为Z世代年轻消费者对新锐天然矿泉水品牌线上营销活动开展提供决策支持，销售地域为西安市。因此，调研对象以长期居住在西安市的年轻消费群体为总体。为了更加全面地了解Z世代年轻消费者对新锐天然矿泉水品牌线上营销活动开展的喜好程度，以调研有购买天然矿泉水习惯的年轻消费者为主，以没有购买天然矿泉水习惯的年轻消费者为辅。<br>​	<br>​	\textbf{(2)抽样方法}<br>​	<br>​	为了我们的调研结果更加准确，对天然矿泉水消费市场具有进一步的把握，以便制定合理且有效的线上营销方案，本次调研采用线上随机抽样。为了可以保证样本分布更加均匀，充分了解西安市年轻消费者对天然矿泉水的喜好，我们按照行政区和功能区划进行分层抽样。<br>​	<br>​	\textbf{(3)样本量的确定}<br>​	<br>​	在总体样本量较大时，最低样本量与被调查者总数没有必然联系，会受到误差和置信水平的影响，通过样本量计算公式，得出样本量为96。<br>​	\begin{align}<br>​		N\ &#x3D; \ \frac{[Z^2 p(1-p)]}{e^2}<br>​	\end{align}<br>​	<br>    具体计算流程如下：本次调查的最低样本根据公式（1）(其中N为样本量，Z为当置信度为1.96时的Z统计量的值，e为极限误差，p为抽样比例)确定，保证在95% 的置信水平，极限误差小于10 % ，抽样比例为0.5的前提下，计算出最低样本量为96.04，同时考虑到问卷回收后可能出现的有效问卷率及误差，故实际抽样数量为最低样本量的1.1倍，即106份。</p>
<pre><code>公式1：

根据西安市统计局、西安市第七次全国人口普查领导小组办公室公布的西安市第七次全国人口普查主要数据公报（第二号） ——分区域常住人口情况[西安市统计局、西安市第七次全国人口普查领导小组办公室.西安市第七次全国人口普查主要数据公报（第二号），2021
]公开资料，具体如下表显示，居住在城区（包括六城区、高新区、经开区、曲江新区、浐灞生态区、国际港务区、航天产业基地）的占比约为60 \% ，居住在郊区（除城区之外的所有区）的占比约为40 \% ，因此我们的问卷发放也符合6：4的比例，达到分层抽样的效果。

\begin&#123;figure&#125;[htbp]
    \centering
    \includegraphics[width=.8\textwidth]&#123;1.png&#125; 	% 图片相对位置
    \caption&#123;Model1 specific process&#125;		% 图片标题 
    \label&#123;Model1 flowchart&#125;							% 图片标签
\end&#123;figure&#125;
\begin&#123;figure&#125;[htbp]
    \centering
    \includegraphics[width=.8\textwidth]&#123;2.png&#125; 	% 图片相对位置
    \caption&#123;Model1 specific process&#125;		% 图片标题 
    \label&#123;Model1 flowchart&#125;							% 图片标签
\end&#123;figure&#125;

\subsection&#123;调查资料整理&#125;

\subsubsection&#123;调查问卷回收&#125;
本次问卷发放通过大赛组委会提供的线上问卷网站“腾讯问卷”进行，按照公式所计算的样本量发放，力求更进一步地掌握西安市年轻消费者群体对天然矿泉水的消费情况。每天检查问卷回收的数量，通过小组成员的审核，确认回收的问卷是否具有有效性。

\subsubsection&#123;问卷数据的校订&#125;

我们对数据进行了以下检查：检查问卷前后是否具有逻辑上的一致性、检查受调查者在填写问卷时所花费的时间。因此，我们剔除了一些无效问卷，以免干扰最终的结果，这些问卷存在前后逻辑不一致、填写问卷花费时间过短的问题。

\subsubsection&#123;数据的编码及录入&#125;

本次问卷采用线上平台统一发放，利用线上平台已有的功能进行数据的收集，通过问卷平台以excel和spss导出，修改部分变量的名称，对问卷重新编码，令数据更加清晰明了，有便于我们后期的统计分析。

\section&#123;基于Linear Regression和Pearson相关性分析探究奶茶购买意愿的影响因素&#125;
\subsection&#123;模型简介&#125;
\subsubsection&#123;Linear Regression模型简介&#125;

线性回归分析是一种寻求变量之间近似的线性函数关系的回归方法，适用于离散型变量之间的线性关系的分析，在本题中我们根据问卷的数据使用了14元的线性回归模型对数据进行回归分析。

其中回归函数为：
\begin&#123;align&#125;
    y\ = \ w_0\ +\ w_1 x_1\ +\ w_2 x_2 \ +\...+\ w_n x_&#123;14&#125;\ +\ b  
\end&#123;align&#125;
其中b为常数随机误差。

现在对$x_1 x_2,...x_14$进行观察（即为收到的一份问卷数据），第i份问卷数据取值为别为$x_1^i,x_2^i...x_&#123;14&#125;^i和y^i$,随机误差为$b^i$，则得到方程：
\begin&#123;align&#125;
    y^i \ =  \ w_o \ +\ w_1 x_1^i\ +\ w_2 x_2^i\ +\ ...+w_&#123;14&#125; x_&#123;14&#125;^i\ +\ b^i
\end&#123;align&#125;
 
 然后应用损失函数对模型一次预测的好坏进行评估，即为真实值和预测值的误差，具体定义为：
 \begin&#123;align&#125;
 	L\ = \ \frac&#123;1&#125;&#123;2&#125; (y-y^i)^2
 \end&#123;align&#125;

\subsubsection&#123;Pearson相关分析模型简介&#125;

假设有两组数据$X:&#123;X_1,X_2,X_3...X_n&#125; ,\ Y:&#123;Y_1,Y_2,Y_3..Y_n&#125;$这些数据在本模型中均为调查问卷得到
则有样本均值为：
\begin&#123;align&#125;
    \bar&#123;X&#125;\ = \ \frac&#123;\sum_&#123;i=1&#125;^&#123;n&#125;X_i&#125;&#123;n&#125; \\
    \bar&#123;Y&#125;\ = \ \frac&#123;\sum_&#123;i=1&#125;^&#123;n&#125;Y_i&#125;&#123;n&#125;
\end&#123;align&#125;
则样本协方差为：
\begin&#123;align&#125;
    Cov(X,Y)\ = \ \frac&#123;\sum_&#123;i=1&#125;^&#123;n&#125; (X_i - \bar&#123;Xz&#125;)(Y_i- \bar&#123;Y&#125;)&#125;&#123;n-1&#125;
\end&#123;align&#125;
则得到样本的Pearson系数为：
\begin&#123;align&#125;
    r_&#123;XY&#125;\ = \ \frac&#123;Cov(X,Y)&#125;&#123;S_X S_Y&#125;\\
    S_X = \ \sqrt&#123;\frac&#123;\sum_&#123;i=1&#125;^&#123;n&#125;(X_i - \bar&#123;X&#125;)^2&#125;&#123;n-1&#125;&#125;\\
    S_Y\ = \ \sqrt&#123;\frac&#123;\sum_&#123;i=1&#125;^&#123;n&#125;(Yi - \bar&#123;Y&#125;)^2&#125;&#123;n-1&#125;&#125;
\end&#123;align&#125;

\subsection&#123;模型变量的解释&#125;
将最终的因变量设置为矿泉水的购买意愿，设置购买意愿为三档，分别为不愿意购买，偶尔购买，经常购买三档，对与问卷的自变量promotion,age,place,habit,usual,salary,
wrap,live-commerce,gift,represent,brand-linkage,price,brand,quality.
\\

\begin&#123;tabular&#125;&#123;cccccc&#125;
    \toprule
    变量名&amp; &amp; &amp; &amp;变量定义\\
    \midrule
    Y &amp; &amp; &amp; &amp; 消费者购买意愿参数\\
    \\
    \midrule
    promotion&amp;&amp;&amp;&amp; 矿泉水饮用意愿参数\\
    \\
    \midrule
    place&amp;&amp;&amp;&amp;  矿泉水购买场所参数\\
    \\
    \midrule
    habit&amp;&amp;&amp;&amp;  矿泉水饮用习惯参数\\
    \\
    \midrule
    price&amp;&amp;&amp;&amp;  价格影响参数\\
    \\
    \midrule
    represent&amp; &amp;&amp;&amp; 营销活动影响参数\\
    \\
    \midrule
    brand-linkage&amp; &amp;&amp;&amp; 品牌联动影响参数\\
    \\
    \midrule
    brand&amp; &amp;&amp;&amp; 自身品牌影响参数\\
    \\
    \midrule
    wrap&amp;&amp;&amp;&amp;  包装影响参数\\
    \\
    \midrule
    quality&amp;&amp;&amp;&amp;  矿泉水自身品质影响参数\\
    \\
    \midrule
    age&amp;&amp;&amp;&amp;  消费者年龄影响参数\\
    \\
    \midrule
    salary&amp;&amp;&amp;&amp;  消费者收入影响参数\\
    \\
    \midrule
    gift&amp;&amp;&amp;&amp;  礼物赠送影响参数\\
    \\
    \bottomrule
\end&#123;tabular&#125;


综上所述，最终消费者购买意愿可表示为：

\begin&#123;align&#125;
    Y\ = \ w_0 +w_1 promotion + w_2 live-commerce + w_3 gift + w_4 place + w_5 habit
    \\ +w_6 salary + w_7 represent + w_8 brand-linkage + w_9 price +w_&#123;10&#125; brand \\
    + w_&#123;11&#125; quality + w_&#123;12&#125; wrap + w_&#123;13&#125; age +w_&#123;14&#125; usual 
\end&#123;align&#125;
</code></pre>
<p>\subsection{结果分析}</p>
<pre><code>下面是我们的问卷数据分析图：
\begin&#123;figure&#125;[htbp]
    \centering 									%图片全局居中
    %并排几个图，就要写几个minipage
    \begin&#123;minipage&#125;[b]&#123;0.3\textwidth&#125; 		%所有minipage宽度之和小于1
        \centering 								%图片局部居中
        \includegraphics[width=0.9\textwidth]&#123;5.png&#125; 
        %此时的图片宽度比例是相对于这个minipage的，不是全局
        \caption&#123;&#125;
        \label&#123;fig:1&#125;
    \end&#123;minipage&#125;
    \begin&#123;minipage&#125;[b]&#123;0.3\textwidth&#125; 
        \centering 									%图片局部居中
        \includegraphics[width=0.9\textwidth]&#123;6.png&#125;
        \caption&#123;&#125;
        \label&#123;fig:2&#125;
    \end&#123;minipage&#125;
    \begin&#123;minipage&#125;[b]&#123;0.3\textwidth&#125; 		%所有minipage宽度之和小于1
    \centering 								%图片局部居中
    \includegraphics[width=0.9\textwidth]&#123;7.png&#125; 
    %此时的图片宽度比例是相对于这个minipage的，不是全局
    \caption&#123;&#125;
    \label&#123;fig:1&#125;
    \end&#123;minipage&#125;
\end&#123;figure&#125;
</code></pre>
<p>\begin{figure}[htbp]<br>    \centering 									%图片全局居中<br>    %并排几个图，就要写几个minipage<br>    \begin{minipage}[b]{0.3\textwidth} 		%所有minipage宽度之和小于1<br>        \centering 								%图片局部居中<br>        \includegraphics[width&#x3D;0.9\textwidth]{8.png}<br>        %此时的图片宽度比例是相对于这个minipage的，不是全局<br>        \caption{}<br>        \label{fig:1}<br>    \end{minipage}<br>    \begin{minipage}[b]{0.3\textwidth}<br>        \centering 									%图片局部居中<br>        \includegraphics[width&#x3D;0.9\textwidth]{9.png}<br>        \caption{}<br>        \label{fig:2}<br>    \end{minipage}<br>    \begin{minipage}[b]{0.3\textwidth} 		%所有minipage宽度之和小于1<br>        \centering 								%图片局部居中<br>        \includegraphics[width&#x3D;0.9\textwidth]{10.png}<br>        %此时的图片宽度比例是相对于这个minipage的，不是全局<br>        \caption{}<br>        \label{fig:1}<br>    \end{minipage}<br>\end{figure}<br>\begin{figure}[htbp]<br>    \centering 									%图片全局居中<br>    %并排几个图，就要写几个minipage<br>    \begin{minipage}[b]{0.3\textwidth} 		%所有minipage宽度之和小于1<br>        \centering 								%图片局部居中<br>        \includegraphics[width&#x3D;0.9\textwidth]{11.png}<br>        %此时的图片宽度比例是相对于这个minipage的，不是全局<br>        \caption{}<br>        \label{fig:1}<br>    \end{minipage}<br>    \begin{minipage}[b]{0.3\textwidth}<br>        \centering 									%图片局部居中<br>        \includegraphics[width&#x3D;0.9\textwidth]{12.png}<br>        \caption{}<br>        \label{fig:2}<br>    \end{minipage}<br>    \begin{minipage}[b]{0.3\textwidth} 		%所有minipage宽度之和小于1<br>        \centering 								%图片局部居中<br>        \includegraphics[width&#x3D;0.9\textwidth]{13.png}<br>        %此时的图片宽度比例是相对于这个minipage的，不是全局<br>        \caption{}<br>        \label{fig:1}<br>    \end{minipage}</p>
<p>\end{figure}</p>
<p>通过图表可以得出：<br>\begin{itemize}<br>    \item 消费者有很大的饮用矿泉水的需求。<br>    \item 由数据显示，消费者一般都是在线下买矿泉水比较多，如何开展线上销售，首先是广告，其次是价格战争。对于开展线上销售，大家普遍是解决当前的喝水需求而进行线下购买，如何打开线上销售，我们需要进行定义“新线上”，也就是说我们可以进行自动售货机打开线上销售的新局面。价格战争，对于一般人而言，只有很少一部分人才会考虑水的口感（调查问卷缺少数据），大部分人主要是喝水购买水。<br>    \item 由数据所示，我们能看到还是有消费者长期饮用矿泉水。<br>    \item 从数据能看出，重要程度为1和3接近数据的30%，程度4为20%，说明线上营销还是会有一定影响购买量。<br>    \item 对于价格是影响购买产品的主要因素，其次就是购买后赠送赠品，主播直播带货和流量明星代言对产品的购买影响力是比较低的。<br>    \item 最注重的因素有两个，价格和水的品质。<br>    \item 是否听说过正大所以润，只有20%，说明产品宣传度不够。<br>    \item 年龄分布大部分人在17-19 之间和20-21之间，只有少数部分是大于22的人填写了问卷，符合我们对于年轻群体的调查分析。<br>    \item 男女比约为1：1，调查结果没有男女差异。<br>    \item 大部分是学生，没有基本收入，能解释对价格的看重程度，可指导线上对年轻人的营销策划。<br>\end{itemize}<br>\subsubsection{Pearson分析结果}</p>
<p>\begin{figure}[htbp]<br>    \centering<br>    \includegraphics[width&#x3D;.3\textwidth]{14.png} 	% 图片相对位置<br>    \caption{Pearson相关系数}		% 图片标题<br>    \label{Model1 flowchart}							% 图片标签<br>\end{figure}<br>具体大小分析图为：<br>\begin{figure}[htbp]<br>    \centering<br>    \includegraphics[width&#x3D;.8\textwidth]{15.png} 	% 图片相对位置<br>    \caption{Pearson相关系数可视化}		% 图片标题<br>    \label{Model1 flowchart}							% 图片标签<br>\end{figure}</p>
<p>从上表可知，利用相关分析去研究willingness分别和promotion, age, place, habit, usual, salary, wrap, live-commerce, gift, represent, brand-linkage, price, brand, quality共14项之间的相关关系，使用Pearson相关系数去表示相关关系的强弱情况。具体分析可知：</p>
<p>willingness和promotion之间的相关系数值为0.466，并且呈现出0.01水平的显著性，因而说明willingness和promotion之间有着显著的正相关关系。willingness和age之间的相关系数值为0.173，接近于0，并且p值为0.085&gt;0.05，因而说明willingness和age之间并没有相关关系。willingness和place之间的相关系数值为0.332，并且呈现出0.01水平的显著性，因而说明willingness和place之间有着显著的正相关关系。willingness和habit之间的相关系数值为0.286，并且呈现出0.01水平的显著性，因而说明willingness和habit之间有着显著的正相关关系。willingness和usual之间的相关系数值为0.154，接近于0，并且p值为0.125&gt;0.05，因而说明willingness和usual之间并没有相关关系。willingness和salary之间的相关系数值为0.156，接近于0，并且p值为0.121&gt;0.05，因而说明willingness和salary之间并没有相关关系。willingness和wrap之间的相关系数值为-0.052，接近于0，并且p值为0.608&gt;0.05，因而说明willingness和wrap之间并没有相关关系。willingness和live-commerce之间的相关系数值为0.424，并且呈现出0.01水平的显著性，因而说明willingness和live-commerce之间有着显著的正相关关系。willingness和gift之间的相关系数值为0.369，并且呈现出0.01水平的显著性，因而说明willingness和gift之间有着显著的正相关关系。willingness和represent之间的相关系数值为0.168，接近于0，并且p值为0.095&gt;0.05，因而说明willingness和represent之间并没有相关关系。willingness和brand-linkage之间的相关系数值为0.331，并且呈现出0.01水平的显著性，因而说明willingness和brand-linkage之间有着显著的正相关关系。willingness和price之间的相关系数值为0.139，接近于0，并且p值为0.168&gt;0.05，因而说明willingness和price之间并没有相关关系。willingness和brand之间的相关系数值为-0.064，接近于0，并且p值为0.526&gt;0.05，因而说明willingness和brand之间并没有相关关系。willingness和quality之间的相关系数值为0.013，接近于0，并且p值为0.899&gt;0.05，因而说明willingness和quality之间并没有相关关系。</p>
<p>\subsubsection{Linear Regression分析结果}<br>回归分析结果为：<br>\begin{figure}[htbp]<br>    \centering<br>    \includegraphics[width&#x3D;.6\textwidth]{16.png} 	% 图片相对位置<br>    \caption{Linear Regression分析结果}		% 图片标题<br>    \label{Model1 flowchart}							% 图片标签<br>\end{figure}</p>
<p>从上表可知，对模型进行F检验时发现模型通过F检验(F&#x3D;5.705，p&#x3D;0.000&lt;0.05)，也即说明模型构建有意义。</p>
<p>从上表可知，将promotion，live-commerce，gift，place，habit，salary，represent，brand-linkage，price，brand，quality，wrap，age，usuall作为自变量，而将willingness作为因变量进行线性回归分析，从上表可以看出，模型R方值为0.484，意味着promotion，live-commerce，gift，place，habit，salary，represent，brand-linkage，price，brand，quality，wrap，age，usuall可以解释willingness的48.4%变化原因。</p>
<p>从上表可知，将promotion，live-commerce，gift，place，habit，salary，represent，brand-linkage，price，brand，quality，wrap，age，usual作为自变量，而将willingness作为因变量进行线性回归分析，从上表可以看出，模型公式为：</p>
<p>\begin{align}<br>    willingness\ &#x3D;\ -0.682 + 0.261promotion + 0.288live-commerce + 0.203<em>gift<br>    \<br>    + 0.750</em>place + 0.476<em>habit + 0.034</em>salary-0.174<em>represent+0.187</em>brand-linkage<br>    \-0.181<em>price-0.054</em>brand-0.050<em>quality-0.175</em>wrap + 0.222<em>age-0.060</em>usual<br>\end{align}</p>
<p>模型R方值为0.484，意味着promotion，live-commerce，gift，place，habit，salary，represent，brand-linkage，price，brand，quality，wrap，age，usuall可以解释willingness的48.4%变化原因。对模型进行F检验时发现模型通过F检验(F&#x3D;5.705，p&#x3D;0.000&lt;0.05)，也即说明promotion，live-commerce，gift，place，habit，salary，represent，brand-linkage，price，brand，quality，wrap，age，usuall中至少一项会对willingness产生影响关系，另外，针对模型的多重共线性进行检验发现，模型中VIF值全部均小于5，意味着不存在着共线性问题；并且D-W值在数字2附近，因而说明模型不存在自相关性，样本数据之间并没有关联关系，模型较好。最终具体分析可知：</p>
<p>\begin{itemize}<br>    \item promotion的回归系数值为0.261(t&#x3D;2.853，p&#x3D;0.005&lt;0.01)，意味着promotion会对willingness产生显著的正向影响关系。<br>    \item live-commerce的回归系数值为0.288(t&#x3D;2.514，p&#x3D;0.014&lt;0.05)，意味着live-commerce会对willingness产生显著的正向影响关系。<br>    \item gift的回归系数值为0.203(t&#x3D;2.073，p&#x3D;0.041&lt;0.05)，意味着gift会对willingness产生显著的正向影响关系。<br>    \item place的回归系数值为0.750(t&#x3D;2.185，p&#x3D;0.032&lt;0.05)，意味着place会对willingness产生显著的正向影响关系。<br>    \item habit的回归系数值为0.476(t&#x3D;1.678，p&#x3D;0.097&gt;0.05)，意味着habit并不会对willingness产生影响关系。<br>    \item salary的回归系数值为0.034(t&#x3D;0.431，p&#x3D;0.667&gt;0.05)，意味着salary并不会对willingness产生影响关系。<br>    \item represent的回归系数值为-0.174(t&#x3D;-1.634，p&#x3D;0.106&gt;0.05)，意味着represent并不会对willingness产生影响关系。<br>    \item brand-linkage的回归系数值为0.187(t&#x3D;1.495，p&#x3D;0.139&gt;0.05)，意味着brand-linkage并不会对willingness产生影响关系。<br>    \item price的回归系数值为-0.181(t&#x3D;-0.681，p&#x3D;0.497&gt;0.05)，意味着price并不会对willingness产生影响关系。<br>    \item brand的回归系数值为-0.054(t&#x3D;-0.203，p&#x3D;0.840&gt;0.05)，意味着brand并不会对willingness产生影响关系。<br>    \item quality的回归系数值为-0.050(t&#x3D;-0.188，p&#x3D;0.852&gt;0.05)，意味着quality并不会对willingness产生影响关系。<br>    \item wrap的回归系数值为-0.175(t&#x3D;-0.697，p&#x3D;0.488&gt;0.05)，意味着wrap并不会对willingness产生影响关系。<br>    \item age的回归系数值为0.222(t&#x3D;1.507，p&#x3D;0.136&gt;0.05)，意味着age并不会对willingness产生影响关系。<br>    \item usual的回归系数值为-0.060(t&#x3D;-0.253，p&#x3D;0.801&gt;0.05)，意味着usual并不会对willingness产生影响关系。<br>\end{itemize}</p>
<p>总结分析可知：promotion, live-commerce, gift, place会对willingness产生显著的正向影响。</p>
<p>\begin{figure}[htbp]<br>    \centering<br>    \includegraphics[width&#x3D;.8\textwidth]{17.png} 	% 图片相对位置<br>    \caption{分析结果差异可视化}		% 图片标题<br>    \label{Model1 flowchart}							% 图片标签<br>\end{figure}<br>\begin{figure}[htbp]<br>    \centering<br>    \includegraphics[width&#x3D;.3\textwidth]{18.png} 	% 图片相对位置<br>    \caption{各参数影响因子}		% 图片标题<br>    \label{Model1 flowchart}							% 图片标签<br>\end{figure}</p>
<p>\subsubsection{决策结果}</p>
<p>由相关性分析</p>
<p>\begin{itemize}<br>    \item willingness和promotion之间的相关系数值为0.466<br>    \item willingness和place之间的相关系数值为0.332<br>    \item willingness和live-commerce之间的相关系数值为0.424<br>    \item willingness和brand-linkage之间的相关系数值为0.331<br>    \item willingness和gift之间的相关系数值为0.369<br>\end{itemize}</p>
<p>由线性回归分析</p>
<p>\begin{itemize}<br>    \item gift的回归系数值为0.203(t&#x3D;2.073，p&#x3D;0.041&lt;0.05)，意味着gift会对willingness产生显著的正向影响关系。<br>    \item place的回归系数值为0.750(t&#x3D;2.185，p&#x3D;0.032&lt;0.05)，意味着place会对willingness产生显著的正向影响关系。<br>\end{itemize}</p>
<p>基于以上分析我们得出以下结论：</p>
<p>\textbf{（1）对于水的销售取决于价格促销，这与年龄和薪水无关。}</p>
<p>\textbf{（2）相关性分析和线性回归都提到了线下这个点，所以消费者更愿意到线下购买。}</p>
<p>\textbf{（3）消费者对于互联网直播带货有非常大的兴趣，所以要打开互联网直播营销市场。}</p>
<p>\textbf{（4）消费者需要对品牌联动也有足够的消费意愿。}</p>
<p>\textbf{（5）相关性分析和线性回归都有赠送赠品，说明gift能提升消费者的购买意愿。}</p>
<pre><code>\section&#123;结合数据分析结果的4P营销组合策略&#125;

\subsection&#123;产品策略（products）&#125;
通过我们数据分析的结果，我们可以得知，产品的水源品质是最重要的因素，占到了（此处插入数据）是受到年轻消费者最重视的因素。因此，我们可以得到一个这样的判断，产品的品质是产品策略需要考虑的第一要素。

我们在网络上查找了新锐天然矿泉水品牌“正大所以润”的一些资料，所以润天然矿泉水臻选北纬36°-46°世界级三大黄金水源地之一长白山、地下深层1600米的优质水源。富含天然矿物质、微量元素，低TDS值，水质轻盈柔软，口感绵软清冽、顺滑甘甜，呈天然弱碱性，适宜长期饮用。

产品的水源地经过了精选，水源纯净优质，口感好。同时，我们也调查了市面上其他品牌生产的矿泉水，相对而言，很多品牌的水源地选择并没有那么严格。例如西安市本地消费者经常饮用的某矿泉水品牌，水源来自长安区某秦岭峪口。秦岭北麓靠近西安市，西安市作为新一线城市和国家中心城市，工业所带来污染和大量人口所产生的环境不利因素比远离核心经济区的长白山自然保护区更多，因此秦岭的水源相对而言是不如长白山水源优质的。所以该产品的水源品质是高于大多数西安市年轻消费者现在所饮用矿泉水产品的平均水平的。

既然我们需要营销的产品在产品本身的水源品质上已经具有比较大的优势，那么我们给出以下的策略，在营销上我们需要突出强调品牌水源优质的优势。从而吸引年轻消费者对本品牌的信任和喜爱。

我们认为在营销活动之中，强调“长白山”这一卖点是非常有利的。长白山作为我国吉林省的旅游胜地，本身知名度高，能给人一种纯净的心理暗示能够最大程度帮助品牌，构建水源优质的品牌形象，吸引更多年轻消费者购买。

目前也有越来越多的年轻人重视健康管理，强调产品本身富含微量元素，会对产品的销售有利。

而在产品的附加价值上面，令我们感到意外的是，年轻的受访者给出的答案对产品的包装外观关注度是比较小的，这和我们的预想有所差异。因此，我们认为，在产品包装外观上并不需要做得太过花哨，要让产品包装外观回归产品本质，作为天然矿泉水产品，在外观上运用现代化的极简风格，更大透明度的材质包装，可能会给消费者带来更多的水源纯净的心理暗示，对产品营销有利。

\subsection&#123;价格策略（price）&#125;

在我们的调研结果中可以显示，各类营销活动中，价格因素是大家考虑更多的。价格因素的占比是（此处插入数据）也就是说，在营销活动中，更实惠的价格将对产品的销售有利。同时，根据我们收集到的数据，Z世代的年轻人年龄并不大，很多受访者还是在校学生，并没有稳定收入，大多数同学家长提供的生活费也是相对有限的。有少部分受访者已经就业，但作为刚毕业不久的年轻人，收入区间大多数都分布在较低的区段，因此我们目标的Z世代年轻消费者群体有相当大一部分是价格敏感型消费者。我们在营销活动上在价格方面需要进行一些更大程度的优惠，这样我们的营销活动才更加有效。z

在成本分析方面，主要产生的费用有工厂取水费用、包装费用、运输费用、广告费用等等。

我们由于需要在价格上进行比较大的优惠这样才能更好的营销，我们认为可以一定程度上削减运输成本，从水源地吉林省到陕西省销售分区域，路程较远，可能产生的运输成本较高，从消费者的角度上来讲，在价格上并不实惠。尤其是当价格敏感的消费者在线上购物时，虽然网购价格比线下零售具有一定程度的价格优惠，但如果需要支付邮费的话，这会增加消费者的费用支出，消费成本上升，消费者取消订单的概率就增加了。我们在价格策略上需要尽可能减少这种情况的发生。我们可以联合电子商务平台，在陕西省本地设立存储仓库，先将大批量的天然矿泉水从吉林长白山运输到陕西省省会西安市，降低单位运输成本，西安市的消费者下单的时候，可以就近运输，在价格上可以实现包邮价，这样的价格策略会使得消费者获得更多的实惠感，有利于形成稳定的年轻消费者客户群体。总而言之，在营销活动中实行包邮价的价格策略，我们认为会对产品的推广和销售有帮助的。

\subsection&#123;渠道策略（place）&#125;

在我们的调研中，我们可以分析到，大多数的年轻消费者在选择消费天然矿泉水时，更多的是通过线下的渠道。回收的问卷中，主要通过线下渠道的超过了（此处插入数据）这些渠道包括了超市、商场、送水师傅等。因此我们在制定线上的营销活动打法时，不单单是只关注线上渠道的营销活动，也需要线下线上相结合。

在超市、便利店等环境中，我们可以与便利店进行商业合作，在产品推出的初期，为了尽快打开产品的知名度，把我们需要推广的天然矿泉水产品放在冰柜里中间层，获得更高的关注度，在消费者心中留下一定印象，下次在网络上选购时，消费者将更倾向于自己曾见到过的品牌产品。

在商场环境中，进行一些试喝、品尝的活动也是有利于营销活动的开展的。

我们尤其需要关注到送水师傅这一渠道，经过我们的进一步调研，我们发现目前送水师傅这一渠道仍然停留在比较原始的状态，用水票来兑换矿泉水。与此同时，送水师傅这一渠道具有量大的特点。Z世代的消费者大多目前还居住在校园宿舍，或是大城市的出租房里，购买专业净水器的是比较少的，很多年轻消费者在饮用天然矿泉水方面还是比较依赖于送水师傅这一渠道，我们认为可以在这一渠道上与送水师傅打“联合战”。消费者在线上电子商务平台或线上社区团购平台下优惠订单，送水师傅立即送水上楼。

在线上平台的渠道本身，直播带货是目前比较新颖也是有效的营销活动方式，根据我们的调研，认为直播带货这一渠道会影响自己选购天然矿泉水产品的程度处于一个比较适中的程度。也就是说，我们可以分析得到，直播带货在年轻人当中的受众也并不是那么广的，但与此同时也有一部分的年轻消费者会通过主播开直播带货下单产品，因此为了全方位的进行营销活动，直播带货这一渠道也是不容忽略的。直播带货除了直接在购物app旗舰店里直接开直播以外，还可以使用b站、抖音、快手等直播渠道。

在直播带货当中，我们引入KOL这一新的概念，KOL即Key Opinion Leader的缩写，中文翻译过来是意见领袖的意思，是指在某个领域发表观点、有一定影响力的人。其实KOL在我们的生活中，不仅仅是某个特定领域的领袖，也是各类网红、博主、主播等等。利用KOL的影响力，进行直播带货，往往能达到事半功倍的效果。

我们在事前的市场调研中也发现，存在一种方式即生产商自己的网络旗舰店可以和购物app达成推广合作，购物app通过广告的形式将产品推送到更考前的位置，这是一种非常简单直接但又有效的营销办法。

\subsection&#123;促销策略（promotion）&#125;

在我们收回的问卷中，还有一点是非常值得关注的，年轻消费者对品牌联动的关注度是要高于我们的预期（此处插入数据），并且与此同时前面也提到了年轻消费者在天然矿泉水的选购过程当中是相对来说不那么看中品牌而是水源品质本身的。这就启示我们，如果天然矿泉水本身的品牌较难构建较大的选购吸引力，我们可以尝试与其他领域的品牌进行联动，通过其他品牌的联动价值为我们的产品引流。因此我们认为在促销策略当中注重品牌联动的打法也是比较重要的，能够吸引到一部分的Z世代年轻消费者。  

Z世代年轻人对网络上的新鲜事物会产生比较大的兴趣，在我们对其他品牌的观察调研中我们也发现，一些与大热电视剧、动漫、网络小说、手游的联动将会带来很高的话题度。这种促销策略是值得去借鉴的。

我们也收集到了数据显示，赠送赠品的产品会产生比较大的吸引力。其实并不是只有年级较长的消费者会看中赠品这一促销形式，在我们的问卷里，许多年轻的消费者也对赠送赠品展现了较大的兴趣（此处插入数据）。因此我们在促销活动上可以充分考虑赠送赠品这一方式。我们在事前的调研也发现，线上销售相比线下的零售具有量大的特点，因此对于购买整箱天然矿泉水的顾客在促销活动时给他们赠送一些赠品（如果这些赠品可以与其他品牌进行联动效果尤佳），我们认为可以纳入在制定营销活动时的考虑范围。

除此之外，天然矿泉水本身也可以作为赠品来营销，我们在调研中了解到，正大集团作为市场领先的食品供应商，旗下有多款已经非常成熟的销售产品，在营销活动时，将新锐品牌“正大所以润”天然矿泉水作为赠品赠出，既能够让消费者感到实惠，又能让消费者了解到“正大所以润”这款产品，并进行初次的品尝，有利于消费者真实感受到产品的水源品质和良好的口感，在下次购买天然矿泉水时选购“正大所以润”，将天然矿泉水在营销活动时作为赠品赠送出，对天然矿泉水产品消费者群体的构建和知名度打开都是非常有利的。

\section&#123;可行性建议&#125;

本次调研立足“更受Z世代目标群体欢迎的天然矿泉水品牌营销活动”，以正大集团旗下出品品牌“正大所以润”为例，并通过网络搜索引擎调研了目前市面上的优秀营销参考案例、其他品牌的整体行业情况，通过问卷倾听了潜在消费者的声音，了解他们在消费天然矿泉水时的一些消费习惯和消费喜好，我们给出了以下一些可行性建议，希望能够对具体营销活动开展的决策起到一定的帮助。

\subsection&#123;立足产品本身优良水源品质&#125;

品质是消费者在消费天然矿泉水时非常注重的一点。人每天都需要饮用大量的饮用水，水是人们生活的必需品，并且水需要进入人类的口中和体内，人们对喝进和吃进去的东西往往是很关注的。水源品质是我们营销的一大卖点，也是能够获得消费者青睐的非常重要的因素。在营销活动中，将本产品优良的水源地——长白山、水富含的微量元素等等通过各种形式给展示出来，我们认为是对营销活动帮助非常大的。
我们也了解到“正大所以润”产品本身也具有较高的品质，重点立足优良水源品质进行营销活动是十分可行且吸引消费者的。

\subsection&#123;在新锐品牌打入市场初期价格上让利顾客&#125;

“正大所以润”作为新锐品牌，在投入市场初期可能会面临知名度不够高等等问题，并且天然矿泉水市场目前已经有非常多其他公司推出的成熟的品牌。要逐渐打入市场，就需要让消费者感受到本产品的竞争力。除了水源优质的核心竞争力外，根据我们调研所知，价格仍然是年轻消费者考虑的重要因素，我们还需要结合价格打法。无论多么新颖的营销活动战术，倘若消费者感受不到消费的实惠的话，营销活动的效果都会大大打折扣。消费者在最终消费时可能会考虑到价格不够实惠而止步，取消订单。
新锐天然矿泉水品牌打入市场要抢占已有品牌的市场，在价格上给顾客更多的让利空间，更快地在年轻消费者群体中形成知名度和好口碑。
年轻消费者具有很强的社交属性，同时“捡实惠”在Z世代的消费观念中也占有很大的地位。例如知名购物app“拼多多”成立时间比老牌购物app“淘宝”等要晚很多，但拼多多靠自己的低价实惠战术和社交传播享优惠战术迅速赢得了消费市场，不仅是年长的消费者群体，在年轻的消费者群体中，使用拼多多app的也占相当大的比例。拼多多的低价营销战略和社交传播战略无疑是非常成功的，这为我们新锐天然矿泉水品牌要在线上开展营销活动提供了相当大的借鉴作用。新锐品牌打入市场初期，在价格上让利顾客更多，如果能将价格战术与社交传播战术相结合，将会发挥1+1&gt;2的爆炸式营销效果。
在让利顾客的具体做法上，可以使用“包邮价”这一营销活动，这符合消费者的网购心理研究，消费者在网购时会对包邮活动的产品产生更多的实惠获得感心理。

\subsection&#123;采用具有信息化时代特征与时俱进的营销活动方式&#125;

近年来，随着通信技术的进一步发展，移动设备的进一步普及，流量资费水平的降低，视频类流媒体掀起了信息传播的一场新的革命。线上商品的营销的从简单的文字、到图文并茂的图片、到现在多感官刺激的视频，更新颖的营销方式产生并流行了。Z世代是网络时代的“原住民”，对视频类的营销活动这一新鲜的方式展现出更大的兴趣，我们在调研中发现有很多的年轻消费者相比传统的流量明星代言更受到网络直播带货的影响，这一点对我们进行营销活动有一定的启示。
因此我们认为，适当地开展网络直播带货这一具有信息化时代特征与时俱进的营销活动方式是可行的，能为产品的营销带来较好的效果。
具体网络直播带货的形式可以多样，既可以直接通过购物app正大品牌官方旗舰网店开直播，也可以在抖音、快手、b站之类的视频网站开直播，相比传统的流量明星站台法，虽然流量明星会有一定的号召力，但瞄准的群体更多的是粉丝群体，对于更广大的消费者群体覆盖面是相对有限的。商务主播带货的口播业务能力强，通过直播直接与消费者实时互动情绪感染力强，覆盖面更广，除了头部主播，达成商务的成本也比流量明星低很多。是可行且有效的营销活动方案。

\subsection&#123;适当采用品牌联动营销打法&#125;

天然矿泉水作为一种生活必需品和简单消耗品，本身在品牌上深挖的空间是相对有限的。在调研结果的数据分析中我们也可以得知，年轻消费者在选购天然矿泉水是，相对价格、水源品质等因素，是不那么关注品牌的。那么如何在品牌方面营销吸引到更多的年轻消费者，我们认为，“借力”是一种双赢且有效的方法。
借其他领域品牌的影响力，跨界联动，品牌联动营销也是目前市面上最近一段时间新兴的营销活动，品牌联动会带来消费者更多的关注。例如我们在调研中发现茶饮品牌“喜茶”长期与各种意想不到的领域的品牌进行联动，头部新能源车企“特斯拉”、网络游戏独角兽企业“上海米哈游”、热播影视连续剧“梦华录”、商务办公软件“wps”……都为保持喜茶的营销热度起到了非常大的作用。作为茶饮行业的喜茶，竞争对手多，产品本质与竞争对手难以形成非同质化的差异，和我们的天然矿泉水具有相似性，我们认为可以进行这种“借力”的品牌打法，为新锐品牌赢得更多的关注度，逐渐走进消费者的了解范围中。
年轻的Z世代消费者对新奇的事物更感兴趣，他们热衷于尝试各种异想天开的跨界混搭，品牌联动的营销打法对年轻消费者的吸引力非常强，能够弥补天然矿泉水品牌本身的品牌吸引力有限的客观缺陷。同时，“正大所以润”母公司正大集团作为大型跨国企业以及食品领域的领头羊企业，在商务合作中有大公司品质保障和商业知名度高的优势，合作方会更青睐和有头有名的大公司进行品牌联动营销，因此我们有理由认为“正大所以润”在营销活动中采取一些品牌联动的方式是可行的、效果好的。是可以尝试的办法。
</code></pre>
<p>​	<br>​	%引用：图\ref{fig},式\eqref{eq},表\ref{tab}<br>​	<br>​	\begin{thebibliography}{99}<br>​		\setlength{\parskip}{0.5pt} %段落之间的竖直距离<br>​		\bibitem{ref1}原祎航,基于国潮的兴起浅谈管理品牌资产的重要意义——以花西子品牌为例[.现代销(学苑版）,2021(11):43-45<br>​		\bibitem{ref2} 姚云萍,中华老宇号品牌活化策略研究[D]湖南大学,2019.<br>​		\bibitem{ref3}电商新生态助力经济复苏后疫情时代零售消费洞察报告 2020 年[C].艾瑞咨询系列研究报告（2020 年第 7 期）[出版者不详],2020:129-173.<br>​		\bibitem{ref4}李桂华,胡纪雯,品牌年轻化：老字号如何迎接新世代[J],⾦融博览,2021(05):62-64.<br>​		\bibitem{ref5}Smith, Wendell. (1956).Product Differentiation and Market Segmentation as Alternative Marketing Strategies [M]. Journal of Marketing, 21(July 1956)3-8.<br>​		\bibitem{ref6}Williuam D. Perreault.Jr, JosephP.Cannon, E. JeromeMccarthy. Basic marketing: a marketing.<br>​		\bibitem{ref7}Hauke J, Kossowski T. Comparison of Values of Pearson’s and Spearman’s Correlation Coefficients on the Same Sets of Data[J]. Quaestiones Geographicae, 2011, 30(2):87-93.<br>​		\bibitem{ref8}Arndt S, Turvey C, Andreasen N C. Correlating and predicting psychiatric symptom ratings: Spearmans r versus Kendalls tau correlation[J]. Journal of Psychiatric Research, 1999, 33(2):97-104.<br>​		\bibitem{ref9}Sun Dao-de. Selection of the Linear Regression Model According to the Parameter Estimation[J]. Wuhan University Journal of Natural Sciences, 2000, 5(4):400-405.<br>​		\bibitem{ref10}Barassi M R. Microeconometrics; Methods and Applications by A. Colin Cameron; Pravin K. Trivedi[J]. 2005.<br>​		\bibitem{ref11}威廉H·格林.经济计量分析[M].北京:中国社会科学出版社,1998.<br>​		\bibitem{ref12}张厚粲, 徐建平. 现代心理与教育统计学.第3版[M]. 北京师范大学出版社, 2009.<br>​		\bibitem{ref13}Hosmane B S. Improved likelihood ratio tests and pearson chi-square tests for independence in two dimensional contingency tables[J]. Communications in Statistics, 1986, 15(6):1875-1888.<br>​		\bibitem{ref14}MatthewGoldstein, EdwardWolf, WilliamDillon. On a test of independence for contingency tables[J]. Communications in Statistics, 1976, 5(2):159-169.<br>​	\end{thebibliography}<br>​	<br>​	\appendix<br>​	\section{附录}<br>​	\subsection{问卷}<br>​	\textbf{1.您经常饮用矿泉水吗？[单选题]}<br>​	<br>​	从不<br>​	<br>​	偶尔<br>​	<br>​	经常<br>​	<br>​	\textbf{2.您一般在什么场所购买天然矿泉水？[单选题]}<br>​	<br>    线下（超市、商场、送水师傅等）</p>
<pre><code>线上

\textbf&#123;3.您有长期饮用矿泉水的习惯吗？[单选题]&#125;

有

没有

\textbf&#123;4.线上营销活动影响会影响您选购天然矿泉水吗？[量表题]&#125;

(5分表示影响较大，1分表示影响较小，分值越低表示影响越低)

    \begin&#123;figure&#125;[htbp]
    \centering
    \includegraphics[width=0.6\textwidth]&#123;19.png&#125; 	% 图片相对位置
    \caption&#123;&#125;		% 图片标题 
    \label&#123;Model1 flowchart&#125;							% 图片标签
\end&#123;figure&#125;

\textbf&#123;5.哪些营销活动对您选购天然矿泉水产品影响较大[矩阵量表题]&#125;

\begin&#123;figure&#125;[htbp]
    \centering
    \includegraphics[width=0.5\textwidth]&#123;20.png&#125; 	% 图片相对位置
    \caption&#123;&#125;		% 图片标题 
    \label&#123;Model1 flowchart&#125;							% 图片标签
\end&#123;figure&#125;

\textbf&#123;6.线上购买天然矿泉水时最注重的因素是什么？[多选题]&#125;

价格

品牌

水源品质

包装美观

产品所带来的其他价值:

\textbf&#123;7.您听说过“正大所以润”吗？[单选题]&#125;

是

否

\textbf&#123;8.您的年龄[单选题]&#125;

17-19

20-21

22-23

\textbf&#123;9.您的性别[单选题]&#125;

男

女

\textbf&#123;10.您的年收入情况[单选题](人民币\ 元\ 年)&#125;

我是学生，暂无稳定收入

低于50000

50000-99999

100000-149999

150000-199999

200000-299999

300000及以上
</code></pre>
<p>​	<br>​	\textbf{备注：}为了更好反映消费者选购天然矿泉水的情况，更加符合问卷填写的逻辑。问卷增加了逻辑设置。分为A、B卷，AB卷的识别通过第一题来判断，选择“从不”的受访者完成A卷，选择“偶尔”、“经常”的受访者完成B卷。<br>​	<br>​	A卷包含1、4、5、7、8、9、10题，B卷包括全部题。</p>
<p>\end{document}</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/12/21/%E7%AC%AC%E4%B8%80%E6%AC%A1%E7%BB%84%E4%BC%9A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ang.jpg">
      <meta itemprop="name" content="Ang">
      <meta itemprop="description" content="Why do learn?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ang's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/12/21/%E7%AC%AC%E4%B8%80%E6%AC%A1%E7%BB%84%E4%BC%9A/" class="post-title-link" itemprop="url">第一次组会</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-12-21 09:19:31" itemprop="dateCreated datePublished" datetime="2022-12-21T09:19:31+08:00">2022-12-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-11 17:28:12" itemprop="dateModified" datetime="2023-07-11T17:28:12+08:00">2023-07-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Crypto/" itemprop="url" rel="index"><span itemprop="name">Crypto</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="呜呜呜呜呜呜呜呜呜呜呜"><a href="#呜呜呜呜呜呜呜呜呜呜呜" class="headerlink" title="呜呜呜呜呜呜呜呜呜呜呜"></a>呜呜呜呜呜呜呜呜呜呜呜</h1><h2 id="第一题"><a href="#第一题" class="headerlink" title="第一题"></a>第一题</h2><h5 id="level1："><a href="#level1：" class="headerlink" title="level1："></a>level1：</h5><p>第一眼威尔逊定理，第二眼，草，不是，给出了p，则有：<br>$$<br>e &#x3D; 1*(p-210)!mod p<br>$$<br>则有设第二个返回值为x，<br>$$<br>x &#x3D; (m^e)mod p\<br>m &#x3D; x*e^(-1)mod p<br>$$<br>e为一个小于p的数，则有e一定和p互素，所以存在关于p的唯一逆元</p>
<p>已知e，则求出m</p>
<h5 id="level2："><a href="#level2：" class="headerlink" title="level2："></a>level2：</h5><p>$$<br>x &#x3D; (127<em>m+555)modp\<br>(x-555) &#x3D; (127</em>m)mod p\<br>m &#x3D; (x-555)*(127^(-1))mod p<br>$$</p>
<p>还需要判断一下127是否与p互素，显然互素。</p>
<h5 id="level3："><a href="#level3：" class="headerlink" title="level3："></a>level3：</h5><p>crt-rsa</p>
<p>已知<br>$$<br>m1 &#x3D; m\ mod \ p\<br> m2&#x3D; m\ mod\ q<br>$$<br>则由于p，q互素，则存在唯一一个m满足上述方程<br>$$<br>m &#x3D; inv(q)*q <em>m1+inv(p)<em>p</em>m2\ mod \ （p</em>q)<br>$$<br>其中inv(p)为p关于q的逆，inv(q)同理。</p>
<h5 id="level4："><a href="#level4：" class="headerlink" title="level4："></a>level4：</h5><p>解方程？还妹看懂&#x2F;&#x2F;(发现这是数论中二次同余式的知识，还没学到，直接进行临时补习，先去补习了)</p>
<p>$$<br>x &#x3D; (m^2 +3<em>m+5)\ mod\ p\<br>3 &#x3D; p mod4\<br>p &#x3D; 4</em>k+3\<br>(x-11&#x2F;4) &#x3D; (m+3&#x2F;2)^2\ mod \ p\<br>(4x-11) &#x3D; (2m+3)^2\ mod \ p\<br>$$</p>
<p> 此时 p为已知，x为已知，下面进行解方程</p>
<p>设x &#x3D; 2m+3，n &#x3D; 4x-11<br>$$<br>n &#x3D; x^2\ mod \ p\<br>x^2 - n &#x3D; mp\<br>(x^2-n)^k &#x3D; (mp)^k\<br>设w^2 &#x3D; n\<br>则有(x+w)^k(x-w)^k &#x3D; (mp)^k\<br>进行二项式展开\<br>\ \  \ \ \ \ \ \ \ \ \ \ \ (x+w)^k  &#x3D; …\ &#x3D; t+uw(打不出来呜呜呜)\<br>(x-w)^k &#x3D; …\ &#x3D; t-uw\<br>$$<br>所以原式等价于<br>$$<br>t^2 - u^2n &#x3D; (mp)^k\<br>t^2 - u^2n &#x3D; 0 \ mod \ p\<br>t^2 &#x3D; u^2n\ mod \ p\<br>由于gcd(p,u) &#x3D; 1(证明过程好长)\<br>n &#x3D; t^2*inv(u^2) \ mod \ p\<br>$$<br>在本题中k &#x3D; 1带入</p>
<p>最后得到<br>$$<br>x^2 &#x3D; t^2inv(u)^2\ mod \ p\<br>x1 &#x3D; t*inv(u)\ mod\ p\<br>x2 &#x3D; (p-x1)\ mod \ p<br>\<br>$$<br>代码(偷懒只写了k &#x3D; 1 的代码，其实口算就能算出来，有时间一定补完整的)</p>
<p>（二次剩余的证明好难好难，数论书的证明过程看不懂，，，，，，）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">p = getPrime()</span><br><span class="line">x = <span class="number">2</span>*m+<span class="number">3</span></span><br><span class="line">n  = <span class="number">4</span>*x - <span class="number">11</span></span><br><span class="line"></span><br><span class="line">w = <span class="built_in">pow</span>(n,<span class="number">1</span>/<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">k = <span class="number">1</span></span><br><span class="line">t = x</span><br><span class="line">u = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">inv_u = inverse(u,p)</span><br><span class="line">x1 = t*inv_u%p</span><br><span class="line">x2 = (p-x1)%p</span><br><span class="line"></span><br><span class="line">m = (x-<span class="number">3</span>)/<span class="number">2</span></span><br></pre></td></tr></table></figure>



<h2 id="第二题：Rabin加解密"><a href="#第二题：Rabin加解密" class="headerlink" title="第二题：Rabin加解密"></a>第二题：Rabin加解密</h2><p>选取两个大的不同素数p和q，两个都同余3模4</p>
<p>计算n &#x3D; P*q</p>
<p>p,q作为私钥，n作为公钥</p>
<h5 id="加密过程：对于明文m-m-lt-n-和密文c，c-x3D-m-2-mod-n"><a href="#加密过程：对于明文m-m-lt-n-和密文c，c-x3D-m-2-mod-n" class="headerlink" title="加密过程：对于明文m(m&lt;n)和密文c，c &#x3D; m^2 mod n"></a>加密过程：对于明文m(m&lt;n)和密文c，c &#x3D; m^2 mod n</h5><h5 id="解密过程"><a href="#解密过程" class="headerlink" title="解密过程:"></a>解密过程:</h5><h5 id="lt-1-gt-根据费马小定理计算m在模p和q时的平方根（有时间再来补上费马小定理对于此方程的证明过程）"><a href="#lt-1-gt-根据费马小定理计算m在模p和q时的平方根（有时间再来补上费马小定理对于此方程的证明过程）" class="headerlink" title="&lt;1&gt;根据费马小定理计算m在模p和q时的平方根（有时间再来补上费马小定理对于此方程的证明过程）"></a>&lt;1&gt;根据费马小定理计算m在模p和q时的平方根（有时间再来补上费马小定理对于此方程的证明过程）</h5><p>p &#x3D; 4*k +1, 4|p+1</p>
<p>对于c&#x3D;m^2 mod p 来说，c是模p的二次剩余</p>
<p>即有：c^((p-1)&#x2F;2) &#x3D; 1 mod p</p>
<p>带入有<br>$$<br>m^2 &#x3D; c(mod p)&#x3D;c^((p-1)&#x2F;2)*c (mod p)-c((p+1)&#x2F;2)modp<br>$$<br>则对于上述方程开方得到<br>$$<br>m1 &#x3D; c((p+1)&#x2F;4)mod \<br>m2 &#x3D; (p-c^((p+1)&#x2F;4))mod p\<br>$$<br>对于q同理</p>
<p>所以我们得到下述方程<br>$$<br>m1 &#x3D; c^(1&#x2F;4 \ * (p+1)) \ mod\ p\<br>m1 &#x3D; c(1&#x2F;4\ *(q+1))\ mod q<br>$$</p>
<p>从m1,m2以及m3,m4中分别选出一个方程，共有4种情况分别用中国剩余定理，则可得到四个关于m的解</p>
<p>here is 代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">c1=<span class="built_in">pow</span>(c,(p+<span class="number">1</span>)/<span class="number">4</span>,p)</span><br><span class="line">c2=<span class="built_in">pow</span>(c,(q+<span class="number">1</span>)/<span class="number">4</span>,q)</span><br><span class="line">c3=p-c1</span><br><span class="line">c4=q-c2</span><br><span class="line">t1=gmpy2.invert(p,q)<span class="comment">#p的模q逆元</span></span><br><span class="line">t2=gmpy2.invert(q,p)<span class="comment">#q的模p逆元</span></span><br><span class="line"></span><br><span class="line">m1=(q*c1*t2+p*c2*t1)%n</span><br><span class="line">m2=(q*c1*t2+p*c4*t1)%n <span class="comment"># or m2=n-m1</span></span><br><span class="line">m3=(q*c3*t2+p*c2*t1)%n</span><br><span class="line">m4=(q*c3*t2+p*c4*t1)%n <span class="comment"># or m4=n-m3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span>(m1,m2,m3,m4):</span><br><span class="line">    m = <span class="string">&#x27;%x&#x27;</span> % i</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(m)%<span class="number">2</span>==<span class="number">1</span>:</span><br><span class="line">        m=<span class="string">&#x27;0&#x27;</span>+m </span><br><span class="line">    <span class="built_in">print</span>(m.decode())   </span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="第三题：RSA"><a href="#第三题：RSA" class="headerlink" title="第三题：RSA"></a>第三题：RSA</h2><p>strongprime：如果p是一个strongprime，则有p+1以及p-1至少有一个大素数因子。</p>
<p>虽然还不清楚这个限制在这个题目中的作用。。。</p>
<p>n1为三个大素数的乘积，则有<br>$$<br>phi(n1) &#x3D; (p-1)<em>(p-1)</em>(q-1)<br>$$<br>接下来就是rsa的解密过程，<br>$$<br>e1*inv(e1)&#x3D;1 mod\ phi(n1)\<br>m[0] &#x3D; pow(c1,inv(e1),n1)<br>$$<br>后面为一个共模攻击，gcd(65537,4007) &#x3D; 1,(待补共模攻击的证明过程)。。。</p>
<p>然后对n2进行分解，则此时有：<br>$$<br>n2 &#x3D; p<em>q\<br>phi(n2)&#x3D;(p-1)</em>(q-1)<br>$$<br>共模攻击推导<br>$$<br>gcd(e1,e2) &#x3D; 1<br>$$<br>由扩展欧几里得公式<br>$$<br>e1<em>s1+e2</em>s2 &#x3D; 1\ \ (设s1为正，s2为负)\<br>c1 &#x3D; pow(m,e1,n2)\ \ c2 &#x3D; pow(m,e2,n2)\\<br>pow(c1,s1)*pow(c2,s2)mod\ n2 &#x3D; (pow(pow(m,e1,n2),s1))<em>pow(pow(m,e2,n2),s2)mod\ n2\<br>&#x3D;pow(m,e1</em>s1)<em>pow(m,e2</em>s2)mod \ n\<br>&#x3D;pow(m,e1s1+e2s2)mod\ n\<br>&#x3D;pow(m,1)mod\ n<br>&#x3D;m mod\ n\<br>最后得到\<br>pow(c1,s1)*pow(c2,s2) &#x3D; m<br>\<br>$$<br>只能感慨一下牛逼，呜呜呜</p>
<p>代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> libnum</span><br><span class="line">s,s1,s2 = gcdext(e1,e2)</span><br><span class="line">m[<span class="number">1</span>] = <span class="built_in">pow</span>(c1,s1,n2)*<span class="built_in">pow</span>(c2,s2,n2)%n2</span><br></pre></td></tr></table></figure>

<p>虽然但是，仍然没有看懂这行代码…</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">m = [bytes_to_long(plaintext[len_p//<span class="number">2</span>*i:len_p//<span class="number">2</span>*(i+<span class="number">1</span>)]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>)]</span><br><span class="line">len_p//<span class="number">2</span>*i:len_p//<span class="number">2</span>*(i+<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>结束！数论好玩喵。（呜呜呜，数论一点也不好玩）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/12/21/ctf%E5%AF%86%E7%A0%81er%E7%95%99%E6%A0%A1%E5%88%B7%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ang.jpg">
      <meta itemprop="name" content="Ang">
      <meta itemprop="description" content="Why do learn?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ang's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/12/21/ctf%E5%AF%86%E7%A0%81er%E7%95%99%E6%A0%A1%E5%88%B7%E9%A2%98/" class="post-title-link" itemprop="url">ctf密码er留校刷题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-12-21 09:18:26" itemprop="dateCreated datePublished" datetime="2022-12-21T09:18:26+08:00">2022-12-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-11 17:28:40" itemprop="dateModified" datetime="2023-07-11T17:28:40+08:00">2023-07-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Crypto/" itemprop="url" rel="index"><span itemprop="name">Crypto</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="留校刷题喵"><a href="#留校刷题喵" class="headerlink" title="留校刷题喵"></a>留校刷题喵</h1><h2 id="Day1"><a href="#Day1" class="headerlink" title="Day1"></a>Day1</h2><h4 id="1、"><a href="#1、" class="headerlink" title="1、"></a>1、</h4><p>base64：将byte数组编码为字符串，且编码出的字符串只包含ASCII基础字符，</p>
<h5 id="其中“-x3D-”号作为填充符。很关键，识别base64解密"><a href="#其中“-x3D-”号作为填充符。很关键，识别base64解密" class="headerlink" title="其中“&#x3D;”号作为填充符。很关键，识别base64解密"></a>其中“&#x3D;”号作为填充符。很关键，识别base64解密</h5><p>编码后的文本只包含64个ASCII字符（偶尔会加一个填充符&#x3D;）</p>
<p>base为了解决各个系统以及传输协议中二进制不兼容的问题而生的</p>
<h5 id="base算法实现过程：、"><a href="#base算法实现过程：、" class="headerlink" title="base算法实现过程：、"></a>base算法实现过程：、</h5><p>1、将原始数据每三个字节作为一组（24bit）</p>
<p>2、将24个bit分为4组（每组6个bit）</p>
<p>3、在每组前面补00，将其补成4组8个bit</p>
<p>4、根据base64码表得到扩展后每个字节的对应符号</p>
<p>结束<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Base64">https://zh.wikipedia.org/wiki/Base64</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/384238870">https://zhuanlan.zhihu.com/p/384238870</a></p>
<h5 id="当原文符号数不是三的倍数的时候，在后面补等于号（binggo！）"><a href="#当原文符号数不是三的倍数的时候，在后面补等于号（binggo！）" class="headerlink" title="当原文符号数不是三的倍数的时候，在后面补等于号（binggo！）"></a>当原文符号数不是三的倍数的时候，在后面补等于号（binggo！）</h5><h4 id="2、URL编码：（百分比编码）"><a href="#2、URL编码：（百分比编码）" class="headerlink" title="2、URL编码：（百分比编码）"></a>2、URL编码：（百分比编码）</h4><p>URL编码将字符串转换为可通过因特网传输的格式</p>
<p>URL只能使用ASCII字符集通过因特网进行发送</p>
<p>URL编码使用后跟16进制数字的%替代不安全的ASCII字符</p>
<p>URL不能包含空格，URL编码使用+或者%20 替代空格。</p>
<p><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/tags/html_ref_urlencode.asp">https://www.w3school.com.cn/tags/html_ref_urlencode.asp</a></p>
<h4 id="3、ROT13"><a href="#3、ROT13" class="headerlink" title="3、ROT13"></a>3、ROT13</h4><p>通过观察偏移量判断出凯斯密码</p>
<p>ROT13是它本身的逆反，同样的操作可同时用于加密和解密</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyzNOPQRSTUVWXYZABCDEFGHIJKLMnopqrstuvwxyzabcdefghijklm</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/ROT13">https://zh.wikipedia.org/wiki/ROT13</a></p>
<p>偏移量为10：Avocat</p>
<p>-5：Cassis</p>
<p>-6：Cassette</p>
<h4 id="4、凯撒密码"><a href="#4、凯撒密码" class="headerlink" title="4、凯撒密码"></a>4、凯撒密码</h4><p>凯撒密码基础加密只会对字母进行偏移</p>
<p><img src="https://img-blog.csdnimg.cn/20201027104312210.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2FvNTI0MjYwNTU=,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>变异凯撒（自己找规律）</p>
<p>python：不可变数据类型：number，string，tuple（元组）</p>
<p>可变数据：列表（List）、字典、集合</p>
<p>python中不存在单个字符的类型，单个字符作为一个字符串来处理</p>
<h5 id="字符转ascii码：ord（）"><a href="#字符转ascii码：ord（）" class="headerlink" title="字符转ascii码：ord（）"></a>字符转ascii码：ord（）</h5><h5 id="数字转字符：chr（数字）"><a href="#数字转字符：chr（数字）" class="headerlink" title="数字转字符：chr（数字）"></a>数字转字符：chr（数字）</h5><h4 id="5、Quoted-printable编码"><a href="#5、Quoted-printable编码" class="headerlink" title="5、Quoted-printable编码"></a>5、Quoted-printable编码</h4><h4 id="6、rabbit加密"><a href="#6、rabbit加密" class="headerlink" title="6、rabbit加密"></a>6、rabbit加密</h4><p>这是一种高速流密码：使用一个128位密匙和一个64位初始化向量，由26个英文字母以及+ - * &#x2F; 组成</p>
<p>以U2FsdGVkX1开头</p>
<p>可能以等号结尾</p>
<h4 id="7、栅栏加密"><a href="#7、栅栏加密" class="headerlink" title="7、栅栏加密"></a>7、栅栏加密</h4><p>把要加密的明文分为N个为一组，然后把每组的第一个字连起来，形成一段无规律的话</p>
<h4 id="8、哈希函数"><a href="#8、哈希函数" class="headerlink" title="8、哈希函数"></a>8、哈希函数</h4><p>1md5转换：128bit 32位</p>
<p>SHA1：160bit 40位</p>
<p>SHA256：256bit 64位</p>
<p>SHA512：512bit 128位</p>
<h4 id="9、windows系统密码（hash文件）"><a href="#9、windows系统密码（hash文件）" class="headerlink" title="9、windows系统密码（hash文件）"></a>9、windows系统密码（hash文件）</h4><p>cmd打开文件命令：start</p>
<h5 id="windows认证体系：NTLM认证"><a href="#windows认证体系：NTLM认证" class="headerlink" title="windows认证体系：NTLM认证"></a>windows认证体系：NTLM认证</h5><p>NLTM-Hash：存储在SAM数据库及NTDS数据库中对密码进行hash摘要计算后的结</p>
<p>数字转中文：unicode编码、中文电码</p>
<h4 id="10、猪圈密码（草）when-the-pig-want-treat"><a href="#10、猪圈密码（草）when-the-pig-want-treat" class="headerlink" title="10、猪圈密码（草）when the pig want treat"></a>10、猪圈密码（草）when the pig want treat</h4><h2 id="Day2"><a href="#Day2" class="headerlink" title="Day2"></a>Day2</h2><h4 id="11、dp-amp-dq泄露"><a href="#11、dp-amp-dq泄露" class="headerlink" title="11、dp&amp;dq泄露"></a>11、dp&amp;dq泄露</h4><p>在这里终于补上了一些东西：</p>
<p>1、欧几里得与扩展欧几里得（用python写递归好抽象。。。）</p>
<p>2、利用费马小定理求逆元时用到的快速幂算法</p>
<h4 id="快速幂算法："><a href="#快速幂算法：" class="headerlink" title="快速幂算法："></a>快速幂算法：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;保留最后的三位，所以要对1000取余&#x27;&#x27;&#x27;</span></span><br><span class="line">mod = <span class="number">1000</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fastpower</span>(<span class="params">a,b</span>):</span><br><span class="line">    ans = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> b&gt;<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">if</span>(b%<span class="number">2</span> == <span class="number">0</span>):</span><br><span class="line">            b//=<span class="number">2</span></span><br><span class="line">            a = a*a%mod</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            b = b-<span class="number">1</span></span><br><span class="line">            ans = ans*a%mod</span><br><span class="line">            b//=<span class="number">2</span></span><br><span class="line">            a = a*a%mod</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(fastpower(<span class="number">2</span>,<span class="number">1000000000</span>))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;下面再对快速幂算法进行优化&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fasterpower</span>(<span class="params">a,b</span>):</span><br><span class="line">    ans = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> b &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">if</span> b%<span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">            ans = ans*a%mod</span><br><span class="line">        b//=<span class="number">2</span> </span><br><span class="line">        a = a*a%mod</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line">ans = fasterpower(<span class="number">2</span>,<span class="number">1000000000</span>)</span><br><span class="line"><span class="built_in">print</span>(ans)</span><br></pre></td></tr></table></figure>



<h5 id="这里是一个给出dp，dq，c，p，q但是并没有给出e的题目，属于dp和dq双泄露但是并没有给定密钥"><a href="#这里是一个给出dp，dq，c，p，q但是并没有给出e的题目，属于dp和dq双泄露但是并没有给定密钥" class="headerlink" title="这里是一个给出dp，dq，c，p，q但是并没有给出e的题目，属于dp和dq双泄露但是并没有给定密钥"></a>这里是一个给出dp，dq，c，p，q但是并没有给出e的题目，属于dp和dq双泄露但是并没有给定密钥</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">p = <span class="number">8637633767257008567099653486541091171320491509433615447539162437911244175885667806398411790524083553445158113502227745206205327690939504032994699902053229</span> </span><br><span class="line">q = <span class="number">12640674973996472769176047937170883420927050821480010581593137135372473880595613737337630629752577346147039284030082593490776630572584959954205336880228469</span> </span><br><span class="line">dp = <span class="number">6500795702216834621109042351193261530650043841056252930930949663358625016881832840728066026150264693076109354874099841380454881716097778307268116910582929</span> </span><br><span class="line">dq = <span class="number">783472263673553449019532580386470672380574033551303889137911760438881683674556098098256795673512201963002175438762767516968043599582527539160811120550041</span> </span><br><span class="line">c = <span class="number">24722305403887382073567316467649080662631552905960229399079107995602154418176056335800638887527614164073530437657085079676157350205351945222989351316076486573599576041978339872265925062764318536089007310270278526159678937431903862892400747915525118983959970607934142974736675784325993445942031372107342103852</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">m1 = <span class="built_in">pow</span>(c,dp,p)</span><br><span class="line">m2 = <span class="built_in">pow</span>(c,dq,q)</span><br><span class="line">inv_p = inverse(p,q)</span><br><span class="line">k = ((m2-m1)%q)*inv_p%q</span><br><span class="line">m = (k*p+m1)%(p*q)</span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(m))</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="12、共模攻击"><a href="#12、共模攻击" class="headerlink" title="12、共模攻击"></a>12、共模攻击</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">c1=<span class="number">22322035275663237041646893770451933509324701913484303338076210603542612758956262869640822486470121149424485571361007421293675516338822195280313794991136048140918842471219840263536338886250492682739436410013436651161720725855484866690084788721349555662019879081501113222996123305533009325964377798892703161521852805956811219563883312896330156298621674684353919547558127920925706842808914762199011054955816534977675267395009575347820387073483928425066536361482774892370969520740304287456555508933372782327506569010772537497541764311429052216291198932092617792645253901478910801592878203564861118912045464959832566051361</span></span><br><span class="line">n=<span class="number">22708078815885011462462049064339185898712439277226831073457888403129378547350292420267016551819052430779004755846649044001024141485283286483130702616057274698473611149508798869706347501931583117632710700787228016480127677393649929530416598686027354216422565934459015161927613607902831542857977859612596282353679327773303727004407262197231586324599181983572622404590354084541788062262164510140605868122410388090174420147752408554129789760902300898046273909007852818474030770699647647363015102118956737673941354217692696044969695308506436573142565573487583507037356944848039864382339216266670673567488871508925311154801</span></span><br><span class="line">e1=<span class="number">11187289</span></span><br><span class="line">c2=<span class="number">18702010045187015556548691642394982835669262147230212731309938675226458555210425972429418449273410535387985931036711854265623905066805665751803269106880746769003478900791099590239513925449748814075904017471585572848473556490565450062664706449128415834787961947266259789785962922238701134079720414228414066193071495304612341052987455615930023536823801499269773357186087452747500840640419365011554421183037505653461286732740983702740822671148045619497667184586123657285604061875653909567822328914065337797733444640351518775487649819978262363617265797982843179630888729407238496650987720428708217115257989007867331698397</span></span><br><span class="line">e2=<span class="number">9647291</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">exgcd</span>(<span class="params">a,b</span>):</span><br><span class="line">    <span class="keyword">if</span> b == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> a,<span class="number">1</span>,<span class="number">0</span></span><br><span class="line">    r,x,y = exgcd(b,a%b)</span><br><span class="line">    k = a//b</span><br><span class="line">    temp = x</span><br><span class="line">    x = y</span><br><span class="line">    y = temp - k*y</span><br><span class="line">    <span class="keyword">return</span> r,x,y</span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fastpower</span>(<span class="params">a,b,mod</span>):</span><br><span class="line">    ans = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span>(b &gt; <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> b%<span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">            ans = ans*a%mod</span><br><span class="line">        a = a*a%mod</span><br><span class="line">        b//=<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">public_mod</span>(<span class="params">c1,c2,e1,e2,n</span>):</span><br><span class="line">    r,s1,s2 = exgcd(e1,e2)</span><br><span class="line">    <span class="built_in">print</span>(r,s1,s2)</span><br><span class="line">    <span class="keyword">if</span> s1 &lt; <span class="number">0</span>:</span><br><span class="line">        s1 = -s1</span><br><span class="line">        c1 = inverse(c1,n)</span><br><span class="line">    <span class="keyword">if</span> s2 &lt; <span class="number">0</span>:</span><br><span class="line">        s2 = -s2</span><br><span class="line">        c2 = inverse(c2,n)</span><br><span class="line"></span><br><span class="line">    m = <span class="built_in">pow</span>(c1,s1,n)*(<span class="built_in">pow</span>(c2,s2,n))%n</span><br><span class="line">    <span class="keyword">return</span> m</span><br><span class="line"></span><br><span class="line">m = public_mod(c1,c2,e1,e2,n)</span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(m))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    </span><br></pre></td></tr></table></figure>



<h4 id="13、Unencode编码："><a href="#13、Unencode编码：" class="headerlink" title="13、Unencode编码："></a>13、Unencode编码：</h4><p>编码算法：将三个字符顺序放入一个24位的缓冲区，缺字符的地方补零，然后将缓冲区截断为4个部分，高位在先，每个部分6位，用专门的64个字符重新表示</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">“`!”<span class="comment">#$%&amp;’()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_”</span></span><br></pre></td></tr></table></figure>

<p>在文件的开头有”begin xxx(被编码的文件名)</p>
<p>在文件的结尾有”end“用于标志Uue文件的开始与结束</p>
<p>编码时，每次读取源文件的45个字符，不足45个的用”NULL”补足为3的整数倍，然后输入目标文件一个ASCII为：</p>
<p>32+实际读取的字符数”的字符作为每一行的开始。读取的字符编码后输入目标文件，再输入一个“换行符”。如果源文件被编码完了，那么输入“&#96;（ASCII为96）”和一个“换行符”表示编码结束。</p>
<p>解码时它将4个字符分别转换为4个6位字符后，截取有用的后六位放入一个 24 位的缓冲区，即得3个二进制代码。</p>
<h4 id="14、dp泄露"><a href="#14、dp泄露" class="headerlink" title="14、dp泄露"></a>14、dp泄露</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">e = <span class="number">65537</span></span><br><span class="line">n = <span class="number">248254007851526241177721526698901802985832766176221609612258877371620580060433101538328030305219918697643619814200930679612109885533801335348445023751670478437073055544724280684733298051599167660303645183146161497485358633681492129668802402065797789905550489547645118787266601929429724133167768465309665906113</span></span><br><span class="line">dp = <span class="number">905074498052346904643025132879518330691925174573054004621877253318682675055421970943552016695528560364834446303196939207056642927148093290374440210503657</span></span><br><span class="line"></span><br><span class="line">c = <span class="number">140423670976252696807533673586209400575664282100684119784203527124521188996403826597436883766041879067494280957410201958935737360380801845453829293997433414188838725751796261702622028587211560353362847191060306578510511380965162133472698713063592621028959167072781482562673683090590521214218071160287665180751</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dp_leak</span>(<span class="params">e,dp,n</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,e):</span><br><span class="line">        <span class="keyword">if</span>(dp*e - <span class="number">1</span>)%i == <span class="number">0</span>:</span><br><span class="line">            p = (dp*e - <span class="number">1</span>)//i + <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> n%p == <span class="number">0</span>:</span><br><span class="line">                q = n//p</span><br><span class="line">                <span class="keyword">return</span> p,q</span><br><span class="line">    </span><br><span class="line">p,q = dp_leak(e,dp,n)</span><br><span class="line">phi_n = (p-<span class="number">1</span>)*(q-<span class="number">1</span>)</span><br><span class="line">d = inverse(e,phi_n)</span><br><span class="line">m = <span class="built_in">pow</span>(c,d,n)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(m))</span><br><span class="line"></span><br><span class="line">        </span><br></pre></td></tr></table></figure>



<h2 id="Day3"><a href="#Day3" class="headerlink" title="Day3"></a>Day3</h2><h4 id="15、十六进制转为字符串"><a href="#15、十六进制转为字符串" class="headerlink" title="15、十六进制转为字符串"></a>15、十六进制转为字符串</h4><p>可以直接用函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c = <span class="string">&#x27;61666374667B317327745F73305F333435797D&#x27;</span></span><br><span class="line">flag = <span class="built_in">bytes</span>.fromhex(c).decode()</span><br><span class="line"><span class="built_in">print</span>(flag)</span><br></pre></td></tr></table></figure>

<p>可以选择base16编码的函数来解码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"></span><br><span class="line">hex_str = <span class="string">&#x27;7468616e6b20796f752076657279206d75636821&#x27;</span> </span><br><span class="line"><span class="built_in">print</span>(base64.b16decode(hex_str.upper()))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>字符串转为16进制：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_char = char.encode().<span class="built_in">hex</span>()</span><br><span class="line"><span class="built_in">print</span>(char + <span class="string">&quot; 的十六进制序列是：&quot;</span> + _char)</span><br></pre></td></tr></table></figure>

<h4 id="16、"><a href="#16、" class="headerlink" title="16、"></a>16、</h4><p>字符串转为二进制</p>
<p>二进制进行异或操作</p>
<p>二进制转为16进制</p>
<p>16进制转为字符串</p>
<h5 id="bytes-from-hex-s"><a href="#bytes-from-hex-s" class="headerlink" title="bytes.from(hex(s))"></a>bytes.from(hex(s))</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">encode</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>.join([<span class="built_in">bin</span>(<span class="built_in">ord</span>(c)).replace(<span class="string">&#x27;0b&#x27;</span>, <span class="string">&#x27;&#x27;</span>) <span class="keyword">for</span> c <span class="keyword">in</span> s])</span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">decode</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join([<span class="built_in">chr</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> [<span class="built_in">int</span>(b, <span class="number">2</span>) <span class="keyword">for</span> b <span class="keyword">in</span> s.split(<span class="string">&#x27; &#x27;</span>)]])</span><br><span class="line">    </span><br><span class="line">s1 = <span class="string">&#x27;ἇ̀Ј唒ဃ塔屋䩘卖剄䐃堂ن䝔嘅均ቄ䩝ᬔ&#x27;</span></span><br><span class="line">s2 = <span class="string">&#x27;asadsasdasdasdasdasdasdasdasdasdqwesqf&#x27;</span></span><br><span class="line"></span><br><span class="line">c1 = <span class="string">&#x27;1111100000111 1100000000 10000001000 101010100010010 1000000000011 101100001010100 101110001001011 100101001011000 101001101010110 101001001000100 100010000000011 101100000000010 11001000110 100011101010100 101011000000101 101011101000111 1001001000100 100101001011101 1101100010100&#x27;</span></span><br><span class="line">c1 = c1.replace(<span class="string">&#x27; &#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">c2 = <span class="string">&#x27;1100001 1110011 1100001 1100100 1110011 1100001 1110011 1100100 1100001 1110011 1100100 1100001 1110011 1100100 1100001 1110011 1100100 1100001 1110011 1100100 1100001 1110011 1100100 1100001 1110011 1100100 1100001 1110011 1100100 1100001 1110011 1100100 1110001 1110111 1100101 1110011 1110001 1100110&#x27;</span></span><br><span class="line">c2 = c2.replace(<span class="string">&#x27; &#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">a = <span class="string">&#x27;0110000101110011011000010110010001110011011000010111001101100100011000010111001101100100011000010111001101100100011000010111001101100100011000010111001101100100011000010111001101100100011000010111001101100100011000010111001101100100011000010111001101100100011100010111011101100101011100110111000101100110&#x27;</span></span><br><span class="line">b = <span class="string">&#x27;0000011100011111000000000000001100001000000001000001001001010101000000110001000001010100010110000100101101011100010110000100101001010110010100110100010001010010000000110100010000000010010110000100011000000110010101000100011100000101010101100100011101010111010001000001001001011101010010100001010000011011&#x27;</span></span><br><span class="line">c = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(a)):</span><br><span class="line">    <span class="keyword">if</span>(a[i] == b[i]):</span><br><span class="line">        c+=<span class="string">&#x27;0&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        c+=<span class="string">&#x27;1&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line">m = <span class="built_in">hex</span>(<span class="built_in">int</span>(c,<span class="number">2</span>))</span><br><span class="line">flag = <span class="built_in">bytes</span>.fromhex(m[<span class="number">2</span>:])</span><br><span class="line"><span class="built_in">print</span>(flag)</span><br></pre></td></tr></table></figure>

<p>下面附上进制转换</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">任意进制转为<span class="number">10</span>进制：</span><br><span class="line"><span class="built_in">int</span>(s,待转换进制)</span><br><span class="line"></span><br><span class="line"><span class="number">10</span>进制转为<span class="number">16</span>进制：</span><br><span class="line"><span class="built_in">hex</span>(s)</span><br><span class="line"></span><br><span class="line"><span class="number">10</span>进制转为<span class="number">2</span>进制</span><br><span class="line"><span class="built_in">bin</span>(s)</span><br><span class="line"></span><br><span class="line"><span class="number">16</span>进制转为<span class="number">2</span>进制：</span><br><span class="line">先要<span class="number">16</span>进制转为<span class="number">10</span>进制再将<span class="number">10</span>进制转为<span class="number">2</span>进制</span><br><span class="line"></span><br><span class="line">任意进制转为<span class="number">8</span>进制</span><br><span class="line"><span class="built_in">oct</span>(s)</span><br><span class="line"></span><br><span class="line"><span class="number">16</span>进制转为字符串</span><br><span class="line"><span class="built_in">bytes</span>.fromhex(s).decode()</span><br></pre></td></tr></table></figure>

<h4 id="17、给出两个文件flag-enc-密文-以及pub-key-公钥"><a href="#17、给出两个文件flag-enc-密文-以及pub-key-公钥" class="headerlink" title="17、给出两个文件flag.enc(密文)以及pub.key(公钥)"></a>17、给出两个文件flag.enc(密文)以及pub.key(公钥)</h4><p>首先根据公钥解出n以及e的具体值</p>
<p>利用openssl？但是还没有仔细看，下次一定看呜呜呜</p>
<p>google得到可以利用python自带的库，又学到了一个新模板Crypto.PublicKey.RSA</p>
<p>直接应用RSA中的importkey函数导入文件：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public_key = RSA.importKey(<span class="built_in">open</span>(<span class="string">r&quot;C:\Users\20191\Desktop\pub.key&quot;</span>,<span class="string">&#x27;rb&#x27;</span>).read())</span><br></pre></td></tr></table></figure>

<p>然后可以yafu将n进行分解p和q</p>
<p>利用rsa库可以得到私钥:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;private.pem&#x27;</span>, mode=<span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> privatefile:</span><br><span class="line">	keydata = privatefile.read()</span><br><span class="line">privkey = rsa.PrivateKey.load_pkcs1(keydata)</span><br><span class="line"></span><br><span class="line">具体操作如下：</span><br><span class="line"><span class="keyword">import</span> rsa</span><br><span class="line">(pubkey, privkey) = rsa.newkeys(<span class="number">512</span>)  <span class="comment"># 创建公钥和私钥，512为设定你加密字符串的最大可支持加密长度为512位=64字节，你也可以按需设置任意长度，越长加密越慢，越短越快</span></span><br><span class="line"><span class="comment"># 将公钥和私钥以pem编码格式保存</span></span><br><span class="line">pub = pubkey.save_pkcs1()</span><br><span class="line">pri = privkey.save_pkcs1()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;公钥初始的值为：<span class="subst">&#123;pubkey&#125;</span>，以pem格式的保存后的数据为：<span class="subst">&#123;pub&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;私钥初始的值为：<span class="subst">&#123;privkey&#125;</span> \n 以pem格式的保存后的私钥数据为：<span class="subst">&#123;pri&#125;</span>&quot;</span>)</span><br><span class="line"><span class="comment">#  打印结果</span></span><br><span class="line"><span class="comment"># 公钥初始的值为：PublicKey(7481244465315159030174941866408088977078689270761513884333182534899112302828868853012354970827459273420757239091319237996571359037764144367408861808720513, 65537) </span></span><br><span class="line"><span class="comment"># 以pem格式的保存后的公钥数据为：b&#x27;-----BEGIN RSA PUBLIC KEY-----\nMEgCQQCO14+r/YbVU9gmeglgJoi8PNUvVaLzRFOBi/dNN5muCB6kRCzBylNhWpMi\nGAKy+wNjY/V1JKp7eILkc3KyMHqBAgMBAAE=\n-----END RSA PUBLIC KEY-----\n&#x27;</span></span><br><span class="line"><span class="comment"># 私钥初始的值为：PrivateKey(7481244465315159030174941866408088977078689270761513884333182534899112302828868853012354970827459273420757239091319237996571359037764144367408861808720513, 65537, 3506665680913321791475716605798100085247726562224742435766529354251275320158796528099874018589937145723483840242318255274732417780923351826009689191428353, 5643184159408851232131776560683191883064718200648061020021754396931515736448351153, 1325713330273249992945906759133446589093679828123455507108369540590727121) </span></span><br><span class="line"><span class="comment"># 以pem格式的保存后的私钥数据为：b&#x27;-----BEGIN RSA PRIVATE KEY-----\nMIIBPAIBAAJBAI7Xj6v9htVT2CZ6CWAmiLw81S9VovNEU4GL9003ma4IHqRELMHK\nU2FakyIYArL7A2Nj9XUkqnt4guRzcrIweoECAwEAAQJAQvQ5jNWeYNoXJBnp0R7e\n0tT03GYYpkxtk/iGZ7RaxGNXkIecc0u+bg4kSXC8BpcxpVS7xqWIPO4+ognbOkUx\nAQIjAL5ffVWlM15Ijcy5isAEzO6UnspteTYaA1H098CNMrSgu7ECHwDAFXC9M3X5\nKGM7tRw7/Vb7hroNJ23crvKG7Y/N79ECImrGeC/PRq59FztaXd4xUxgFt8JmAHQ9\nxtrzAPq4t1XkSSECHwCEbkPMLi6oGbBQ+gz9Ty0pPToI16ZnADc1z5PV6AECIhGm\n7Hx73R+hCWXIih/bttl0W7hl6mlIOqZXo30IfFUPHtQ=\n-----END RSA PRIVATE KEY-----\n&#x27;</span></span><br><span class="line"><span class="comment"># 将公钥保存到文件 ,将字节写入文件需要加上decode（&#x27;utf-8&#x27;），python3新增</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;public.pub&quot;</span>, <span class="string">&#x27;w+&#x27;</span>) <span class="keyword">as</span> file:  <span class="comment"># public.pub，保存的文件名，可更改路径，这里保存在当前路径下</span></span><br><span class="line">    file.write(pub.decode(<span class="string">&quot;utf-8&quot;</span>))</span><br><span class="line"><span class="comment"># 将私钥保存到文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;private.pem&quot;</span>, <span class="string">&#x27;w+&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    file.write(pri.decode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 取出公钥</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;public.pub&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file_pub:</span><br><span class="line">	<span class="comment"># 从文件中读出数据</span></span><br><span class="line">    pub_data = file_pub.read()</span><br><span class="line">    <span class="comment"># 将读出数据通过PublicKey.load_pkcs1()转换为公钥</span></span><br><span class="line">    pubkey = rsa.PublicKey.load_pkcs1(pub_data)</span><br><span class="line"><span class="comment"># 取出私钥</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;private.pub&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file_pri:</span><br><span class="line">    pri_data = file_pri.read()</span><br><span class="line">    <span class="comment"># 将读出数据通过PrivateKey.load_pkcs1()转换为私钥</span></span><br><span class="line">    prikey = rsa.PrivateKey.load_pkcs1(pri_data)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>rsa加解密过程：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> rsa</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># rsa加密</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rsaEncrypt</span>(<span class="params"><span class="built_in">str</span></span>):</span><br><span class="line">    <span class="comment"># 生成公钥、私钥</span></span><br><span class="line">    (pubkey, privkey) = rsa.newkeys(<span class="number">512</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;公钥:\n%s\n私钥:\n:%s&quot;</span> % (pubkey, privkey))</span><br><span class="line">    <span class="comment"># 明文编码格式</span></span><br><span class="line">    content = <span class="built_in">str</span>.encode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">    <span class="comment"># 公钥加密</span></span><br><span class="line">    crypto = rsa.encrypt(content, pubkey)</span><br><span class="line">    <span class="keyword">return</span> (crypto, privkey)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># rsa解密</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rsaDecrypt</span>(<span class="params"><span class="built_in">str</span>, pk</span>):</span><br><span class="line">    <span class="comment"># 私钥解密</span></span><br><span class="line">    content = rsa.decrypt(<span class="built_in">str</span>, pk)</span><br><span class="line">    con = content.decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> con</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">str</span>, pk = rsaEncrypt(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;加密后密文：\n%s&quot;</span> % <span class="built_in">str</span>)</span><br><span class="line">    content = rsaDecrypt(<span class="built_in">str</span>, pk)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;解密后明文：\n%s&quot;</span> % content)</span><br></pre></td></tr></table></figure>

<p>python文件操作：<a target="_blank" rel="noopener" href="https://www.w3cschool.cn/article/25704283.html%E3%80%81">https://www.w3cschool.cn/article/25704283.html、</a></p>
<h1 id="Day4"><a href="#Day4" class="headerlink" title="Day4"></a>Day4</h1><h4 id="18、Rsaroll"><a href="#18、Rsaroll" class="headerlink" title="18、Rsaroll"></a>18、Rsaroll</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">p =  <span class="number">49891</span></span><br><span class="line">q =  <span class="number">18443</span></span><br><span class="line">e = <span class="number">19</span></span><br><span class="line">n = p*q</span><br><span class="line">phi_n = (p-<span class="number">1</span>)*(q-<span class="number">1</span>)</span><br><span class="line">d = inverse(e,phi_n)</span><br><span class="line">c  = [<span class="number">704796792</span>,<span class="number">752211152</span>,<span class="number">274704164</span>,<span class="number">18414022</span>,<span class="number">368270835</span>,<span class="number">483295235</span>,<span class="number">263072905</span>,<span class="number">459788476</span>,<span class="number">483295235</span>,<span class="number">459788476</span>,<span class="number">663551792</span>,<span class="number">475206804</span>,<span class="number">459788476</span>,<span class="number">428313374</span>,<span class="number">475206804</span>,<span class="number">459788476</span>,<span class="number">425392137</span>,<span class="number">704796792</span>,<span class="number">458265677</span>,<span class="number">341524652</span>,<span class="number">483295235</span>,<span class="number">534149509</span>,<span class="number">425392137</span>,<span class="number">428313374</span>,<span class="number">425392137</span>,<span class="number">341524652</span>,<span class="number">458265677</span>,<span class="number">263072905</span>,<span class="number">483295235</span>,<span class="number">828509797</span>,<span class="number">341524652</span>,<span class="number">425392137</span>,<span class="number">475206804</span>,<span class="number">428313374</span>,<span class="number">483295235</span>,<span class="number">475206804</span>,<span class="number">459788476</span>,<span class="number">306220148</span>,]</span><br><span class="line">flag = <span class="string">b&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> temp <span class="keyword">in</span> c:</span><br><span class="line">    temp_flag = <span class="built_in">pow</span>(temp,d,n)</span><br><span class="line">    temp_flag = long_to_bytes(temp_flag)</span><br><span class="line">    flag = flag + temp_flag</span><br><span class="line"><span class="built_in">print</span>(flag)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="19、低指数攻击（e-x3D-3）"><a href="#19、低指数攻击（e-x3D-3）" class="headerlink" title="19、低指数攻击（e &#x3D; 3）"></a>19、低指数攻击（e &#x3D; 3）</h4><p>直接对k进行递增循环，从0开始，判断开方之后是否为整数，如果为整数则退出循环。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">n = <span class="number">0x52d483c27cd806550fbe0e37a61af2e7cf5e0efb723dfc81174c918a27627779b21fa3c851e9e94188eaee3d5cd6f752406a43fbecb53e80836ff1e185d3ccd7782ea846c2e91a7b0808986666e0bdadbfb7bdd65670a589a4d2478e9adcafe97c6ee23614bcb2ecc23580f4d2e3cc1ecfec25c50da4bc754dde6c8bfd8d1fc16956c74d8e9196046a01dc9f3024e11461c294f29d7421140732fedacac97b8fe50999117d27943c953f18c4ff4f8c258d839764078d4b6ef6e8591e0ff5563b31a39e6374d0d41c8c46921c25e5904a817ef8e39e5c9b71225a83269693e0b7e3218fc5e5a1e8412ba16e588b3d6ac536dce39fcdfce81eec79979ea6872793</span></span><br><span class="line"></span><br><span class="line">e= <span class="built_in">int</span>(<span class="string">&#x27;0x3&#x27;</span>,<span class="number">16</span>)</span><br><span class="line">c= <span class="built_in">int</span>(<span class="string">&#x27;0x10652cdfaa6b63f6d7bd1109da08181e500e5643f5b240a9024bfa84d5f2cac9310562978347bb232d63e7289283871efab83d84ff5a7b64a94a79d34cfbd4ef121723ba1f663e514f83f6f01492b4e13e1bb4296d96ea5a353d3bf2edd2f449c03c4a3e995237985a596908adc741f32365&#x27;</span>,<span class="number">16</span>)</span><br><span class="line"><span class="built_in">print</span>(n,e,c)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">little_crt</span>(<span class="params">c,e,n</span>):</span><br><span class="line">    k = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>):</span><br><span class="line">        flag = gmpy2.iroot(c+k*n,<span class="number">3</span>)</span><br><span class="line">        <span class="keyword">if</span> flag[<span class="number">1</span>] == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> flag[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">m = little_crt(c,e,n)</span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(m))</span><br></pre></td></tr></table></figure>

<h4 id="20、babyRSA"><a href="#20、babyRSA" class="headerlink" title="20、babyRSA"></a>20、babyRSA</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> binascii <span class="keyword">import</span> a2b_hex,b2a_hex</span><br><span class="line"></span><br><span class="line">flag = <span class="string">&quot;*****************&quot;</span></span><br><span class="line"></span><br><span class="line">p = <span class="number">262248800182277040650192055439906580479</span></span><br><span class="line">q = <span class="number">262854994239322828547925595487519915551</span></span><br><span class="line"></span><br><span class="line">e = <span class="number">65533</span></span><br><span class="line">n = p*q</span><br><span class="line"></span><br><span class="line">d = inverse(e,(p-<span class="number">1</span>)*(q-<span class="number">1</span>))</span><br><span class="line">c = <span class="number">27565231154623519221597938803435789010285480123476977081867877272451638645710</span></span><br><span class="line">m = <span class="built_in">pow</span>(c,d,n)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(m))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 27565231154623519221597938803435789010285480123476977081867877272451638645710</span></span><br></pre></td></tr></table></figure>

<h4 id="21、Playfair加密"><a href="#21、Playfair加密" class="headerlink" title="21、Playfair加密"></a>21、Playfair加密</h4><p><a target="_blank" rel="noopener" href="http://www.metools.info/code/playfair_186.html">http://www.metools.info/code/playfair_186.html</a> 现在属于是想把这些奇奇怪怪的加密和解密算法都实现一下，但是好难，还是先刷题吧</p>
<p>膜大佬的加解密实现原理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#########################Playfair密码#########################</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#约定1：若明文字母数量为奇数，在明文末尾添加一个&#x27;Z&#x27;</span></span><br><span class="line"><span class="comment">#约定2：&#x27;I&#x27;作为&#x27;J&#x27;来处理</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#字母表</span></span><br><span class="line">letter_list=<span class="string">&#x27;ABCDEFGHJKLMNOPQRSTUVWXYZ&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#密码表</span></span><br><span class="line">T_letter=[<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>]</span><br><span class="line"> </span><br><span class="line"><span class="comment">#根据密钥建立密码表</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Create_Matrix</span>(<span class="params">key</span>):</span><br><span class="line">  key=Remove_Duplicates(key)  <span class="comment">#移除密钥中的重复字母</span></span><br><span class="line">  key=key.replace(<span class="string">&#x27; &#x27;</span>,<span class="string">&#x27;&#x27;</span>) <span class="comment">#去除密钥中的空格</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> ch <span class="keyword">in</span> letter_list:  <span class="comment">#根据密钥获取新组合的字母表</span></span><br><span class="line">    <span class="keyword">if</span> ch <span class="keyword">not</span> <span class="keyword">in</span> key:</span><br><span class="line">      key+=ch</span><br><span class="line">  </span><br><span class="line">  j=<span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(key)): <span class="comment">#将新的字母表里的字母逐个填入密码表中，组成5*5的矩阵</span></span><br><span class="line">    T_letter[j]+=key[i]     <span class="comment">#j用来定位字母表的行</span></span><br><span class="line">    <span class="keyword">if</span> <span class="number">0</span>==(i+<span class="number">1</span>)%<span class="number">5</span>:</span><br><span class="line">      j+=<span class="number">1</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#移除字符串中重复的字母</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Remove_Duplicates</span>(<span class="params">key</span>):</span><br><span class="line">  key=key.upper() <span class="comment">#转成大写字母组成的字符串</span></span><br><span class="line">  _key=<span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">for</span> ch <span class="keyword">in</span> key:</span><br><span class="line">    <span class="keyword">if</span> ch==<span class="string">&#x27;I&#x27;</span>:</span><br><span class="line">      ch=<span class="string">&#x27;J&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> ch <span class="keyword">in</span> _key:</span><br><span class="line">      <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      _key+=ch</span><br><span class="line">  <span class="keyword">return</span> _key</span><br><span class="line"> </span><br><span class="line"><span class="comment">#获取字符在密码表中的位置</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Get_MatrixIndex</span>(<span class="params">ch</span>):</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(T_letter)):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(T_letter)):</span><br><span class="line">      <span class="keyword">if</span> ch==T_letter[i][j]:</span><br><span class="line">        <span class="keyword">return</span> i,j <span class="comment">#i为行，j为列</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#加密</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Encrypt</span>(<span class="params">plaintext,T_letter</span>):</span><br><span class="line">  ciphertext=<span class="string">&#x27;&#x27;</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">len</span>(plaintext) % <span class="number">2</span> !=<span class="number">0</span>:  <span class="comment">#如果新的明文长度为奇数，在其末尾添上&#x27;Z&#x27;</span></span><br><span class="line">    plaintext+=<span class="string">&#x27;Z&#x27;</span></span><br><span class="line">  </span><br><span class="line">  i=<span class="number">0</span></span><br><span class="line">  <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(plaintext): <span class="comment">#对明文进行遍历</span></span><br><span class="line">    <span class="keyword">if</span> <span class="literal">True</span>==plaintext[i].isalpha():  <span class="comment">#如果是明文是字母的话，</span></span><br><span class="line">      j=i+<span class="number">1</span>                           <span class="comment">#则开始对该字母之后的明文进行遍历，</span></span><br><span class="line">      <span class="keyword">while</span> j&lt;<span class="built_in">len</span>(plaintext):         <span class="comment">#直到遍历到字母，进行加密</span></span><br><span class="line">        <span class="keyword">if</span> <span class="literal">True</span>==plaintext[j].isalpha():</span><br><span class="line">          <span class="keyword">if</span> <span class="string">&#x27;I&#x27;</span>==plaintext[i].upper():             <span class="comment">#</span></span><br><span class="line">            x=Get_MatrixIndex(<span class="string">&#x27;J&#x27;</span>)                  <span class="comment">#</span></span><br><span class="line">          <span class="keyword">else</span>:                                     <span class="comment">#</span></span><br><span class="line">            x=Get_MatrixIndex(plaintext[i].upper()) <span class="comment">#对字符在密码表中的坐标</span></span><br><span class="line">          <span class="keyword">if</span> <span class="string">&#x27;I&#x27;</span>==plaintext[j].upper():             <span class="comment">#进行定位,同时将&#x27;I&#x27;作为</span></span><br><span class="line">              y=Get_MatrixIndex(<span class="string">&#x27;J&#x27;</span>)                <span class="comment">#&#x27;J&#x27;来处理</span></span><br><span class="line">          <span class="keyword">else</span>:                                     <span class="comment">#</span></span><br><span class="line">            y=Get_MatrixIndex(plaintext[j].upper()) <span class="comment">#</span></span><br><span class="line">          </span><br><span class="line">          <span class="keyword">if</span> x[<span class="number">0</span>]==y[<span class="number">0</span>]:    <span class="comment">#如果在同一行</span></span><br><span class="line">            ciphertext+=T_letter[x[<span class="number">0</span>]][(x[<span class="number">1</span>]+<span class="number">1</span>)%<span class="number">5</span>]+T_letter[y[<span class="number">0</span>]][(y[<span class="number">1</span>]+<span class="number">1</span>)%<span class="number">5</span>]</span><br><span class="line">          <span class="keyword">elif</span> x[<span class="number">1</span>]==y[<span class="number">1</span>]:  <span class="comment">#如果在同一列</span></span><br><span class="line">            ciphertext+=T_letter[(x[<span class="number">1</span>]+<span class="number">1</span>)%<span class="number">5</span>][x[<span class="number">0</span>]]+T_letter[(y[<span class="number">1</span>]+<span class="number">1</span>)%<span class="number">5</span>][y[<span class="number">0</span>]]</span><br><span class="line">          <span class="keyword">else</span>:             <span class="comment">#如果不同行不同列</span></span><br><span class="line">            ciphertext+=T_letter[x[<span class="number">0</span>]][y[<span class="number">1</span>]]+T_letter[y[<span class="number">0</span>]][x[<span class="number">1</span>]]</span><br><span class="line">          <span class="keyword">break</span>;  <span class="comment">#每组明文对加密完成后，结束本次对明文的遍历</span></span><br><span class="line">        j+=<span class="number">1</span></span><br><span class="line">      i=j+<span class="number">1</span>  <span class="comment">#每次对明文的遍历是从加密过后的明文的后一个明文开始的,结束本次循环</span></span><br><span class="line">      <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      ciphertext+=plaintext[i]  <span class="comment">#如果明文不是字母，直接加到密文上</span></span><br><span class="line">    i+=<span class="number">1</span></span><br><span class="line">    </span><br><span class="line">  <span class="keyword">return</span> ciphertext</span><br><span class="line"> </span><br><span class="line"><span class="comment">#解密</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Decrypt</span>(<span class="params">ciphertext,T_letter</span>):</span><br><span class="line">  plaintext=<span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">len</span>(ciphertext) % <span class="number">2</span> !=<span class="number">0</span>:  <span class="comment">#如果新的密文长度为奇数，在其末尾添上&#x27;Z&#x27;</span></span><br><span class="line">    ciphertext+=<span class="string">&#x27;Z&#x27;</span></span><br><span class="line">  </span><br><span class="line">  i=<span class="number">0</span></span><br><span class="line">  <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(ciphertext): <span class="comment">#对密文进行遍历</span></span><br><span class="line">    <span class="keyword">if</span> <span class="literal">True</span>==ciphertext[i].isalpha():  <span class="comment">#如果是密文是字母的话，</span></span><br><span class="line">      j=i+<span class="number">1</span>                            <span class="comment">#则开始对该字母之后的密文进行遍历，</span></span><br><span class="line">      <span class="keyword">while</span> j&lt;<span class="built_in">len</span>(ciphertext):         <span class="comment">#直到遍历到字母，进行解密</span></span><br><span class="line">        <span class="keyword">if</span> <span class="literal">True</span>==ciphertext[j].isalpha():</span><br><span class="line">          <span class="keyword">if</span> <span class="string">&#x27;I&#x27;</span>==ciphertext[i].upper():              <span class="comment">#</span></span><br><span class="line">            x=Get_MatrixIndex(<span class="string">&#x27;J&#x27;</span>)                    <span class="comment">#</span></span><br><span class="line">          <span class="keyword">else</span>:                                       <span class="comment">#</span></span><br><span class="line">            x=Get_MatrixIndex(ciphertext[i].upper())  <span class="comment">#对字符在密码表中的坐标</span></span><br><span class="line">          <span class="keyword">if</span> <span class="string">&#x27;I&#x27;</span>==ciphertext[j].upper():              <span class="comment">#进行定位,同时将&#x27;I&#x27;作为</span></span><br><span class="line">              y=Get_MatrixIndex(<span class="string">&#x27;J&#x27;</span>)                  <span class="comment">#&#x27;J&#x27;来处理</span></span><br><span class="line">          <span class="keyword">else</span>:                                       <span class="comment">#</span></span><br><span class="line">            y=Get_MatrixIndex(ciphertext[j].upper())  <span class="comment">#</span></span><br><span class="line">          </span><br><span class="line">          <span class="keyword">if</span> x[<span class="number">0</span>]==y[<span class="number">0</span>]:    <span class="comment">#如果在同一行</span></span><br><span class="line">            plaintext+=T_letter[x[<span class="number">0</span>]][(x[<span class="number">1</span>]-<span class="number">1</span>)%<span class="number">5</span>]+T_letter[y[<span class="number">0</span>]][(y[<span class="number">1</span>]-<span class="number">1</span>)%<span class="number">5</span>]</span><br><span class="line">          <span class="keyword">elif</span> x[<span class="number">1</span>]==y[<span class="number">1</span>]:  <span class="comment">#如果在同一列</span></span><br><span class="line">            plaintext+=T_letter[(x[<span class="number">1</span>]-<span class="number">1</span>)%<span class="number">5</span>][x[<span class="number">0</span>]]+T_letter[(y[<span class="number">1</span>]-<span class="number">1</span>)%<span class="number">5</span>][y[<span class="number">0</span>]]</span><br><span class="line">          <span class="keyword">else</span>:             <span class="comment">#如果不同行不同列</span></span><br><span class="line">            plaintext+=T_letter[x[<span class="number">0</span>]][y[<span class="number">1</span>]]+T_letter[y[<span class="number">0</span>]][x[<span class="number">1</span>]]</span><br><span class="line">          <span class="keyword">break</span>;  <span class="comment">#每组密文对解密完成后，结束本次对密文的遍历</span></span><br><span class="line">        j+=<span class="number">1</span></span><br><span class="line">      i=j+<span class="number">1</span>  <span class="comment">#每次对密文的遍历是从解密过后的密文的后一个密文开始的,结束本次循环</span></span><br><span class="line">      <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      plaintext+=ciphertext[i]  <span class="comment">#如果密文不是字母，直接加到明文上</span></span><br><span class="line">    i+=<span class="number">1</span></span><br><span class="line">    </span><br><span class="line">  <span class="keyword">return</span> plaintext</span><br><span class="line"> </span><br><span class="line"><span class="comment">#主函数</span></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;加密请按D,解密请按E:&quot;</span>)</span><br><span class="line">  user_input=<span class="built_in">input</span>();</span><br><span class="line">  <span class="keyword">while</span>(user_input!=<span class="string">&#x27;D&#x27;</span> <span class="keyword">and</span> user_input!=<span class="string">&#x27;E&#x27;</span>):<span class="comment">#输入合法性检测</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;输入有误!请重新输入:&quot;</span>)</span><br><span class="line">    user_input=<span class="built_in">input</span>()</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;请输入密钥，密钥由英文字母组成:&#x27;</span>)</span><br><span class="line">  key=<span class="built_in">input</span>()</span><br><span class="line">  </span><br><span class="line">  Create_Matrix(key)  <span class="comment">#建立密码表</span></span><br><span class="line"> </span><br><span class="line">  <span class="keyword">if</span> user_input==<span class="string">&#x27;D&#x27;</span>: <span class="comment">#加密</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;请输入明文:&#x27;</span>)</span><br><span class="line">    plaintext=<span class="built_in">input</span>()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;密文为:\n%s&quot;</span> % Encrypt(plaintext,T_letter))</span><br><span class="line">  <span class="keyword">else</span>:               <span class="comment">#解密</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;请输入密文:&#x27;</span>)</span><br><span class="line">    ciphertext=<span class="built_in">input</span>()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;明文为:\n%s&#x27;</span> % Decrypt(ciphertext,T_letter))</span><br></pre></td></tr></table></figure>

<h4 id="22、"><a href="#22、" class="headerlink" title="22、"></a>22、</h4><p>先base64再进行rot一个一个试</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">c = <span class="string">&#x27;v)*L*_F0&lt;&#125;@H0&gt;F49023@FE0#@EN&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rot_n</span>(<span class="params">c</span>):</span><br><span class="line">    </span><br><span class="line">    i = <span class="number">47</span></span><br><span class="line">    <span class="keyword">while</span>(i &lt; <span class="number">50</span>):</span><br><span class="line">        ans = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(c)):</span><br><span class="line">            <span class="built_in">ascii</span> = <span class="number">0</span></span><br><span class="line">            <span class="built_in">ascii</span> = <span class="built_in">int</span>(<span class="built_in">ord</span>(c[k] )-i)</span><br><span class="line">            ans = ans + <span class="built_in">chr</span>(<span class="built_in">ascii</span>)</span><br><span class="line">        i = i+<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> ans[:<span class="number">3</span>] == <span class="string">&#x27;GXY&#x27;</span>:</span><br><span class="line">            <span class="built_in">print</span>(ans)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">flag = rot_n(c)</span><br><span class="line"><span class="built_in">print</span>(flag)</span><br></pre></td></tr></table></figure>

<h4 id="23、"><a href="#23、" class="headerlink" title="23、"></a>23、</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line">c = [<span class="number">111</span>,<span class="number">114</span>,<span class="number">157</span>,<span class="number">166</span>,<span class="number">145</span>,<span class="number">123</span>,<span class="number">145</span>,<span class="number">143</span>,<span class="number">165</span>,<span class="number">162</span>,<span class="number">151</span>,<span class="number">164</span>,<span class="number">171</span>,<span class="number">126</span>,<span class="number">145</span>,<span class="number">162</span>,<span class="number">171</span>,<span class="number">115</span>,<span class="number">165</span>,<span class="number">143</span>,<span class="number">150</span>]</span><br><span class="line">ans = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> temp <span class="keyword">in</span> c:</span><br><span class="line">    ans = ans + <span class="built_in">chr</span>(<span class="built_in">int</span>(<span class="built_in">str</span>(temp),<span class="number">8</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(ans)</span><br></pre></td></tr></table></figure>

<h4 id="24、Wiener’s-Attack"><a href="#24、Wiener’s-Attack" class="headerlink" title="24、Wiener’s Attack"></a>24、Wiener’s Attack</h4><p>知乎：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/400818185">https://zhuanlan.zhihu.com/p/400818185</a></p>
<h2 id="Day5"><a href="#Day5" class="headerlink" title="Day5"></a>Day5</h2><h4 id="25、这是base？"><a href="#25、这是base？" class="headerlink" title="25、这是base？"></a>25、这是base？</h4><p>bin():返回一个int或者long int的二进制表示</p>
<p>python中的re.findall函数：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36556893/article/details/89182067">https://blog.csdn.net/qq_36556893/article/details/89182067</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">此题则是根据base64编码的规则将密文还原为明文</span></span><br><span class="line"><span class="string">自己慢慢写代码吧</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">s1 = &#123;<span class="number">0</span>: <span class="string">&#x27;J&#x27;</span>, <span class="number">1</span>: <span class="string">&#x27;K&#x27;</span>, <span class="number">2</span>: <span class="string">&#x27;L&#x27;</span>, <span class="number">3</span>: <span class="string">&#x27;M&#x27;</span>, <span class="number">4</span>: <span class="string">&#x27;N&#x27;</span>, <span class="number">5</span>: <span class="string">&#x27;O&#x27;</span>, <span class="number">6</span>: <span class="string">&#x27;x&#x27;</span>, <span class="number">7</span>: <span class="string">&#x27;y&#x27;</span>, <span class="number">8</span>: <span class="string">&#x27;U&#x27;</span>, <span class="number">9</span>: <span class="string">&#x27;V&#x27;</span>, <span class="number">10</span>: <span class="string">&#x27;z&#x27;</span>, <span class="number">11</span>: <span class="string">&#x27;A&#x27;</span>, <span class="number">12</span>: <span class="string">&#x27;B&#x27;</span>, <span class="number">13</span>: <span class="string">&#x27;C&#x27;</span>, <span class="number">14</span>: <span class="string">&#x27;D&#x27;</span>, <span class="number">15</span>: <span class="string">&#x27;E&#x27;</span>, <span class="number">16</span>: <span class="string">&#x27;F&#x27;</span>, <span class="number">17</span>: <span class="string">&#x27;G&#x27;</span>, <span class="number">18</span>: <span class="string">&#x27;H&#x27;</span>, <span class="number">19</span>: <span class="string">&#x27;7&#x27;</span>, <span class="number">20</span>: <span class="string">&#x27;8&#x27;</span>, <span class="number">21</span>: <span class="string">&#x27;9&#x27;</span>, <span class="number">22</span>: <span class="string">&#x27;P&#x27;</span>, <span class="number">23</span>: <span class="string">&#x27;Q&#x27;</span>, <span class="number">24</span>: <span class="string">&#x27;I&#x27;</span>, <span class="number">25</span>: <span class="string">&#x27;a&#x27;</span>, <span class="number">26</span>: <span class="string">&#x27;b&#x27;</span>, <span class="number">27</span>: <span class="string">&#x27;c&#x27;</span>, <span class="number">28</span>: <span class="string">&#x27;d&#x27;</span>, <span class="number">29</span>: <span class="string">&#x27;e&#x27;</span>, <span class="number">30</span>: <span class="string">&#x27;f&#x27;</span>, <span class="number">31</span>: <span class="string">&#x27;g&#x27;</span>, <span class="number">32</span>: <span class="string">&#x27;h&#x27;</span>, <span class="number">33</span>: <span class="string">&#x27;i&#x27;</span>, <span class="number">34</span>: <span class="string">&#x27;j&#x27;</span>, <span class="number">35</span>: <span class="string">&#x27;k&#x27;</span>, <span class="number">36</span>: <span class="string">&#x27;l&#x27;</span>, <span class="number">37</span>: <span class="string">&#x27;m&#x27;</span>, <span class="number">38</span>: <span class="string">&#x27;W&#x27;</span>, <span class="number">39</span>: <span class="string">&#x27;X&#x27;</span>, <span class="number">40</span>: <span class="string">&#x27;Y&#x27;</span>, <span class="number">41</span>: <span class="string">&#x27;Z&#x27;</span>, <span class="number">42</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">43</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">44</span>: <span class="string">&#x27;2&#x27;</span>, <span class="number">45</span>: <span class="string">&#x27;3&#x27;</span>, <span class="number">46</span>: <span class="string">&#x27;4&#x27;</span>, <span class="number">47</span>: <span class="string">&#x27;5&#x27;</span>, <span class="number">48</span>: <span class="string">&#x27;6&#x27;</span>, <span class="number">49</span>: <span class="string">&#x27;R&#x27;</span>, <span class="number">50</span>: <span class="string">&#x27;S&#x27;</span>, <span class="number">51</span>: <span class="string">&#x27;T&#x27;</span>, <span class="number">52</span>: <span class="string">&#x27;n&#x27;</span>, <span class="number">53</span>: <span class="string">&#x27;o&#x27;</span>, <span class="number">54</span>: <span class="string">&#x27;p&#x27;</span>, <span class="number">55</span>: <span class="string">&#x27;q&#x27;</span>, <span class="number">56</span>: <span class="string">&#x27;r&#x27;</span>, <span class="number">57</span>: <span class="string">&#x27;s&#x27;</span>, <span class="number">58</span>: <span class="string">&#x27;t&#x27;</span>, <span class="number">59</span>: <span class="string">&#x27;u&#x27;</span>, <span class="number">60</span>: <span class="string">&#x27;v&#x27;</span>, <span class="number">61</span>: <span class="string">&#x27;w&#x27;</span>, <span class="number">62</span>: <span class="string">&#x27;+&#x27;</span>, <span class="number">63</span>: <span class="string">&#x27;/&#x27;</span>, <span class="number">64</span>: <span class="string">&#x27;=&#x27;</span>&#125;</span><br><span class="line">key_list= []</span><br><span class="line">value_list = []</span><br><span class="line"><span class="keyword">for</span> key,value <span class="keyword">in</span> s1.items():</span><br><span class="line">    key_list.append(key)</span><br><span class="line">    value_list.append(value)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">value_to_key</span>(<span class="params">a</span>):</span><br><span class="line">    get_value = a</span><br><span class="line">    <span class="keyword">if</span> get_value <span class="keyword">in</span> value_list:</span><br><span class="line">        get_value_index = value_list.index(get_value)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;base64编码转化中没有这个字符&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span>(get_value_index)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    s2 =  <span class="string">&#x27;FlZNfnF6Qol6e9w17WwQQoGYBQCgIkGTa9w3IQKw&#x27;</span></span><br><span class="line">    ans = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> s2:</span><br><span class="line">        ans.append(value_to_key(i))</span><br><span class="line">    <span class="built_in">print</span>(ans)</span><br><span class="line"></span><br><span class="line">ans = [<span class="number">16</span>, <span class="number">36</span>, <span class="number">41</span>, <span class="number">4</span>, <span class="number">30</span>, <span class="number">52</span>, <span class="number">16</span>, <span class="number">48</span>, <span class="number">23</span>, <span class="number">53</span>, <span class="number">36</span>, <span class="number">48</span>, <span class="number">29</span>, <span class="number">21</span>, <span class="number">61</span>, <span class="number">43</span>, <span class="number">19</span>, <span class="number">38</span>, <span class="number">61</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">53</span>, <span class="number">17</span>, <span class="number">40</span>, <span class="number">12</span>, <span class="number">23</span>, <span class="number">13</span>, <span class="number">31</span>, <span class="number">24</span>, <span class="number">35</span>, <span class="number">17</span>, <span class="number">51</span>, <span class="number">25</span>, <span class="number">21</span>, <span class="number">61</span>, <span class="number">45</span>, <span class="number">24</span>, <span class="number">23</span>, <span class="number">1</span>, <span class="number">61</span>]</span><br><span class="line">bin_s = []</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">将每个数字转换为二进制，并只取出后六位</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> ans:</span><br><span class="line">    bin_s.append(<span class="built_in">bin</span>(i)[<span class="number">2</span>:])</span><br><span class="line">temp_bin = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> bin_s:</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">len</span>(i) &lt; <span class="number">6</span>):</span><br><span class="line">        i = (<span class="number">6</span>-<span class="built_in">len</span>(i))*<span class="string">&#x27;0&#x27;</span> + i</span><br><span class="line">    temp_bin.append(i)</span><br><span class="line">temp_s = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(temp_bin)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> temp_bin:</span><br><span class="line">    temp_s = temp_s + i</span><br><span class="line"><span class="built_in">print</span>(temp_s)</span><br><span class="line">temp_s2 = re.findall(<span class="string">r&#x27;.&#123;8&#125;&#x27;</span>,temp_s)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(temp_s2)</span><br><span class="line">temp_s3 = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> temp_s2:</span><br><span class="line">    temp_s3.append(<span class="built_in">int</span>(i,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">flag = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> temp_s3:</span><br><span class="line">    flag = flag + <span class="built_in">chr</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(flag)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="26、RSA5"><a href="#26、RSA5" class="headerlink" title="26、RSA5"></a>26、RSA5</h4><h5 id="低加密指数广播攻击："><a href="#低加密指数广播攻击：" class="headerlink" title="低加密指数广播攻击："></a>低加密指数广播攻击：</h5><p>特点：e非常小（65537），一份明文m使用不同的模数n，使用相同的e进行多次加密，</p>
<p>此时使用的n都会非常大，一般不能够分解出来，但是因为n只能分解为p*q，在取的模数n足够多的时候，就会难免出现gcd（n1，n2）不等于1的情况，而因为n只有两个因数，所以这个公因数只能为p或者q，根据p，q求出d即可求出明文。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> *</span><br><span class="line">e = <span class="number">65537</span></span><br><span class="line">n1 = <span class="number">20474918894051778533305262345601880928088284471121823754049725354072477155873778848055073843345820697886641086842612486541250183965966001591342031562953561793332341641334302847996108417466360688139866505179689516589305636902137210185624650854906780037204412206309949199080005576922775773722438863762117750429327585792093447423980002401200613302943834212820909269713876683465817369158585822294675056978970612202885426436071950214538262921077409076160417436699836138801162621314845608796870206834704116707763169847387223307828908570944984416973019427529790029089766264949078038669523465243837675263858062854739083634207</span></span><br><span class="line">c1 = <span class="number">974463908243330865728978769213595400782053398596897741316275722596415018912929508637393850919224969271766388710025195039896961956062895570062146947736340342927974992616678893372744261954172873490878805483241196345881721164078651156067119957816422768524442025688079462656755605982104174001635345874022133045402344010045961111720151990412034477755851802769069309069018738541854130183692204758761427121279982002993939745343695671900015296790637464880337375511536424796890996526681200633086841036320395847725935744757993013352804650575068136129295591306569213300156333650910795946800820067494143364885842896291126137320</span></span><br><span class="line"></span><br><span class="line">n2 = <span class="number">20918819960648891349438263046954902210959146407860980742165930253781318759285692492511475263234242002509419079545644051755251311392635763412553499744506421566074721268822337321637265942226790343839856182100575539845358877493718334237585821263388181126545189723429262149630651289446553402190531135520836104217160268349688525168375213462570213612845898989694324269410202496871688649978370284661017399056903931840656757330859626183773396574056413017367606446540199973155630466239453637232936904063706551160650295031273385619470740593510267285957905801566362502262757750629162937373721291789527659531499435235261620309759</span></span><br><span class="line">c2 = <span class="number">15819636201971185538694880505120469332582151856714070824521803121848292387556864177196229718923770810072104155432038682511434979353089791861087415144087855679134383396897817458726543883093567600325204596156649305930352575274039425470836355002691145864435755333821133969266951545158052745938252574301327696822347115053614052423028835532509220641378760800693351542633860702225772638930501021571415907348128269681224178300248272689705308911282208685459668200507057183420662959113956077584781737983254788703048275698921427029884282557468334399677849962342196140864403989162117738206246183665814938783122909930082802031855</span></span><br><span class="line"></span><br><span class="line">n3 = <span class="number">25033254625906757272369609119214202033162128625171246436639570615263949157363273213121556825878737923265290579551873824374870957467163989542063489416636713654642486717219231225074115269684119428086352535471683359486248203644461465935500517901513233739152882943010177276545128308412934555830087776128355125932914846459470221102007666912211992310538890654396487111705385730502843589727289829692152177134753098649781412247065660637826282055169991824099110916576856188876975621376606634258927784025787142263367152947108720757222446686415627479703666031871635656314282727051189190889008763055811680040315277078928068816491</span></span><br><span class="line">c3 = <span class="number">4185308529416874005831230781014092407198451385955677399668501833902623478395669279404883990725184332709152443372583701076198786635291739356770857286702107156730020004358955622511061410661058982622055199736820808203841446796305284394651714430918690389486920560834672316158146453183789412140939029029324756035358081754426645160033262924330248675216108270980157049705488620263485129480952814764002865280019185127662449318324279383277766416258142275143923532168798413011028271543085249029048997452212503111742302302065401051458066585395360468447460658672952851643547193822775218387853623453638025492389122204507555908862</span></span><br><span class="line"></span><br><span class="line">n4 = <span class="number">21206968097314131007183427944486801953583151151443627943113736996776787181111063957960698092696800555044199156765677935373149598221184792286812213294617749834607696302116136745662816658117055427803315230042700695125718401646810484873064775005221089174056824724922160855810527236751389605017579545235876864998419873065217294820244730785120525126565815560229001887622837549118168081685183371092395128598125004730268910276024806808565802081366898904032509920453785997056150497645234925528883879419642189109649009132381586673390027614766605038951015853086721168018787523459264932165046816881682774229243688581614306480751</span></span><br><span class="line">c4 = <span class="number">4521038011044758441891128468467233088493885750850588985708519911154778090597136126150289041893454126674468141393472662337350361712212694867311622970440707727941113263832357173141775855227973742571088974593476302084111770625764222838366277559560887042948859892138551472680654517814916609279748365580610712259856677740518477086531592233107175470068291903607505799432931989663707477017904611426213770238397005743730386080031955694158466558475599751940245039167629126576784024482348452868313417471542956778285567779435940267140679906686531862467627238401003459101637191297209422470388121802536569761414457618258343550613</span></span><br><span class="line"></span><br><span class="line">n5 = <span class="number">22822039733049388110936778173014765663663303811791283234361230649775805923902173438553927805407463106104699773994158375704033093471761387799852168337898526980521753614307899669015931387819927421875316304591521901592823814417756447695701045846773508629371397013053684553042185725059996791532391626429712416994990889693732805181947970071429309599614973772736556299404246424791660679253884940021728846906344198854779191951739719342908761330661910477119933428550774242910420952496929605686154799487839923424336353747442153571678064520763149793294360787821751703543288696726923909670396821551053048035619499706391118145067</span></span><br><span class="line">c5 = <span class="number">15406498580761780108625891878008526815145372096234083936681442225155097299264808624358826686906535594853622687379268969468433072388149786607395396424104318820879443743112358706546753935215756078345959375299650718555759698887852318017597503074317356745122514481807843745626429797861463012940172797612589031686718185390345389295851075279278516147076602270178540690147808314172798987497259330037810328523464851895621851859027823681655934104713689539848047163088666896473665500158179046196538210778897730209572708430067658411755959866033531700460551556380993982706171848970460224304996455600503982223448904878212849412357</span></span><br><span class="line"></span><br><span class="line">n6 = <span class="number">21574139855341432908474064784318462018475296809327285532337706940126942575349507668289214078026102682252713757703081553093108823214063791518482289846780197329821139507974763780260290309600884920811959842925540583967085670848765317877441480914852329276375776405689784571404635852204097622600656222714808541872252335877037561388406257181715278766652824786376262249274960467193961956690974853679795249158751078422296580367506219719738762159965958877806187461070689071290948181949561254144310776943334859775121650186245846031720507944987838489723127897223416802436021278671237227993686791944711422345000479751187704426369</span></span><br><span class="line">c6 = <span class="number">20366856150710305124583065375297661819795242238376485264951185336996083744604593418983336285185491197426018595031444652123288461491879021096028203694136683203441692987069563513026001861435722117985559909692670907347563594578265880806540396777223906955491026286843168637367593400342814725694366078337030937104035993569672959361347287894143027186846856772983058328919716702982222142848848117768499996617588305301483085428547267337070998767412540225911508196842253134355901263861121500650240296746702967594224401650220168780537141654489215019142122284308116284129004257364769474080721001708734051264841350424152506027932</span></span><br><span class="line"></span><br><span class="line">n7 = <span class="number">25360227412666612490102161131174584819240931803196448481224305250583841439581008528535930814167338381983764991296575637231916547647970573758269411168219302370541684789125112505021148506809643081950237623703181025696585998044695691322012183660424636496897073045557400768745943787342548267386564625462143150176113656264450210023925571945961405709276631990731602198104287528528055650050486159837612279600415259486306154947514005408907590083747758953115486124865486720633820559135063440942528031402951958557630833503775112010715604278114325528993771081233535247118481765852273252404963430792898948219539473312462979849137</span></span><br><span class="line">c7 = <span class="number">19892772524651452341027595619482734356243435671592398172680379981502759695784087900669089919987705675899945658648623800090272599154590123082189645021800958076861518397325439521139995652026377132368232502108620033400051346127757698623886142621793423225749240286511666556091787851683978017506983310073524398287279737680091787333547538239920607761080988243639547570818363788673249582783015475682109984715293163137324439862838574460108793714172603672477766831356411304446881998674779501188163600664488032943639694828698984739492200699684462748922883550002652913518229322945040819064133350314536378694523704793396169065179</span></span><br><span class="line"></span><br><span class="line">n8 = <span class="number">22726855244632356029159691753451822163331519237547639938779517751496498713174588935566576167329576494790219360727877166074136496129927296296996970048082870488804456564986667129388136556137013346228118981936899510687589585286517151323048293150257036847475424044378109168179412287889340596394755257704938006162677656581509375471102546261355748251869048003600520034656264521931808651038524134185732929570384705918563982065684145766427962502261522481994191989820110575981906998431553107525542001187655703534683231777988419268338249547641335718393312295800044734534761692799403469497954062897856299031257454735945867491191</span></span><br><span class="line">c8 = <span class="number">6040119795175856407541082360023532204614723858688636724822712717572759793960246341800308149739809871234313049629732934797569781053000686185666374833978403290525072598774001731350244744590772795701065129561898116576499984185920661271123665356132719193665474235596884239108030605882777868856122378222681140570519180321286976947154042272622411303981011302586225630859892731724640574658125478287115198406253847367979883768000812605395482952698689604477719478947595442185921480652637868335673233200662100621025061500895729605305665864693122952557361871523165300206070325660353095592778037767395360329231331322823610060006</span></span><br><span class="line"></span><br><span class="line">n9 = <span class="number">23297333791443053297363000786835336095252290818461950054542658327484507406594632785712767459958917943095522594228205423428207345128899745800927319147257669773812669542782839237744305180098276578841929496345963997512244219376701787616046235397139381894837435562662591060768476997333538748065294033141610502252325292801816812268934171361934399951548627267791401089703937389012586581080223313060159456238857080740699528666411303029934807011214953984169785844714159627792016926490955282697877141614638806397689306795328344778478692084754216753425842557818899467945102646776342655167655384224860504086083147841252232760941</span></span><br><span class="line">c9 = <span class="number">5418120301208378713115889465579964257871814114515046096090960159737859076829258516920361577853903925954198406843757303687557848302302200229295916902430205737843601806700738234756698575708612424928480440868739120075888681672062206529156566421276611107802917418993625029690627196813830326369874249777619239603300605876865967515719079797115910578653562787899019310139945904958024882417833736304894765433489476234575356755275147256577387022873348906900149634940747104513850154118106991137072643308620284663108283052245750945228995387803432128842152251549292698947407663643895853432650029352092018372834457054271102816934</span></span><br><span class="line"></span><br><span class="line">n10 = <span class="number">28873667904715682722987234293493200306976947898711255064125115933666968678742598858722431426218914462903521596341771131695619382266194233561677824357379805303885993804266436810606263022097900266975250431575654686915049693091467864820512767070713267708993899899011156106766178906700336111712803362113039613548672937053397875663144794018087017731949087794894903737682383916173267421403408140967713071026001874733487295007501068871044649170615709891451856792232315526696220161842742664778581287321318748202431466508948902745314372299799561625186955234673012098210919745879882268512656931714326782335211089576897310591491</span></span><br><span class="line">c10 = <span class="number">9919880463786836684987957979091527477471444996392375244075527841865509160181666543016317634963512437510324198702416322841377489417029572388474450075801462996825244657530286107428186354172836716502817609070590929769261932324275353289939302536440310628698349244872064005700644520223727670950787924296004296883032978941200883362653993351638545860207179022472492671256630427228461852668118035317021428675954874947015197745916918197725121122236369382741533983023462255913924692806249387449016629865823316402366017657844166919846683497851842388058283856219900535567427103603869955066193425501385255322097901531402103883869</span></span><br><span class="line"></span><br><span class="line">n11 = <span class="number">22324685947539653722499932469409607533065419157347813961958075689047690465266404384199483683908594787312445528159635527833904475801890381455653807265501217328757871352731293000303438205315816792663917579066674842307743845261771032363928568844669895768092515658328756229245837025261744260614860746997931503548788509983868038349720225305730985576293675269073709022350700836510054067641753713212999954307022524495885583361707378513742162566339010134354907863733205921845038918224463903789841881400814074587261720283879760122070901466517118265422863420376921536734845502100251460872499122236686832189549698020737176683019</span></span><br><span class="line">c11 = <span class="number">1491527050203294989882829248560395184804977277747126143103957219164624187528441047837351263580440686474767380464005540264627910126483129930668344095814547592115061057843470131498075060420395111008619027199037019925701236660166563068245683975787762804359520164701691690916482591026138582705558246869496162759780878437137960823000043988227303003876410503121370163303711603359430764539337597866862508451528158285103251810058741879687875218384160282506172706613359477657215420734816049393339593755489218588796607060261897905233453268671411610631047340459487937479511933450369462213795738933019001471803157607791738538467</span></span><br><span class="line"></span><br><span class="line">n12 = <span class="number">27646746423759020111007828653264027999257847645666129907789026054594393648800236117046769112762641778865620892443423100189619327585811384883515424918752749559627553637785037359639801125213256163008431942593727931931898199727552768626775618479833029101249692573716030706695702510982283555740851047022672485743432464647772882314215176114732257497240284164016914018689044557218920300262234652840632406067273375269301008409860193180822366735877288205783314326102263756503786736122321348320031950012144905869556204017430593656052867939493633163499580242224763404338807022510136217187779084917996171602737036564991036724299</span></span><br><span class="line">c12 = <span class="number">21991524128957260536043771284854920393105808126700128222125856775506885721971193109361315961129190814674647136464887087893990660894961612838205086401018885457667488911898654270235561980111174603323721280911197488286585269356849579263043456316319476495888696219344219866516861187654180509247881251251278919346267129904739277386289240394384575124331135655943513831009934023397457082184699737734388823763306805326430395849935770213817533387235486307008892410920611669932693018165569417445885810825749609388627231235840912644654685819620931663346297596334834498661789016450371769203650109994771872404185770230172934013971</span></span><br><span class="line"></span><br><span class="line">n13 = <span class="number">20545487405816928731738988374475012686827933709789784391855706835136270270933401203019329136937650878386117187776530639342572123237188053978622697282521473917978282830432161153221216194169879669541998840691383025487220850872075436064308499924958517979727954402965612196081404341651517326364041519250125036424822634354268773895465698920883439222996581226358595873993976604699830613932320720554130011671297944433515047180565484495191003887599891289037982010216357831078328159028953222056918189365840711588671093333013117454034313622855082795813122338562446223041211192277089225078324682108033843023903550172891959673551</span></span><br><span class="line">c13 = <span class="number">14227439188191029461250476692790539654619199888487319429114414557975376308688908028140817157205579804059783807641305577385724758530138514972962209062230576107406142402603484375626077345190883094097636019771377866339531511965136650567412363889183159616188449263752475328663245311059988337996047359263288837436305588848044572937759424466586870280512424336807064729894515840552404756879590698797046333336445465120445087587621743906624279621779634772378802959109714400516183718323267273824736540168545946444437586299214110424738159957388350785999348535171553569373088251552712391288365295267665691357719616011613628772175</span></span><br><span class="line"></span><br><span class="line">n14 = <span class="number">27359727711584277234897157724055852794019216845229798938655814269460046384353568138598567755392559653460949444557879120040796798142218939251844762461270251672399546774067275348291003962551964648742053215424620256999345448398805278592777049668281558312871773979931343097806878701114056030041506690476954254006592555275342579529625231194321357904668512121539514880704046969974898412095675082585315458267591016734924646294357666924293908418345508902112711075232047998775303603175363964055048589769318562104883659754974955561725694779754279606726358588862479198815999276839234952142017210593887371950645418417355912567987</span></span><br><span class="line">c14 = <span class="number">3788529784248255027081674540877016372807848222776887920453488878247137930578296797437647922494510483767651150492933356093288965943741570268943861987024276610712717409139946409513963043114463933146088430004237747163422802959250296602570649363016151581364006795894226599584708072582696996740518887606785460775851029814280359385763091078902301957226484620428513604630585131511167015763190591225884202772840456563643159507805711004113901417503751181050823638207803533111429510911616160851391754754434764819568054850823810901159821297849790005646102129354035735350124476838786661542089045509656910348676742844957008857457</span></span><br><span class="line"></span><br><span class="line">n15 = <span class="number">27545937603751737248785220891735796468973329738076209144079921449967292572349424539010502287564030116831261268197384650511043068738911429169730640135947800885987171539267214611907687570587001933829208655100828045651391618089603288456570334500533178695238407684702251252671579371018651675054368606282524673369983034682330578308769886456335818733827237294570476853673552685361689144261552895758266522393004116017849397346259119221063821663280935820440671825601452417487330105280889520007917979115568067161590058277418371493228631232457972494285014767469893647892888681433965857496916110704944758070268626897045014782837</span></span><br><span class="line">c15 = <span class="number">14069112970608895732417039977542732665796601893762401500878786871680645798754783315693511261740059725171342404186571066972546332813667711135661176659424619936101038903439144294886379322591635766682645179888058617577572409307484708171144488708410543462972008179994594087473935638026612679389759756811490524127195628741262871304427908481214992471182859308828778119005750928935764927967212343526503410515793717201360360437981322576798056276657140363332700714732224848346808963992302409037706094588964170239521193589470070839790404597252990818583717869140229811712295005710540476356743378906642267045723633874011649259842</span></span><br><span class="line"></span><br><span class="line">n16 = <span class="number">25746162075697911560263181791216433062574178572424600336856278176112733054431463253903433128232709054141607100891177804285813783247735063753406524678030561284491481221681954564804141454666928657549670266775659862814924386584148785453647316864935942772919140563506305666207816897601862713092809234429096584753263707828899780979223118181009293655563146526792388913462557306433664296966331469906428665127438829399703002867800269947855869262036714256550075520193125987011945192273531732276641728008406855871598678936585324782438668746810516660152018244253008092470066555687277138937298747951929576231036251316270602513451</span></span><br><span class="line">c16 = <span class="number">17344284860275489477491525819922855326792275128719709401292545608122859829827462088390044612234967551682879954301458425842831995513832410355328065562098763660326163262033200347338773439095709944202252494552172589503915965931524326523663289777583152664722241920800537867331030623906674081852296232306336271542832728410803631170229642717524942332390842467035143631504401140727083270732464237443915263865880580308776111219718961746378842924644142127243573824972533819479079381023103585862099063382129757560124074676150622288706094110075567706403442920696472627797607697962873026112240527498308535903232663939028587036724</span></span><br><span class="line"></span><br><span class="line">n17 = <span class="number">23288486934117120315036919418588136227028485494137930196323715336208849327833965693894670567217971727921243839129969128783853015760155446770590696037582684845937132790047363216362087277861336964760890214059732779383020349204803205725870225429985939570141508220041286857810048164696707018663758416807708910671477407366098883430811861933014973409390179948577712579749352299440310543689035651465399867908428885541237776143404376333442949397063249223702355051571790555151203866821867908531733788784978667478707672984539512431549558672467752712004519300318999208102076732501412589104904734983789895358753664077486894529499</span></span><br><span class="line">c17 = <span class="number">10738254418114076548071448844964046468141621740603214384986354189105236977071001429271560636428075970459890958274941762528116445171161040040833357876134689749846940052619392750394683504816081193432350669452446113285638982551762586656329109007214019944975816434827768882704630460001209452239162896576191876324662333153835533956600295255158377025198426950944040643235430211011063586032467724329735785947372051759042138171054165854842472990583800899984893232549092766400510300083585513014171220423103452292891496141806956300396540682381668367564569427813092064053993103537635994311143010708814851867239706492577203899024</span></span><br><span class="line"></span><br><span class="line">n18 = <span class="number">19591441383958529435598729113936346657001352578357909347657257239777540424811749817783061233235817916560689138344041497732749011519736303038986277394036718790971374656832741054547056417771501234494768509780369075443550907847298246275717420562375114406055733620258777905222169702036494045086017381084272496162770259955811174440490126514747876661317750649488774992348005044389081101686016446219264069971370646319546429782904810063020324704138495608761532563310699753322444871060383693044481932265801505819646998535192083036872551683405766123968487907648980900712118052346174533513978009131757167547595857552370586353973</span></span><br><span class="line">c18 = <span class="number">3834917098887202931981968704659119341624432294759361919553937551053499607440333234018189141970246302299385742548278589896033282894981200353270637127213483172182529890495903425649116755901631101665876301799865612717750360089085179142750664603454193642053016384714515855868368723508922271767190285521137785688075622832924829248362774476456232826885801046969384519549385428259591566716890844604696258783639390854153039329480726205147199247183621535172450825979047132495439603840806501254997167051142427157381799890725323765558803808030109468048682252028720241357478614704610089120810367192414352034177484688502364022887</span></span><br><span class="line"></span><br><span class="line">n19 = <span class="number">19254242571588430171308191757871261075358521158624745702744057556054652332495961196795369630484782930292003238730267396462491733557715379956969694238267908985251699834707734400775311452868924330866502429576951934279223234676654749272932769107390976321208605516299532560054081301829440688796904635446986081691156842271268059970762004259219036753174909942343204432795076377432107630203621754552804124408792358220071862369443201584155711893388877350138023238624566616551246804054720492816226651467017802504094070614892556444425915920269485861799532473383304622064493223627552558344088839860178294589481899206318863310603</span></span><br><span class="line">c19 = <span class="number">6790553533991297205804561991225493105312398825187682250780197510784765226429663284220400480563039341938599783346724051076211265663468643826430109013245014035811178295081939958687087477312867720289964506097819762095244479129359998867671811819738196687884696680463458661374310994610760009474264115750204920875527434486437536623589684519411519100170291423367424938566820315486507444202022408003879118465761273916755290898112991525546114191064022991329724370064632569903856189236177894007766690782630247443895358893983735822824243487181851098787271270256780891094405121947631088729917398317652320497765101790132679171889</span></span><br><span class="line"></span><br><span class="line">n20 = <span class="number">26809700251171279102974962949184411136459372267620535198421449833298448092580497485301953796619185339316064387798092220298630428207556482805739803420279056191194360049651767412572609187680508073074653291350998253938793269214230457117194434853888765303403385824786231859450351212449404870776320297419712486574804794325602760347306432927281716160368830187944940128907971027838510079519466846176106565164730963988892400240063089397720414921398936399927948235195085202171264728816184532651138221862240969655185596628285814057082448321749567943946273776184657698104465062749244327092588237927996419620170254423837876806659</span></span><br><span class="line">c20 = <span class="number">386213556608434013769864727123879412041991271528990528548507451210692618986652870424632219424601677524265011043146748309774067894985069288067952546139416819404039688454756044862784630882833496090822568580572859029800646671301748901528132153712913301179254879877441322285914544974519727307311002330350534857867516466612474769753577858660075830592891403551867246057397839688329172530177187042229028685862036140779065771061933528137423019407311473581832405899089709251747002788032002094495379614686544672969073249309703482556386024622814731015767810042969813752548617464974915714425595351940266077021672409858645427346</span></span><br><span class="line"></span><br><span class="line">temp1 = [n1,n2,n3,n4,n5,n6,n7,n8,n9,n10,n11,n12,n13,n14,n15,n16,n17,n18,n19,n20]</span><br><span class="line">temp2 = [c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15,c16,c17,c18,c19,c20]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gcd</span>(<span class="params">x,y</span>):</span><br><span class="line">    <span class="keyword">if</span> y &gt; x:</span><br><span class="line">        x,y = y,x</span><br><span class="line">    <span class="keyword">while</span>(x%y != <span class="number">0</span>):</span><br><span class="line">        a = x%y</span><br><span class="line">        x = y</span><br><span class="line">        y = a</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">p = <span class="number">0</span></span><br><span class="line">N = <span class="number">0</span></span><br><span class="line">c = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>,<span class="number">20</span>):</span><br><span class="line">        <span class="keyword">if</span>(gcd(temp1[i],temp1[j]) != <span class="number">1</span>):</span><br><span class="line">            <span class="built_in">print</span>(i,j)</span><br><span class="line">            <span class="built_in">print</span>(gcd(temp1[i],temp1[j]))</span><br><span class="line">            N = temp1[i]</span><br><span class="line">            c = temp2[i]</span><br><span class="line">            p = gcd(temp1[i],temp1[j])</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">q = N//p</span><br><span class="line">phi_n = (p-<span class="number">1</span>)*(q-<span class="number">1</span>)</span><br><span class="line">d = inverse(e,phi_n)</span><br><span class="line">m = <span class="built_in">pow</span>(c,d,N)</span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(m))</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>适用于e和phi_n不互素的情况大佬的具体文章：<a target="_blank" rel="noopener" href="http://www.hackdig.com/03/hack-629174.htm">http://www.hackdig.com/03/hack-629174.htm</a></p>
<p>四方密码：<a target="_blank" rel="noopener" href="https://www.freebuf.com/articles/network/253700.html">https://www.freebuf.com/articles/network/253700.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/12/21/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B8%8A%E6%9C%BA%E6%8A%A5%E5%91%8A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ang.jpg">
      <meta itemprop="name" content="Ang">
      <meta itemprop="description" content="Why do learn?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ang's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/12/21/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B8%8A%E6%9C%BA%E6%8A%A5%E5%91%8A/" class="post-title-link" itemprop="url">编译原理上机报告</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-12-21 09:15:42" itemprop="dateCreated datePublished" datetime="2022-12-21T09:15:42+08:00">2022-12-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-11 18:00:57" itemprop="dateModified" datetime="2023-07-11T18:00:57+08:00">2023-07-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">编译原理</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="编译原理上机实验报告"><a href="#编译原理上机实验报告" class="headerlink" title="编译原理上机实验报告"></a>编译原理上机实验报告</h1><h3 id="一、-上机题目：简单函数绘图语言解释器"><a href="#一、-上机题目：简单函数绘图语言解释器" class="headerlink" title="一、 上机题目：简单函数绘图语言解释器"></a>一、 上机题目：简单函数绘图语言解释器</h3><h4 id="1-1题目简述"><a href="#1-1题目简述" class="headerlink" title="1.1题目简述"></a>1.1题目简述</h4><p>题目：为函数绘图语言编写一个解释器</p>
<p>解释器接受用绘图语言编写的源程序，经语法和语义分析之后，将源程序所规定的图形显示在显示屏</p>
<p>（或窗口）中。</p>
<p>目的：通过自己动手编写解释器，掌握语言翻译特别是语言识别的基本方法。</p>
<h5 id="lt-1-gt-实现简单的函数绘图语句"><a href="#lt-1-gt-实现简单的函数绘图语句" class="headerlink" title="&lt;1&gt;实现简单的函数绘图语句"></a>&lt;1&gt;实现简单的函数绘图语句</h5><p>循环绘图（FOR-DRAW）</p>
<p>比例设置（SCALE）</p>
<p>角度旋转（ROT）</p>
<p>坐标平移（ORIGIN）</p>
<p>注释</p>
<h5 id="lt-2-gt-屏幕的坐标系"><a href="#lt-2-gt-屏幕的坐标系" class="headerlink" title="&lt;2&gt;屏幕的坐标系"></a>&lt;2&gt;屏幕的坐标系</h5><p>左上角为原点</p>
<p>X方向从左向右增长</p>
<p>Y方向从上到下增长</p>
<h5 id="lt-3-gt-函数绘图源程序"><a href="#lt-3-gt-函数绘图源程序" class="headerlink" title="&lt;3&gt;函数绘图源程序"></a>&lt;3&gt;函数绘图源程序</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">origin is (100,300);</span><br><span class="line">rot is 0;</span><br><span class="line">scale is (1,1);</span><br><span class="line">for T from 0 to 200 step 1 draw (t,0);</span><br><span class="line">								--横坐标的轨迹</span><br><span class="line">for T from 0 to 150 step 1 draw (0,-t);</span><br><span class="line">for T from 0 to 120 step 1 draw (t,-t);</span><br><span class="line">									--f(t) = t 的轨迹</span><br></pre></td></tr></table></figure>

<h4 id="1-2语句的语法和语义"><a href="#1-2语句的语法和语义" class="headerlink" title="1.2语句的语法和语义"></a>1.2语句的语法和语义</h4><p>语句满足下述规则</p>
<h5 id="lt-1-gt-各类语句可以按任意次序书写，且语句以分号结尾，源程序中的语句以他们出现的先后顺处理。"><a href="#lt-1-gt-各类语句可以按任意次序书写，且语句以分号结尾，源程序中的语句以他们出现的先后顺处理。" class="headerlink" title="&lt;1&gt;各类语句可以按任意次序书写，且语句以分号结尾，源程序中的语句以他们出现的先后顺处理。"></a>&lt;1&gt;各类语句可以按任意次序书写，且语句以分号结尾，源程序中的语句以他们出现的先后顺处理。</h5><h5 id="lt-2-gt-ORIGIN-ROT和SCALE语句只能影响其后的绘图语句，且循环最后出现的语句有效的原则。"><a href="#lt-2-gt-ORIGIN-ROT和SCALE语句只能影响其后的绘图语句，且循环最后出现的语句有效的原则。" class="headerlink" title="&lt;2&gt;ORIGIN,ROT和SCALE语句只能影响其后的绘图语句，且循环最后出现的语句有效的原则。"></a>&lt;2&gt;ORIGIN,ROT和SCALE语句只能影响其后的绘图语句，且循环最后出现的语句有效的原则。</h5><h5 id="lt-3-gt-无论ORIGIN，ROT和SCALE语句出现的顺序如何，图像的变换顺序总是：比例变换——旋转变换——平移变换。"><a href="#lt-3-gt-无论ORIGIN，ROT和SCALE语句出现的顺序如何，图像的变换顺序总是：比例变换——旋转变换——平移变换。" class="headerlink" title="&lt;3&gt;无论ORIGIN，ROT和SCALE语句出现的顺序如何，图像的变换顺序总是：比例变换——旋转变换——平移变换。"></a>&lt;3&gt;无论ORIGIN，ROT和SCALE语句出现的顺序如何，图像的变换顺序总是：比例变换——旋转变换——平移变换。</h5><h5 id="lt-4-gt-语言对大小写不敏感，即for，For，FOR等均被认为是同一个语句。"><a href="#lt-4-gt-语言对大小写不敏感，即for，For，FOR等均被认为是同一个语句。" class="headerlink" title="&lt;4&gt;语言对大小写不敏感，即for，For，FOR等均被认为是同一个语句。"></a>&lt;4&gt;语言对大小写不敏感，即for，For，FOR等均被认为是同一个语句。</h5><h5 id="lt-5-gt-语句表达式中的数字为双精度类型，旋转角度以弧度为单位且逆时针旋转，平移单位为点。"><a href="#lt-5-gt-语句表达式中的数字为双精度类型，旋转角度以弧度为单位且逆时针旋转，平移单位为点。" class="headerlink" title="&lt;5&gt;语句表达式中的数字为双精度类型，旋转角度以弧度为单位且逆时针旋转，平移单位为点。"></a>&lt;5&gt;语句表达式中的数字为双精度类型，旋转角度以弧度为单位且逆时针旋转，平移单位为点。</h5><h4 id="1-2-1-循环绘图语句具体解释"><a href="#1-2-1-循环绘图语句具体解释" class="headerlink" title="1.2.1 循环绘图语句具体解释"></a>1.2.1 循环绘图语句具体解释</h4><h5 id="语法为"><a href="#语法为" class="headerlink" title="语法为"></a>语法为</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for t from 起点 to 终点 step 步长 draw(横坐标，纵坐标)；</span><br></pre></td></tr></table></figure>

<h5 id="语义为"><a href="#语义为" class="headerlink" title="语义为"></a>语义为</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">另T从起点到终点，每次改变一个步长，绘制出由给定坐标所规定的点的路线痕迹；</span><br></pre></td></tr></table></figure>

<h5 id="举例为"><a href="#举例为" class="headerlink" title="举例为"></a>举例为</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for t from 0 to 2*pi step pi/90 draw (cos(t),sin(t));</span><br></pre></td></tr></table></figure>

<p>该语句的具体含义为绘制出一个单位圆，从0到2*pi，以pi&#x2F;60为一个步长</p>
<h4 id="1-2-2比例设置语句"><a href="#1-2-2比例设置语句" class="headerlink" title="1.2.2比例设置语句"></a>1.2.2比例设置语句</h4><h5 id="语法为-1"><a href="#语法为-1" class="headerlink" title="语法为"></a>语法为</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scale is (横坐标比例系数，纵坐标比例系数);</span><br></pre></td></tr></table></figure>

<h5 id="语义为-1"><a href="#语义为-1" class="headerlink" title="语义为"></a>语义为</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">设置纵坐标以及横坐标的比例，并分别按照比例因子进行缩放。</span><br></pre></td></tr></table></figure>

<h4 id="1-2-3坐标平移语句"><a href="#1-2-3坐标平移语句" class="headerlink" title="1.2.3坐标平移语句"></a>1.2.3坐标平移语句</h4><h5 id="语法为-2"><a href="#语法为-2" class="headerlink" title="语法为"></a>语法为</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">origin is (横坐标，纵坐标);</span><br></pre></td></tr></table></figure>

<h5 id="语义为-2"><a href="#语义为-2" class="headerlink" title="语义为"></a>语义为</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">将坐标系的原点平移到横坐标和纵坐标规定的点处。</span><br></pre></td></tr></table></figure>

<h4 id="1-2-4角度旋转语句"><a href="#1-2-4角度旋转语句" class="headerlink" title="1.2.4角度旋转语句"></a>1.2.4角度旋转语句</h4><h5 id="语法为-3"><a href="#语法为-3" class="headerlink" title="语法为"></a>语法为</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rot is 具体角度;</span><br></pre></td></tr></table></figure>

<h5 id="语义为-3"><a href="#语义为-3" class="headerlink" title="语义为"></a>语义为</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">逆时针旋转角度所规定的弧度值，具体计算公式为：</span><br><span class="line">	●旋转后X=旋转前XCOS(角度)+旋转前YSIN(角度)</span><br><span class="line">	●旋转后Y=旋转前YCOS(角度)-旋转前XSIN(角度)</span><br></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="1-3记号的语法和语义"><a href="#1-3记号的语法和语义" class="headerlink" title="1.3记号的语法和语义"></a>1.3记号的语法和语义</h3><p>记号的种类有：常数，参数，函数，保留字，运算符、分隔符。</p>
<h5 id="lt-1-gt-常数"><a href="#lt-1-gt-常数" class="headerlink" title="&lt;1&gt;常数"></a>&lt;1&gt;常数</h5><p>常数字面量和标识符形式的常量名均称为常数。字面量的形式为普通的数值，如果没有小数部分，可以</p>
<p>省略小数点。例如2、2.、2.0都是合法的常数。 标识符PI、E也是常数，它们分别代表圆周率和自然对数</p>
<p>的底。常数不能有符号位，如-1和+2不是常数而是（一元运算的）表达式。</p>
<h5 id="lt-2-gt-参数"><a href="#lt-2-gt-参数" class="headerlink" title="&lt;2&gt;参数"></a>&lt;2&gt;参数</h5><p>本作图语言中唯一的、已经被定义好的变量名T被称为参数，它也是一个表达式。</p>
<p>除了预留参数 T 之外本作图语言还支持自定义参数。</p>
<h5 id="lt-3-gt-函数"><a href="#lt-3-gt-函数" class="headerlink" title="&lt;3&gt;函数"></a>&lt;3&gt;函数</h5><p>目前已经编写的函数有：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sin;</span><br><span class="line">cos;</span><br><span class="line">tan;</span><br><span class="line">sqrt;</span><br><span class="line">exp;</span><br><span class="line">ln;</span><br></pre></td></tr></table></figure>

<h5 id="lt-4-gt-保留字（标识符）"><a href="#lt-4-gt-保留字（标识符）" class="headerlink" title="&lt;4&gt;保留字（标识符）"></a>&lt;4&gt;保留字（标识符）</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ORIGIN;SCALE;IS;TO;STEP;FROM;DRAW;FOR;</span><br></pre></td></tr></table></figure>

<h5 id="lt-5-gt-运算符"><a href="#lt-5-gt-运算符" class="headerlink" title="&lt;5&gt;运算符"></a>&lt;5&gt;运算符</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PLUS(+);MINUS(-);MUL(*);DIV(/);POWER(^);</span><br></pre></td></tr></table></figure>

<h5 id="lt-6-gt-分隔符"><a href="#lt-6-gt-分隔符" class="headerlink" title="&lt;6&gt;分隔符"></a>&lt;6&gt;分隔符</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SEMICO(;) L_brackt(() R_bracke()) COMMA(,)</span><br></pre></td></tr></table></figure>



<h2 id="二：开发环境以及配置"><a href="#二：开发环境以及配置" class="headerlink" title="二：开发环境以及配置"></a>二：开发环境以及配置</h2><p>使用c++进行主要类以及相应库的编写，利用cmake进行整个项目的构建，整个项目中使用与平台无关的标准库函数，最终生成python代码利用tkinker进行绘图。</p>
<h2 id="三：解决思路与关键类"><a href="#三：解决思路与关键类" class="headerlink" title="三：解决思路与关键类"></a>三：解决思路与关键类</h2><h4 id="1：结构设计"><a href="#1：结构设计" class="headerlink" title="1：结构设计"></a>1：结构设计</h4><p>此编译器采用一次扫描，以语法分析器为核心，语法分析器是通过词法分析器从代码源文件中读入与分析词素，通过递归下降分析生成对应的抽象语法树（Abstract Syntax Tree），并检测代码中的语法错误。</p>
<p>语法分析器在生成抽象语法树后将其传递给语义分析器，由语义分析器进行语义分析，生成最终的可执行代码，最终生成python代码使用tkinter库进行绘图。</p>
<img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20221115190847886.png"  />

<h4 id="2：词法分析器"><a href="#2：词法分析器" class="headerlink" title="2：词法分析器"></a>2：词法分析器</h4><h5 id="lt-1-gt-词法分析器的主要功能"><a href="#lt-1-gt-词法分析器的主要功能" class="headerlink" title="&lt;1&gt;词法分析器的主要功能"></a>&lt;1&gt;词法分析器的主要功能</h5><p>​	词法分析器的主要功能为识别输入序列，并为语法分析器提供记号</p>
<p>​	过滤掉源程序中的空白字符、注释等编译无关字符</p>
<p>​	输出**记号供语法分析器使用</p>
<p>​	识别非法输出，将其标记为错误记号</p>
<h5 id="lt-2-gt-记号定义"><a href="#lt-2-gt-记号定义" class="headerlink" title="&lt;2&gt;记号定义"></a>&lt;2&gt;记号定义</h5><p>在此解释器中，记号定义为如下形式</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">token</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">token_type</span> type;</span><br><span class="line">    <span class="type">char</span> *lexme;</span><br><span class="line">    <span class="type">double</span> val;</span><br><span class="line">    <span class="built_in">double</span> (*func_ptr)(<span class="type">double</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>其中的token_type为各种类型，即为记号种类，具体定义如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">token_type</span></span><br><span class="line">&#123;</span><br><span class="line">    ORIGIN,SCALE,ROT,IS,TO,FROM,FOR,DRAW,T,</span><br><span class="line">    </span><br><span class="line">    SEMICO,L_brackt,R_bracke,COMMA,</span><br><span class="line">    </span><br><span class="line">    PLUS,MINUS,MUL,DIV,POWER,</span><br><span class="line">    </span><br><span class="line">    FUNC,</span><br><span class="line">    </span><br><span class="line">    CONST_ID,</span><br><span class="line">    </span><br><span class="line">	NONTOKEN,</span><br><span class="line">    </span><br><span class="line">    ERRORTOKEN;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="lt-3-gt-词法分析的主要流程"><a href="#lt-3-gt-词法分析的主要流程" class="headerlink" title="&lt;3&gt;词法分析的主要流程"></a>&lt;3&gt;词法分析的主要流程</h5><p>选取有限自动机来实现语法分词器</p>
<p>​	●清除前导空白字符</p>
<p>​	●获取第一个非空白字符进行判断</p>
<p>​	●若第一个非空白字符为字母则不断读取单个字符到缓冲区直到遇到非数字或非字母字符，将之放回</p>
<p>输入流，缓冲区内存留字符作为一个记号，查询符号表并返回对应的记号（若符号表中不存在则视</p>
<p>为新的变量，追加到符号表中）</p>
<p>​	●若第一个非空白字符为数字则不断读取单个字符到缓冲区直到遇到非数字字符（若遇到小数点符号</p>
<p>. 则重复读取单个字符到缓冲区直到遇到非数字字符），将之放回输入流，通过 atof() 将缓冲</p>
<p>​	●区内字符转换为浮点值赋给一个新的数字记号并返回</p>
<p>​	●若第一个非空白字符为其他分隔字符则进行针对性的模式匹配</p>
<p>​	●其余则为非法字符，进行报错</p>
<h4 id="3：语法分析器"><a href="#3：语法分析器" class="headerlink" title="3：语法分析器"></a>3：语法分析器</h4><h5 id="适合递归下降分析算法如下："><a href="#适合递归下降分析算法如下：" class="headerlink" title="适合递归下降分析算法如下："></a>适合递归下降分析算法如下：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Express on → Term    PLUS   MINUS  Term  </span><br><span class="line">Term → Factor &#123; (MUL | DIV) Factor &#125;</span><br><span class="line">Factor → PLUS Factor | MINUS Factor | Component</span><br><span class="line">Component → Atom [POWER Component]</span><br><span class="line">Atom → CONST_ID</span><br><span class="line">| T</span><br><span class="line">| FUNC L_BRACKET Expression R_BRACKET</span><br><span class="line">| L_BRACKET Expression R_BRACKET</span><br></pre></td></tr></table></figure>

<h5 id="其中语法树的数据结构为："><a href="#其中语法树的数据结构为：" class="headerlink" title="其中语法树的数据结构为："></a>其中语法树的数据结构为：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span>  <span class="title class_">expr_node</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">token_type</span> opcode;</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">struct</span> <span class="comment">// tree node</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">expr_node</span> *left;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">expr_node</span> *right;</span><br><span class="line">&#125;case_operator; <span class="comment">// the node is a operator</span></span><br><span class="line"><span class="keyword">struct</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">expr_node</span> *child;</span><br><span class="line"><span class="built_in">double</span> (*func_ptr)(<span class="type">double</span>);</span><br><span class="line">&#125;case_func; <span class="comment">// the node is a call of function</span></span><br><span class="line"><span class="type">double</span> case_const; <span class="comment">// the node is a const value (right</span></span><br><span class="line">val)</span><br><span class="line"><span class="type">double</span> *case_param; <span class="comment">// the node is a param (left</span></span><br><span class="line">val)</span><br><span class="line">&#125;content;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="4-语义分析器"><a href="#4-语义分析器" class="headerlink" title="4:语义分析器"></a>4:语义分析器</h4><h5 id="辅助语义函数为："><a href="#辅助语义函数为：" class="headerlink" title="辅助语义函数为："></a>辅助语义函数为：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">double</span> <span class="title">get_expr_val</span><span class="params">(<span class="keyword">struct</span> expr_node *tree)</span> ：计算表达式的值</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_coordinate</span><span class="params">(<span class="keyword">struct</span> expr_node *exp_x, <span class="keyword">struct</span> expr_node *exp_y, <span class="type">double</span></span></span></span><br><span class="line"><span class="params"><span class="function">&amp;x, <span class="type">double</span> &amp;y)</span> ：获得一个点的坐标</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">draw_loop</span><span class="params">(<span class="keyword">struct</span> token *param, <span class="type">double</span> start, <span class="type">double</span> end, <span class="type">double</span> step,</span></span></span><br><span class="line"><span class="params"><span class="function"><span class="keyword">struct</span> expr_node *exp_x, <span class="keyword">struct</span> expr_node *exp_y)</span> ：由语法树绘制该表达式中所有的点</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">draw_pixel</span><span class="params">(<span class="type">double</span> x, <span class="type">double</span> y, <span class="type">double</span> step)</span> ：核心绘图函数，生成绘制一个点的python 代码</span></span><br></pre></td></tr></table></figure>



<h2 id="四-实验结果以及测试截图"><a href="#四-实验结果以及测试截图" class="headerlink" title="四:实验结果以及测试截图"></a>四:实验结果以及测试截图</h2><p>测试代码为：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">rot is <span class="number">0</span>;</span><br><span class="line"><span class="function">origin <span class="title">is</span> <span class="params">(<span class="number">50</span>, <span class="number">400</span>)</span></span>;</span><br><span class="line"><span class="function">scale <span class="title">is</span> <span class="params">(<span class="number">2</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> T from <span class="number">0</span> to <span class="number">300</span> step <span class="number">0.01</span> <span class="built_in">draw</span> (t, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">for</span> T from <span class="number">0</span> to <span class="number">300</span> step <span class="number">0.01</span> <span class="built_in">draw</span> (<span class="number">0</span>, -t);</span><br><span class="line"><span class="keyword">for</span> T from <span class="number">0</span> to <span class="number">300</span> step <span class="number">0.01</span> <span class="built_in">draw</span> (t, -t);</span><br><span class="line"><span class="function">scale <span class="title">is</span> <span class="params">(<span class="number">2</span>, <span class="number">0.1</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> T from <span class="number">0</span> to <span class="number">55</span> step <span class="number">0.01</span> <span class="built_in">draw</span> (t, -(t*t));</span><br><span class="line"><span class="function">scale <span class="title">is</span> <span class="params">(<span class="number">10</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> T from <span class="number">0</span> to <span class="number">60</span> step <span class="number">0.01</span> <span class="built_in">draw</span> (t, -<span class="built_in">sqrt</span>(t));</span><br><span class="line"><span class="function">scale <span class="title">is</span> <span class="params">(<span class="number">20</span>, <span class="number">0.1</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> T from <span class="number">0</span> to <span class="number">8</span> step <span class="number">0.01</span> <span class="built_in">draw</span> (t, -<span class="built_in">exp</span>(t));</span><br><span class="line"><span class="function">scale <span class="title">is</span> <span class="params">(<span class="number">2</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> T from <span class="number">0</span> to <span class="number">300</span> step <span class="number">0.01</span> <span class="built_in">draw</span> (t, -<span class="built_in">ln</span>(t));</span><br></pre></td></tr></table></figure>



<p>测试结果为：</p>
<img src="C:\Users\20191\AppData\Roaming\Typora\typora-user-images\image-20221114172645315.png" alt="image-20221114172645315" style="zoom: 67%;" />



<h2 id="五：心得体会"><a href="#五：心得体会" class="headerlink" title="五：心得体会"></a>五：心得体会</h2><p>从刚开始枯燥无聊的编译原理课程，到为了完成大作业的一步步学习，体会到了独立完成整个编译器的过程，让我从更深的层次上了解了代码的编译过程，同时独立完成一个“传说中”的编译器满满的成就感。</p>
<p>遇到了太多的困难，从一个个库的编写（第一次自己手动编写一个自己需要的库），到编写完毕之后的运行失败，再到学长的引导下，把自己的各个文件用cmake系统的构建起来，以便后续的使用，最后到写入python文件的路径问题，从毫无头绪到一步步的完成，对我自己的能力提升很有帮助，不仅体现在这门课上面，更体现在自己对于计算机编译的理解和运行上面。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/29/cmake-learn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ang.jpg">
      <meta itemprop="name" content="Ang">
      <meta itemprop="description" content="Why do learn?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ang's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/29/cmake-learn/" class="post-title-link" itemprop="url">cmake_learn</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-10-29 21:34:05" itemprop="dateCreated datePublished" datetime="2022-10-29T21:34:05+08:00">2022-10-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-11 17:28:35" itemprop="dateModified" datetime="2023-07-11T17:28:35+08:00">2023-07-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">一些工具的学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h5 id="Cmake"><a href="#Cmake" class="headerlink" title="Cmake"></a>Cmake</h5><p>​	没想到竟然会为了抄一个编译原理作业而“学到”这么多东西，原来从大佬的github上扒代码也是要讲究技术的，呜呜呜，属实是被薄纱了，在求助了fl师傅之后，终于意识到了自己的错误，cmake和make这两个命令的区别。未完待续……</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/9763cd8325bf">https://www.jianshu.com/p/9763cd8325bf</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yinheyi/p/14968494.html">https://www.cnblogs.com/yinheyi/p/14968494.html</a></p>
<p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/cpp/build/cmake-projects-in-visual-studio?view=msvc-170">https://learn.microsoft.com/zh-cn/cpp/build/cmake-projects-in-visual-studio?view=msvc-170</a></p>
<p>一篇特别好的cmake入门文章：</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/500002865">https://zhuanlan.zhihu.com/p/500002865</a></p>
<p>windows shell <a target="_blank" rel="noopener" href="https://www.jb51.net/article/69966.htm">https://www.jb51.net/article/69966.htm</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/448884264%E5%AF%B9%E4%BA%8EGNU/Mingw/LLVM%E4%BB%A5%E5%8F%8Amake/cmake%E7%9A%84%E5%85%A8%E5%B1%80%E4%BB%8B%E7%BB%8D">https://zhuanlan.zhihu.com/p/448884264对于GNU/Mingw/LLVM以及make/cmake的全局介绍</a></p>
<h5 id="mingw和Nmake-makefile的区别："><a href="#mingw和Nmake-makefile的区别：" class="headerlink" title="mingw和Nmake makefile的区别："></a>mingw和Nmake makefile的区别：</h5><p>MinGW Makefile 和 Nmake Makefile 是针对不同的构建工具链而设计的两种不同类型的 Makefile。下面是它们之间的区别：</p>
<ol>
<li>构建工具链：<ul>
<li>MinGW Makefile：针对 MinGW 工具链的 Makefile，用于在 Windows 上进行编译和构建。MinGW（Minimalist GNU for Windows）提供了一套在 Windows 上使用 GNU 工具链的开发工具，包括 GCC 编译器和 GNU Make 工具。</li>
<li>Nmake Makefile：针对 Microsoft Visual Studio 的 Nmake 工具链的 Makefile，用于在 Windows 上进行编译和构建。Nmake 是 Microsoft 提供的用于 Windows 平台的构建工具，通常与 Visual Studio 一起使用。</li>
</ul>
</li>
<li>语法和指令：<ul>
<li>MinGW Makefile：MinGW Makefile 遵循 GNU Make 的语法和指令。它使用类似于 POSIX 环境中的 Makefile 的规范，并支持 GNU Make 的扩展功能和指令。</li>
<li>Nmake Makefile：Nmake Makefile 使用微软的 Nmake 语法和指令。它使用不同于 GNU Make 的规范，并具有自己特定的指令和变量。</li>
</ul>
</li>
<li>平台兼容性：<ul>
<li>MinGW Makefile：MinGW Makefile 可以在 POSIX 兼容的环境（如 Windows、Linux 和 macOS）中使用，并且可以跨平台移植。</li>
<li>Nmake Makefile：Nmake Makefile 是特定于 Windows 平台的，与 Microsoft Visual Studio 和 Nmake 构建工具链紧密集成。</li>
</ul>
</li>
<li>可移植性：<ul>
<li>MinGW Makefile：由于 MinGW 工具链是基于 GNU 工具链的，MinGW Makefile 具有较好的可移植性，并且可以在多个平台和环境中使用。</li>
<li>Nmake Makefile：Nmake Makefile 是特定于 Windows 平台和 Microsoft Visual Studio 的，不具有与其他平台的直接兼容性。</li>
</ul>
</li>
</ol>
<p>需要注意的是，MinGW Makefile 和 Nmake Makefile 在语法和指令上有所不同，因此不能直接互换使用。选择适合你的构建工具链的 Makefile 类型，以便与相关工具和环境集成，并支持正确的构建过程。</p>
<h5 id="makefiles的种类以及相应的编译器版本："><a href="#makefiles的种类以及相应的编译器版本：" class="headerlink" title="makefiles的种类以及相应的编译器版本："></a>makefiles的种类以及相应的编译器版本：</h5><p>Generators</p>
<ul>
<li>Visual Studio 17 2022        &#x3D; Generates Visual Studio 2022 project files.<br>                           Use -A option to specify architecture.<br>Visual Studio 16 2019        &#x3D; Generates Visual Studio 2019 project files.<br>                           Use -A option to specify architecture.<br>Visual Studio 15 2017 [arch] &#x3D; Generates Visual Studio 2017 project files.<br>                           Optional [arch] can be “Win64” or “ARM”.<br>Visual Studio 14 2015 [arch] &#x3D; Generates Visual Studio 2015 project files.<br>                           Optional [arch] can be “Win64” or “ARM”.<br>Visual Studio 12 2013 [arch] &#x3D; Generates Visual Studio 2013 project files.<br>                           Optional [arch] can be “Win64” or “ARM”.<br>Visual Studio 11 2012 [arch] &#x3D; Deprecated.  Generates Visual Studio 2012<br>                           project files.  Optional [arch] can be<br>                           “Win64” or “ARM”.<br>Visual Studio 9 2008 [arch]  &#x3D; Generates Visual Studio 2008 project files.<br>                           Optional [arch] can be “Win64” or “IA64”.<br>Borland Makefiles            &#x3D; Generates Borland makefiles.<br>NMake Makefiles              &#x3D; Generates NMake makefiles.<br>NMake Makefiles JOM          &#x3D; Generates JOM makefiles.<br>MSYS Makefiles               &#x3D; Generates MSYS makefiles.<br>MinGW Makefiles              &#x3D; Generates a make file for use with<br>                           mingw32-make.<br>Green Hills MULTI            &#x3D; Generates Green Hills MULTI files<br>                           (experimental, work-in-progress).<br>Unix Makefiles               &#x3D; Generates standard UNIX makefiles.<br>Ninja                        &#x3D; Generates build.ninja files.<br>Ninja Multi-Config           &#x3D; Generates build-<Config>.ninja files.<br>Watcom WMake                 &#x3D; Generates Watcom WMake makefiles.<br>CodeBlocks - MinGW Makefiles &#x3D; Generates CodeBlocks project files.<br>CodeBlocks - NMake Makefiles &#x3D; Generates CodeBlocks project files.<br>CodeBlocks - NMake Makefiles JOM<br>                         &#x3D; Generates CodeBlocks project files.<br>CodeBlocks - Ninja           &#x3D; Generates CodeBlocks project files.<br>CodeBlocks - Unix Makefiles  &#x3D; Generates CodeBlocks project files.<br>CodeLite - MinGW Makefiles   &#x3D; Generates CodeLite project files.<br>CodeLite - NMake Makefiles   &#x3D; Generates CodeLite project files.<br>CodeLite - Ninja             &#x3D; Generates CodeLite project files.<br>CodeLite - Unix Makefiles    &#x3D; Generates CodeLite project files.<br>Eclipse CDT4 - NMake Makefiles<br>                         &#x3D; Generates Eclipse CDT 4.0 project files.<br>Eclipse CDT4 - MinGW Makefiles<br>                         &#x3D; Generates Eclipse CDT 4.0 project files.<br>Eclipse CDT4 - Ninja         &#x3D; Generates Eclipse CDT 4.0 project files.<br>Eclipse CDT4 - Unix Makefiles&#x3D; Generates Eclipse CDT 4.0 project files.<br>Kate - MinGW Makefiles       &#x3D; Generates Kate project files.<br>Kate - NMake Makefiles       &#x3D; Generates Kate project files.<br>Kate - Ninja                 &#x3D; Generates Kate project files.<br>Kate - Unix Makefiles        &#x3D; Generates Kate project files.<br>Sublime Text 2 - MinGW Makefiles<br>                         &#x3D; Generates Sublime Text 2 project files.<br>Sublime Text 2 - NMake Makefiles<br>                         &#x3D; Generates Sublime Text 2 project files.<br>Sublime Text 2 - Ninja       &#x3D; Generates Sublime Text 2 project files.<br>Sublime Text 2 - Unix Makefiles<br>                         &#x3D; Generates Sublime Text 2 project files.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/19/RSA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ang.jpg">
      <meta itemprop="name" content="Ang">
      <meta itemprop="description" content="Why do learn?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ang's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/19/RSA/" class="post-title-link" itemprop="url">RSA</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-10-19 11:21:29" itemprop="dateCreated datePublished" datetime="2022-10-19T11:21:29+08:00">2022-10-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-11 17:28:58" itemprop="dateModified" datetime="2023-07-11T17:28:58+08:00">2023-07-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Crypto/" itemprop="url" rel="index"><span itemprop="name">Crypto</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​	</p>
<h2 id="第二题——signin-——不会（且和第六题一个德行）（一看原来是同一个出题人）"><a href="#第二题——signin-——不会（且和第六题一个德行）（一看原来是同一个出题人）" class="headerlink" title="第二题——signin ——不会（且和第六题一个德行）（一看原来是同一个出题人）"></a>第二题——signin ——不会（且和第六题一个德行）（一看原来是同一个出题人）</h2><p>​	这是一个类似于RSA的题目，但是实际上并不是，题目中已经给出了p，q，e以及明文c的情况下，可以很简单的利用RSA进行解密，但是在求欧拉函数的过程中，发现e对于phi_n不存在逆元，于是联想到欧拉函数和e并不是互素的，经检查之后发现的确如此，然后对于此种e和phi_n不互素的情况，发现可以利用 <em><strong>AMM算法</strong></em> 进行运算。</p>
<p>对此的解释，如果e和phi_n不互素，则二者存在最大公约数，而如果将最大公约数约分掉，则此时两者必然互素，必存在逆元，然后由还没看懂的数论知识，最终得出的铭文m将会是m^e,且e即为伟大公约数，所以此时就会遇到另一个问题，如何对这个大整数明文m^e进行开e次根号，此时AMM算法就开始发挥作用了，AMM算法是一种可以对大整数进行开n次根号的算法，以下附代码</p>
<p>时间原因，没来得及写注释（</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">language：python3</span><br><span class="line">title: RSA&amp;AMM</span><br><span class="line">mark: <span class="number">29</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> tabnanny <span class="keyword">import</span> check</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"></span><br><span class="line">p = <span class="number">12408795636519868275579286477747181009018504169827579387457997229774738126230652970860811085539129972962189443268046963335610845404214331426857155412988073</span></span><br><span class="line">q = <span class="number">12190036856294802286447270376342375357864587534233715766210874702670724440751066267168907565322961270655972226761426182258587581206888580394726683112820379</span></span><br><span class="line">n = q</span><br><span class="line"><span class="comment">#phi_n = (p-1)*(q-1)</span></span><br><span class="line">e = <span class="number">65537</span></span><br><span class="line"><span class="comment">#e_1 = gmpy2.gcd(e,phi_n)</span></span><br><span class="line"><span class="comment">#d = gmpy2.invert(e//e_1,phi_n)</span></span><br><span class="line"></span><br><span class="line">c = <span class="number">68960610962019321576894097705679955071402844421318149418040507036722717269530195000135979777852568744281930839319120003106023209276898286482202725287026853925179071583797231099755287410760748104635674307266042492611618076506037004587354018148812584502385622631122387857218023049204722123597067641896169655595</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#m = gmpy2.powmod(c,d,phi_n)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">GF</span>(<span class="params">a</span>):</span><br><span class="line">    <span class="keyword">global</span> p</span><br><span class="line">    p = a</span><br><span class="line"><span class="comment">#乘法取模</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">g</span>(<span class="params">a,b</span>):</span><br><span class="line">    <span class="keyword">global</span> p</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">pow</span>(a,b,p)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">AMM</span>(<span class="params">x,e,p</span>):</span><br><span class="line">    GF(p)</span><br><span class="line">    y = random.randint(<span class="number">1</span>, p-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">while</span> g(y, (p-<span class="number">1</span>)//e) == <span class="number">1</span>:</span><br><span class="line">        y = random.randint(<span class="number">1</span>, p-<span class="number">1</span>)</span><br><span class="line">        <span class="comment">#print(y)</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;find&quot;</span>)</span><br><span class="line">    <span class="comment">#p-1 = e^t*s</span></span><br><span class="line">    t = <span class="number">1</span></span><br><span class="line">    s = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> p % e == <span class="number">0</span>:</span><br><span class="line">        t += <span class="number">1</span></span><br><span class="line">        <span class="comment">#print(t)</span></span><br><span class="line">    s = p // (e**t)</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    print(&#x27;e&#x27;,e)</span></span><br><span class="line"><span class="string">    print(&#x27;p&#x27;,p)</span></span><br><span class="line"><span class="string">    print(&#x27;s&#x27;,s)</span></span><br><span class="line"><span class="string">    print(&#x27;t&#x27;,t)</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># s|ralpha-1</span></span><br><span class="line">    k = <span class="number">1</span>    </span><br><span class="line">    <span class="keyword">while</span>((s * k + <span class="number">1</span>) % e != <span class="number">0</span>):</span><br><span class="line">        k += <span class="number">1</span></span><br><span class="line">    alpha = (s * k + <span class="number">1</span>) // e</span><br><span class="line">    <span class="comment">#计算a = y^s b = x^s h =1</span></span><br><span class="line">    <span class="comment">#h为e次非剩余部分的积</span></span><br><span class="line">    a = g(y, (e ** (t - <span class="number">1</span>) ) * s)</span><br><span class="line">    b = g(x, e * alpha - <span class="number">1</span>)</span><br><span class="line">    c = g(y, s)</span><br><span class="line">    h = <span class="number">1</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, t-<span class="number">1</span>):</span><br><span class="line">        d = g(b,e**(t-<span class="number">1</span>-i))</span><br><span class="line">        <span class="keyword">if</span> d == <span class="number">1</span>:</span><br><span class="line">            j = <span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            j = (-math.log(d,a) % e)</span><br><span class="line">        b = b * (g(g(c, e), j))</span><br><span class="line">        h = h * g(c, j)</span><br><span class="line">        c = g(c,e)</span><br><span class="line">    <span class="keyword">return</span> (g(x,alpha * h)) % p</span><br><span class="line"></span><br><span class="line">mps = AMM(c,e,n)</span><br><span class="line"></span><br><span class="line">flag = long_to_bytes(mps)</span><br><span class="line"><span class="built_in">print</span>(flag.decode(<span class="string">&#x27;utf_8&#x27;</span>,<span class="string">&#x27;ignore&#x27;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>题目参考moectf——signin</p>
<h2 id="第四题："><a href="#第四题：" class="headerlink" title="第四题："></a>第四题：</h2><p>此题加密形式给定的两个素数为相邻（等价于相差很小的两个素数），题目种只给出了 n,e,c,所以显然是要通过特定方法对n进行分解</p>
<p>费马分解：可以直接将n进行取平方根，然后此值一定在两个数之间，由于两个质数是由next_prime函数连接的，所以p和q之间不存在素数</p>
<h5 id="则第一种方法，直接对n进行开平方根"><a href="#则第一种方法，直接对n进行开平方根" class="headerlink" title="则第一种方法，直接对n进行开平方根"></a>则第一种方法，直接对n进行开平方根</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line">n = <span class="string">&#x27;  &#x27;</span></span><br><span class="line">tmp=gmpy2.iroot(n,<span class="number">2</span>)[<span class="number">0</span>]</span><br><span class="line">p=gmpy2.next_prime(tmp)</span><br><span class="line">q=n//p</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;p=&quot;</span>,p)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;q=&quot;</span>,q)</span><br></pre></td></tr></table></figure>

<p>上述方法在运算时只能解出一个较小的解，下面的方法可以同时得到两个解：</p>
<h5 id="第二种方法"><a href="#第二种方法" class="headerlink" title="第二种方法"></a>第二种方法</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">factor</span>(<span class="params">n</span>):</span><br><span class="line">a=gmpy2.iroot(n,<span class="number">2</span>)[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">a+=<span class="number">1</span></span><br><span class="line">b2=a*a-n</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> gmpy2.is_square(b2):</span><br><span class="line"> b2=gmpy2.mpz(b2)</span><br><span class="line"> b,xflag=gmpy2.iroot(b2,<span class="number">2</span>)</span><br><span class="line"> <span class="keyword">assert</span> xflag</span><br><span class="line"> <span class="keyword">return</span> (a-b,a+b)</span><br></pre></td></tr></table></figure>

<p>这种方法是将<br>$$<br>n &#x3D; p*q<br>$$<br>分解为<br>$$<br>n &#x3D; (a-b)(a+b) &#x3D; a^2 - b^2<br>$$</p>
<p>$$<br>p &#x3D; a+b;q &#x3D; a-b<br>$$</p>
<p>在成功分解的情况下, 得出a后，令<br>$$<br>b2 &#x3D; a^2 - n<br>$$<br>则此时得到<br>$$<br>b2 &#x3D; b^2<br>$$<br>所以对得出的a进行遍历，每次另a++,直至得到b2为一个完全平方数为止。</p>
<p>题目代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sys <span class="keyword">import</span> flags</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">List</span></span><br><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.strxor <span class="keyword">import</span> strxor</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">isqrt</span>(<span class="params">n</span>):</span><br><span class="line">  x = n</span><br><span class="line">  y = (x + n // x) // <span class="number">2</span></span><br><span class="line">  <span class="keyword">while</span> y &lt; x:</span><br><span class="line">    x = y</span><br><span class="line">    y = (x + n // x) // <span class="number">2</span></span><br><span class="line">  <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fermat</span>(<span class="params">n, verbose=<span class="literal">True</span></span>):</span><br><span class="line">    a = isqrt(n) <span class="comment"># int(ceil(n**0.5))</span></span><br><span class="line">    b2 = a*a - n</span><br><span class="line">    b = isqrt(n) <span class="comment"># int(b2**0.5)</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> b*b != b2:</span><br><span class="line">        <span class="comment"># if verbose:</span></span><br><span class="line">        <span class="comment">#     print(&#x27;Trying: a=%s b2=%s b=%s&#x27; % (a, b2, b))</span></span><br><span class="line">        a = a + <span class="number">1</span></span><br><span class="line">        b2 = a*a - n</span><br><span class="line">        b = isqrt(b2) <span class="comment"># int(b2**0.5)</span></span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">    p=a+b</span><br><span class="line">    q=a-b</span><br><span class="line">    <span class="keyword">assert</span> n == p * q</span><br><span class="line">    <span class="comment"># print(&#x27;a=&#x27;,a)</span></span><br><span class="line">    <span class="comment"># print(&#x27;b=&#x27;,b)</span></span><br><span class="line">    <span class="comment"># print(&#x27;p=&#x27;,p)</span></span><br><span class="line">    <span class="comment"># print(&#x27;q=&#x27;,q)</span></span><br><span class="line">    <span class="comment"># print(&#x27;pq=&#x27;,p*q)</span></span><br><span class="line">    <span class="keyword">return</span> p, q</span><br><span class="line"></span><br><span class="line">n = <span class="number">164395171965189899201846744244839588935095288852148507114700855000512464673975991783671493756953831066569435489213778701866548078207835105414442567008315975881952023037557292470005621852113709605286462434049311321175270134326956812936961821511753256992797013020030263567313257339785161436188882721736453384403</span></span><br><span class="line"></span><br><span class="line">p,q = fermat(n)</span><br><span class="line"></span><br><span class="line">e = <span class="number">0x10001</span></span><br><span class="line"></span><br><span class="line">c = <span class="number">127749242340004016446001520961422059381052911692861305057396462507126566256652316418648339729479729456613704261614569202080544183416817827900318057127539938899577580150210279291202882125162360563285794285643498788533366420857232908632854569967831654923280152015070999912426044356353393293132914925252494215314</span></span><br><span class="line"></span><br><span class="line">phi_n = (p-<span class="number">1</span>)*(q-<span class="number">1</span>)</span><br><span class="line">d = gmpy2.invert(e,phi_n)</span><br><span class="line"></span><br><span class="line">m = gmpy2.powmod(c,d,n)</span><br><span class="line"></span><br><span class="line">key = long_to_bytes(m)</span><br><span class="line">c1 = <span class="string">b&#x27;Just once,I will accompany you to see the world&#x27;</span></span><br><span class="line">flag = strxor(key,c1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(flag.decode())</span><br></pre></td></tr></table></figure>



<h3 id="第五题："><a href="#第五题：" class="headerlink" title="第五题："></a>第五题：</h3><p>第五题为一个flag分成两半来解</p>
<h5 id="flag1"><a href="#flag1" class="headerlink" title="flag1"></a>flag1</h5><p>此为n很大而e很小的rsa解密，对n进行分解采用低指数加密</p>
<h6 id="低指数加密原理："><a href="#低指数加密原理：" class="headerlink" title="低指数加密原理："></a>低指数加密原理：</h6><p>当选取素数为e &#x3D; 3时，加密公匙变为：<br>$$<br>m^3 ≡ c(mod n)<br>$$<br>对此式进行变换可知<br>$$<br>由\ c mod n &#x3D; MOD \ n\m^3 mod n &#x3D; MOD<br>$$</p>
<p>$$<br>m^3  &#x3D;c + k<em>n\m &#x3D; (c+k</em>n)^(1&#x2F;3)<br>$$</p>
<p>所以可以从小到大对k进行枚举，直到开方开出整数为止</p>
<h5 id="flag2"><a href="#flag2" class="headerlink" title="flag2"></a>flag2</h5><p>此为dp泄露的RSA解密<br>$$<br>dp &#x3D; d\ mod(p-1)<br>$$<br>推导公式：<br>$$<br>dp &#x3D; d\ mod\ (p-1)<br>➡️dp<em>e &#x3D; d</em>e\ mod\ (p-1)➡️\d<em>e &#x3D; k</em>(p-1)+dp<em>e<br>$$<br>又因为<br>$$<br>d</em>e ≡ 1\ mod\ phi_n<br>$$<br>所以<br>$$<br>k*(p-1) + dp*e ≡ 1mod\ phi_n<br>$$<br>…………………………未完待续：</p>
<p>最后导出<br>$$<br>dp<em>e &#x3D; X</em>(p-1)+1\X∈(0,e)<br>$$<br>所以只需要对X进行遍历即可（X有e-1种可能），求出p-1后，即可求解。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/04/python-learn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ang.jpg">
      <meta itemprop="name" content="Ang">
      <meta itemprop="description" content="Why do learn?">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ang's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/04/python-learn/" class="post-title-link" itemprop="url">python_learn</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-10-04 21:38:20" itemprop="dateCreated datePublished" datetime="2022-10-04T21:38:20+08:00">2022-10-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-11 17:28:53" itemprop="dateModified" datetime="2023-07-11T17:28:53+08:00">2023-07-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">一些工具的学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​	字符串前加b表示这是一个bytes对象</p>
<p>字符串前加f表示这是一个</p>
<p>大佬博客 <a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html">RSA算法原理（一） - 阮一峰的网络日志 (ruanyifeng.com)</a></p>
<p>如果n可以被因数分解，d就可以算出，也就意味着私匙被解密。</p>
<p>0x -16进制 </p>
<p>strxor函数对两个等长字符串取异或</p>
<p>getprime(n) 取一个n位素数</p>
<p>powmod（m，e，n） &#x3D; m^e%n;</p>
<p>gcd 取最大公因数</p>
<p>ord 返回一个字符的ascii值</p>
<p>map() 函数会根据提供的函数对指定序列做映射。</p>
<p>append函数：将参数添加在字符串的后面</p>
<p>第一个参数 function 以参数序列中的每一个元素调用 function 函数，返回包含每次 function 函数返回值的新列表。</p>
<p>乘发逆元：<a target="_blank" rel="noopener" href="https://oi-wiki.org/math/number-theory/inverse/">https://oi-wiki.org/math/number-theory/inverse/</a></p>
<p>sage使用：</p>
<p>欧拉函数:euler_phi</p>
<p>对于rsa算法来说，如果取的两个质数相距很接近，则可以直接对这个大数进行开根号处理</p>
<p>第二题: 大佬博客·：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/nul1/p/13489269.html">CTF中的RSA套路 - _nul1 - 博客园 (cnblogs.com)</a></p>
<p>Python ljust() 方法返回一个原字符串左对齐,并使用空格填充至指定长度的新字符串。如果指定的长度小于原字符串的长度则返回原字符串</p>
<p>assert（）相当于一个判断程序是否正确的断言，其实就相当于一个if语句。</p>
<p>​		1、对于两个相近的随机素数，可以直接进行开根号处理，然后进行判断，算法为费马分解</p>
<p><a target="_blank" rel="noopener" href="https://www.freebuf.com/articles/database/290623.html">浅析RSA因子大小相近时分解因子攻击方法 - FreeBuf网络安全行业门户</a></p>
<p>​		2、对于n很大而e很小，可以采用低指数加密来对n进行分解  参考博客：<a target="_blank" rel="noopener" href="https://blog.csdn.net/fengerxi33/article/details/123353560">(74条消息) CTF_RSA_低加密指数攻击脚本_风二西的博客-CSDN博客_ctf rsa脚本</a></p>
<p>​		3、给出dp或者dq 参考博客 <a target="_blank" rel="noopener" href="https://oceansec.blog.csdn.net/article/details/121023558?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-121023558-blog-95500279.pc_relevant_multi_platform_whitelistv4&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-121023558-blog-95500279.pc_relevant_multi_platform_whitelistv4&utm_relevant_index=2">(74条消息) CTF-Crypto-RSA整理_OceanSec的博客-CSDN博客_ctf ras</a></p>
<p>dp泄露:<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45369385/article/details/109208109">(75条消息) RSA-详解dp泄漏_来梦桃子的博客-CSDN博客_rsa dp</a></p>
<p>​		4、</p>
<p>​		1️⃣e和欧拉函数不互素的情况 AMM算法进行开e次根 <a target="_blank" rel="noopener" href="https://www.anquanke.com/post/id/262634">RSA中e和phi不互素时的AMM开根-安全客 - 安全资讯平台 (anquanke.com)</a></p>
<p>​		2️⃣<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/446499019">RSA中e和phi不互素时的AMM开根 - 知乎 (zhihu.com)</a></p>
<p>​		3️⃣<a target="_blank" rel="noopener" href="https://dgz-cyber.github.io/2020/03/03/RSA%E2%80%94%E2%80%94%E5%BD%93e%E4%B8%8E%CF%86(n)%E4%B8%8D%E4%BA%92%E7%B4%A0%E6%97%B6/">RSA——当e与φ(n)不互素时 · DGZ’s Blog (dgz-cyber.github.io)</a></p>
<p>进入python第三方库文档命令 </p>
<p>相关题型：<a target="_blank" rel="noopener" href="https://www.freebuf.com/articles/web/287854.html">『CTF』史上最全 RSA 题目总结 - FreeBuf网络安全行业门户</a></p>
<p>sage使用命令:</p>
<p><a target="_blank" rel="noopener" href="https://chu-kangming.gitee.io/crypto/Use-of-Sagemath-in-CTF-Cryptography.html">sagemath在ctf密码学中的使用 - GAEA (gitee.io)</a></p>
<p><a target="_blank" rel="noopener" href="https://tl2cents.github.io/2022/03/27/SageMath%E7%AE%80%E6%98%8E%E6%95%99%E7%A8%8B/">SageMath简明教程 | tl2cents blog</a></p>
<h4 id="RSA常用工具博客：-原创-Crypto中RSA常用工具及python库说明-密码应用-看雪论坛-安全社区-安全招聘-bbs-pediy-com"><a href="#RSA常用工具博客：-原创-Crypto中RSA常用工具及python库说明-密码应用-看雪论坛-安全社区-安全招聘-bbs-pediy-com" class="headerlink" title="RSA常用工具博客：[原创]Crypto中RSA常用工具及python库说明-密码应用-看雪论坛-安全社区|安全招聘|bbs.pediy.com"></a>RSA常用工具博客：[<a target="_blank" rel="noopener" href="https://bbs.pediy.com/thread-266504.htm">原创]Crypto中RSA常用工具及python库说明-密码应用-看雪论坛-安全社区|安全招聘|bbs.pediy.com</a></h4><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>线性同余生成器：</p>
<p>zip函数：可以理解为压缩函数，以可迭代的对象作为参数，将对象中对应的元素打包成一个个元组，返回由这些元组组成的对象以达成节约内存的作用。</p>
<p>%02x：x表示以16进制输出，02表示不足两位，前面补0输出</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ang"
      src="/images/ang.jpg">
  <p class="site-author-name" itemprop="name">Ang</p>
  <div class="site-description" itemprop="description">Why do learn?</div>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/ang-sagapo" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ang-sagapo" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ang</span>
</div>
<!--
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>
-->

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
